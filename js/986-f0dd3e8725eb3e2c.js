try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="cdf8560a-e1b1-4ea2-a869-a59a6d866367",e._sentryDebugIdIdentifier="sentry-dbid-cdf8560a-e1b1-4ea2-a869-a59a6d866367")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[986],{17:e=>{"use strict";e.exports=Object},552:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=i(r(79922)),a=i(r(9219));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){(0,n.default)(e);var r=t?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return(0,a.default)(e,r)}e.exports=t.default,e.exports.default=t.default},1156:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={defaultEasing:function(e){return e<.5?Math.pow(2*e,2)/2:1-Math.pow((1-e)*2,2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}},1367:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var n=i(r(79922)),a=i(r(29203));function i(e){return e&&e.__esModule?e:{default:e}}var o=/^\(?[+-]?(90(\.0+)?|[1-8]?\d(\.\d+)?)$/,s=/^\s?[+-]?(180(\.0+)?|1[0-7]\d(\.\d+)?|\d{1,2}(\.\d+)?)\)?$/,l=/^(([1-8]?\d)\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|90\D+0\D+0)\D+[NSns]?$/i,u=/^\s*([1-7]?\d{1,2}\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|180\D+0\D+0)\D+[EWew]?$/i,c={checkDMS:!1};function d(e,t){if((0,n.default)(e),t=(0,a.default)(t,c),!e.includes(","))return!1;var r=e.split(",");return!(r[0].startsWith("(")&&!r[1].endsWith(")")||r[1].endsWith(")")&&!r[0].startsWith("("))&&(t.checkDMS?l.test(r[0])&&u.test(r[1]):o.test(r[0])&&s.test(r[1]))}e.exports=t.default,e.exports.default=t.default},1956:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=l(r(55729)),o=l(r(20970)),s=l(r(56121));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function d(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),a(t,[{key:"render",value:function(){var e=this,t=n({},this.props);return t.parentBindings&&delete t.parentBindings,i.default.createElement("div",n({},t,{ref:function(t){e.props.parentBindings.domNode=t}}),this.props.children)}}]),t}(i.default.Component);f.propTypes={name:s.default.string,id:s.default.string},t.default=(0,o.default)(f)},1983:(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}r.d(t,{A:()=>n})},2068:(e,t,r)=>{"use strict";var n=r(16638);e.exports=function(e){return n(e)||0===e?e:e<0?-1:1}},2166:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if((0,n.default)(e),t){var r=RegExp("[".concat(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+$"),"g");return e.replace(r,"")}for(var a=e.length-1;/\s/.test(e.charAt(a));)a-=1;return e.slice(0,a+1)}e.exports=t.default,e.exports.default=t.default},2316:(e,t,r)=>{"use strict";let n=r(77721);e.exports=(e,t,r)=>{let a=new n(e,r),i=new n(t,r);return a.compare(i)||a.compareBuild(i)}},2447:(e,t,r)=>{"use strict";r.d(t,{c:()=>e3});var n,a,i,o,s,l,u,c,d,f,p,h,m,y,g="vercel.ai.error",v=Symbol.for(g),b=class e extends Error{constructor({name:e,message:t,cause:r}){super(t),this[n]=!0,this.name=e,this.cause=r}static isInstance(t){return e.hasMarker(t,g)}static hasMarker(e,t){let r=Symbol.for(t);return null!=e&&"object"==typeof e&&r in e&&"boolean"==typeof e[r]&&!0===e[r]}};n=v;var _=b,w="AI_APICallError",$=`vercel.ai.error.${w}`,S=Symbol.for($),E=class extends _{constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:i,responseBody:o,cause:s,isRetryable:l=null!=n&&(408===n||409===n||429===n||n>=500),data:u}){super({name:w,message:e,cause:s}),this[a]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=i,this.responseBody=o,this.isRetryable=l,this.data=u}static isInstance(e){return _.hasMarker(e,$)}};a=S;var x="AI_EmptyResponseBodyError",A=`vercel.ai.error.${x}`,k=Symbol.for(A),O=class extends _{constructor({message:e="Empty response body"}={}){super({name:x,message:e}),this[i]=!0}static isInstance(e){return _.hasMarker(e,A)}};function I(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}i=k;var C="AI_InvalidArgumentError",T=`vercel.ai.error.${C}`,P=Symbol.for(T),R=class extends _{constructor({message:e,cause:t,argument:r}){super({name:C,message:e,cause:t}),this[o]=!0,this.argument=r}static isInstance(e){return _.hasMarker(e,T)}};o=P;var N="AI_InvalidPromptError";s=Symbol.for(`vercel.ai.error.${N}`);var j="AI_InvalidResponseDataError",M=`vercel.ai.error.${j}`,L=Symbol.for(M),D=class extends _{constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:j,message:t}),this[l]=!0,this.data=e}static isInstance(e){return _.hasMarker(e,M)}};l=L;var B="AI_JSONParseError",F=`vercel.ai.error.${B}`,z=Symbol.for(F),U=class extends _{constructor({text:e,cause:t}){super({name:B,message:`JSON parsing failed: Text: ${e}.
Error message: ${I(t)}`,cause:t}),this[u]=!0,this.text=e}static isInstance(e){return _.hasMarker(e,F)}};u=z;var Z="AI_LoadAPIKeyError",H=`vercel.ai.error.${Z}`,V=Symbol.for(H),W=class extends _{constructor({message:e}){super({name:Z,message:e}),this[c]=!0}static isInstance(e){return _.hasMarker(e,H)}};c=V;var q="AI_LoadSettingError";d=Symbol.for(`vercel.ai.error.${q}`);var K="AI_NoContentGeneratedError";f=Symbol.for(`vercel.ai.error.${K}`);var G="AI_NoSuchModelError",J=`vercel.ai.error.${G}`,Y=Symbol.for(J),X=class extends _{constructor({errorName:e=G,modelId:t,modelType:r,message:n=`No such ${r}: ${t}`}){super({name:e,message:n}),this[p]=!0,this.modelId=t,this.modelType=r}static isInstance(e){return _.hasMarker(e,J)}};p=Y;var Q="AI_TooManyEmbeddingValuesForCallError";h=Symbol.for(`vercel.ai.error.${Q}`);var ee="AI_TypeValidationError",et=`vercel.ai.error.${ee}`,er=Symbol.for(et),en=class e extends _{constructor({value:e,cause:t}){super({name:ee,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${I(t)}`,cause:t}),this[m]=!0,this.value=e}static isInstance(e){return _.hasMarker(e,et)}static wrap({value:t,cause:r}){return e.isInstance(r)&&r.value===t?r:new e({value:t,cause:r})}};m=er;var ea=en,ei="AI_UnsupportedFunctionalityError",eo=`vercel.ai.error.${ei}`,es=Symbol.for(eo),el=class extends _{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:ei,message:t}),this[y]=!0,this.functionality=e}static isInstance(e){return _.hasMarker(e,eo)}};function eu(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||(Array.isArray(e)?e.every(eu):"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&eu(t)))}y=es;let ec=(e,t=21)=>(r=t)=>{let n="",a=0|r;for(;a--;)n+=e[Math.random()*e.length|0];return n};var ed=r(29486),ef=r(29143);function ep(...e){return e.reduce((e,t)=>({...e,...null!=t?t:{}}),{})}function eh(){let e,t,r,n="",a=[];function i(e,t){if(""===e)return void o(t);if(e.startsWith(":"))return;let r=e.indexOf(":");if(-1===r)return void s(e,"");let n=e.slice(0,r),a=r+1;s(n,a<e.length&&" "===e[a]?e.slice(a+1):e.slice(a))}function o(n){a.length>0&&(n.enqueue({event:e,data:a.join("\n"),id:t,retry:r}),a=[],e=void 0,r=void 0)}function s(n,i){switch(n){case"event":e=i;break;case"data":a.push(i);break;case"id":t=i;break;case"retry":let o=parseInt(i,10);isNaN(o)||(r=o)}}return new TransformStream({transform(e,t){let{lines:r,incompleteLine:a}=em(n,e);n=a;for(let e=0;e<r.length;e++)i(r[e],t)},flush(e){i(n,e),o(e)}})}function em(e,t){let r=[],n=e;for(let e=0;e<t.length;){let a=t[e++];"\n"===a?(r.push(n),n=""):"\r"===a?(r.push(n),n="","\n"===t[e]&&e++):n+=a}return{lines:r,incompleteLine:n}}function ey(e){let t={};return e.headers.forEach((e,r)=>{t[r]=e}),t}var eg=(({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let a=ec(r,t);if(null==e)return a;if(r.includes(n))throw new R({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return t=>`${e}${n}${a(t)}`})();function ev(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>null!=t))}function eb(e){return e instanceof Error&&("AbortError"===e.name||"TimeoutError"===e.name)}function e_({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if("string"==typeof e)return e;if(null!=e)throw new W({message:`${n} API key must be a string.`});if(void 0===ef)throw new W({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(null==(e=ef.env[t]))throw new W({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if("string"!=typeof e)throw new W({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}var ew=Symbol.for("vercel.ai.validator");function e$(e){return{[ew]:!0,validate:e}}function eS(e){return"object"==typeof e&&null!==e&&ew in e&&!0===e[ew]&&"validate"in e}function eE(e){return eS(e)?e:ex(e)}function ex(e){return e$(t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}})}function eA({value:e,schema:t}){let r=ek({value:e,schema:t});if(!r.success)throw ea.wrap({value:e,cause:r.error});return r.value}function ek({value:e,schema:t}){let r=eE(t);try{if(null==r.validate)return{success:!0,value:e};let t=r.validate(e);if(t.success)return t;return{success:!1,error:ea.wrap({value:e,cause:t.error})}}catch(t){return{success:!1,error:ea.wrap({value:e,cause:t})}}}function eO({text:e,schema:t}){try{let r=ed.parse(e);if(null==t)return r;return eA({value:r,schema:t})}catch(t){if(U.isInstance(t)||ea.isInstance(t))throw t;throw new U({text:e,cause:t})}}function eI({text:e,schema:t}){try{let r=ed.parse(e);if(null==t)return{success:!0,value:r,rawValue:r};let n=ek({value:r,schema:t});return n.success?{...n,rawValue:r}:n}catch(t){return{success:!1,error:U.isInstance(t)?t:new U({text:e,cause:t})}}}function eC(e){try{return ed.parse(e),!0}catch(e){return!1}}function eT({provider:e,providerOptions:t,schema:r}){if((null==t?void 0:t[e])==null)return;let n=ek({value:t[e],schema:r});if(!n.success)throw new R({argument:"providerOptions",message:`invalid ${e} provider options`,cause:n.error});return n.value}var eP=()=>globalThis.fetch,eR=async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o})=>ej({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o}),eN=async({url:e,headers:t,formData:r,failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o})=>ej({url:e,headers:t,body:{content:r,values:Object.fromEntries(r.entries())},failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o}),ej=async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:a,abortSignal:i,fetch:o=eP()})=>{try{let s=await o(e,{method:"POST",headers:ev(t),body:r.content,signal:i}),l=ey(s);if(!s.ok){let t;try{t=await a({response:s,url:e,requestBodyValues:r.values})}catch(t){if(eb(t)||E.isInstance(t))throw t;throw new E({message:"Failed to process error response",cause:t,statusCode:s.status,url:e,responseHeaders:l,requestBodyValues:r.values})}throw t.value}try{return await n({response:s,url:e,requestBodyValues:r.values})}catch(t){if(t instanceof Error&&(eb(t)||E.isInstance(t)))throw t;throw new E({message:"Failed to process successful response",cause:t,statusCode:s.status,url:e,responseHeaders:l,requestBodyValues:r.values})}}catch(t){if(eb(t))throw t;if(t instanceof TypeError&&"fetch failed"===t.message){let n=t.cause;if(null!=n)throw new E({message:`Cannot connect to API: ${n.message}`,cause:n,url:e,requestBodyValues:r.values,isRetryable:!0})}throw t}},eM=({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:a,requestBodyValues:i})=>{let o=await n.text(),s=ey(n);if(""===o.trim())return{responseHeaders:s,value:new E({message:n.statusText,url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,isRetryable:null==r?void 0:r(n)})};try{let l=eO({text:o,schema:e});return{responseHeaders:s,value:new E({message:t(l),url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,data:l,isRetryable:null==r?void 0:r(n,l)})}}catch(e){return{responseHeaders:s,value:new E({message:n.statusText,url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,isRetryable:null==r?void 0:r(n)})}}},eL=e=>async({response:t})=>{let r=ey(t);if(null==t.body)throw new O({});return{responseHeaders:r,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(eh()).pipeThrough(new TransformStream({transform({data:t},r){"[DONE]"!==t&&r.enqueue(eI({text:t,schema:e}))}}))}},eD=e=>async({response:t,url:r,requestBodyValues:n})=>{let a=await t.text(),i=eI({text:a,schema:e}),o=ey(t);if(!i.success)throw new E({message:"Invalid JSON response",cause:i.error,statusCode:t.status,responseHeaders:o,responseBody:a,url:r,requestBodyValues:n});return{responseHeaders:o,value:i.value,rawValue:i.rawValue}},{btoa:eB,atob:eF}=globalThis;function ez(e){let t=eF(e.replace(/-/g,"+").replace(/_/g,"/"));return Uint8Array.from(t,e=>e.codePointAt(0))}function eU(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return eB(t)}function eZ(e){return null==e?void 0:e.replace(/\/$/,"")}var eH=r(31078);function eV(e){let t=[];for(let{role:r,content:n}of e)switch(r){case"system":t.push({role:"system",content:n});break;case"user":if(1===n.length&&"text"===n[0].type){t.push({role:"user",content:n[0].text});break}t.push({role:"user",content:n.map(e=>{var t;switch(e.type){case"text":return{type:"text",text:e.text};case"image":return{type:"image_url",image_url:{url:e.image instanceof URL?e.image.toString():`data:${null!=(t=e.mimeType)?t:"image/jpeg"};base64,${eU(e.image)}`}};case"file":throw new el({functionality:"File content parts in user messages"})}})});break;case"assistant":{let e="",r=[];for(let t of n)switch(t.type){case"text":e+=t.text;break;case"tool-call":r.push({id:t.toolCallId,type:"function",function:{name:t.toolName,arguments:JSON.stringify(t.args)}})}t.push({role:"assistant",content:e,tool_calls:r.length>0?r:void 0});break}case"tool":for(let e of n)t.push({role:"tool",tool_call_id:e.toolCallId,content:JSON.stringify(e.result)});break;default:{let e=r;throw Error(`Unsupported role: ${e}`)}}return t}function eW({id:e,model:t,created:r}){return{id:null!=e?e:void 0,modelId:null!=t?t:void 0,timestamp:null!=r?new Date(1e3*r):void 0}}var eq=eH.z.object({error:eH.z.object({message:eH.z.string(),type:eH.z.string()})}),eK=eM({errorSchema:eq,errorToMessage:e=>e.error.message});function eG({mode:e}){var t;let r=(null==(t=e.tools)?void 0:t.length)?e.tools:void 0,n=[];if(null==r)return{tools:void 0,tool_choice:void 0,toolWarnings:n};let a=e.toolChoice,i=[];for(let e of r)"provider-defined"===e.type?n.push({type:"unsupported-tool",tool:e}):i.push({type:"function",function:{name:e.name,description:e.description,parameters:e.parameters}});if(null==a)return{tools:i,tool_choice:void 0,toolWarnings:n};let o=a.type;switch(o){case"auto":case"none":case"required":return{tools:i,tool_choice:o,toolWarnings:n};case"tool":return{tools:i,tool_choice:{type:"function",function:{name:a.toolName}},toolWarnings:n};default:{let e=o;throw new el({functionality:`Unsupported tool choice type: ${e}`})}}}function eJ(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var eY=class{constructor(e,t,r){this.specificationVersion="v1",this.supportsStructuredOutputs=!1,this.defaultObjectGenerationMode="json",this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}get supportsImageUrls(){return!this.settings.downloadImages}getArgs({mode:e,prompt:t,maxTokens:r,temperature:n,topP:a,topK:i,frequencyPenalty:o,presencePenalty:s,stopSequences:l,responseFormat:u,seed:c,stream:d,providerMetadata:f}){let p=e.type,h=[];null!=i&&h.push({type:"unsupported-setting",setting:"topK"}),null!=u&&"json"===u.type&&null!=u.schema&&h.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is not supported"});let m=eT({provider:"groq",providerOptions:f,schema:eH.z.object({reasoningFormat:eH.z.enum(["parsed","raw","hidden"]).nullish()})}),y={model:this.modelId,user:this.settings.user,parallel_tool_calls:this.settings.parallelToolCalls,max_tokens:r,temperature:n,top_p:a,frequency_penalty:o,presence_penalty:s,stop:l,seed:c,response_format:!1===d&&(null==u?void 0:u.type)==="json"?{type:"json_object"}:void 0,reasoning_format:null==m?void 0:m.reasoningFormat,messages:eV(t)};switch(p){case"regular":{let{tools:t,tool_choice:r,toolWarnings:n}=eG({mode:e});return{args:{...y,tools:t,tool_choice:r},warnings:[...h,...n]}}case"object-json":return{args:{...y,response_format:!1===d?{type:"json_object"}:void 0},warnings:h};case"object-tool":return{args:{...y,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}}]},warnings:h};default:{let e=p;throw Error(`Unsupported type: ${e}`)}}}async doGenerate(e){var t,r,n,a,i,o,s;let{args:l,warnings:u}=this.getArgs({...e,stream:!1}),c=JSON.stringify(l),{responseHeaders:d,value:f,rawValue:p}=await eR({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:ep(this.config.headers(),e.headers),body:l,failedResponseHandler:eK,successfulResponseHandler:eD(eX),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:h,...m}=l,y=f.choices[0];return{text:null!=(t=y.message.content)?t:void 0,reasoning:null!=(r=y.message.reasoning)?r:void 0,toolCalls:null==(n=y.message.tool_calls)?void 0:n.map(e=>{var t;return{toolCallType:"function",toolCallId:null!=(t=e.id)?t:eg(),toolName:e.function.name,args:e.function.arguments}}),finishReason:eJ(y.finish_reason),usage:{promptTokens:null!=(i=null==(a=f.usage)?void 0:a.prompt_tokens)?i:NaN,completionTokens:null!=(s=null==(o=f.usage)?void 0:o.completion_tokens)?s:NaN},rawCall:{rawPrompt:h,rawSettings:m},rawResponse:{headers:d,body:p},response:eW(f),warnings:u,request:{body:c}}}async doStream(e){let t,{args:r,warnings:n}=this.getArgs({...e,stream:!0}),a=JSON.stringify({...r,stream:!0}),{responseHeaders:i,value:o}=await eR({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:ep(this.config.headers(),e.headers),body:{...r,stream:!0},failedResponseHandler:eK,successfulResponseHandler:eL(eQ),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:s,...l}=r,u=[],c="unknown",d={promptTokens:void 0,completionTokens:void 0},f=!0;return{stream:o.pipeThrough(new TransformStream({transform(e,t){var r,n,a,i,o,s,l,p,h,m,y,g,v,b,_;if(!e.success){c="error",t.enqueue({type:"error",error:e.error});return}let w=e.value;if("error"in w){c="error",t.enqueue({type:"error",error:w.error});return}f&&(f=!1,t.enqueue({type:"response-metadata",...eW(w)})),(null==(r=w.x_groq)?void 0:r.usage)!=null&&(d={promptTokens:null!=(n=w.x_groq.usage.prompt_tokens)?n:void 0,completionTokens:null!=(a=w.x_groq.usage.completion_tokens)?a:void 0});let $=w.choices[0];if((null==$?void 0:$.finish_reason)!=null&&(c=eJ($.finish_reason)),(null==$?void 0:$.delta)==null)return;let S=$.delta;if(null!=S.reasoning&&S.reasoning.length>0&&t.enqueue({type:"reasoning",textDelta:S.reasoning}),null!=S.content&&S.content.length>0&&t.enqueue({type:"text-delta",textDelta:S.content}),null!=S.tool_calls)for(let e of S.tool_calls){let r=e.index;if(null==u[r]){if("function"!==e.type)throw new D({data:e,message:"Expected 'function' type."});if(null==e.id)throw new D({data:e,message:"Expected 'id' to be a string."});if((null==(i=e.function)?void 0:i.name)==null)throw new D({data:e,message:"Expected 'function.name' to be a string."});u[r]={id:e.id,type:"function",function:{name:e.function.name,arguments:null!=(o=e.function.arguments)?o:""},hasFinished:!1};let n=u[r];(null==(s=n.function)?void 0:s.name)!=null&&(null==(l=n.function)?void 0:l.arguments)!=null&&(n.function.arguments.length>0&&t.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:n.id,toolName:n.function.name,argsTextDelta:n.function.arguments}),eC(n.function.arguments)&&(t.enqueue({type:"tool-call",toolCallType:"function",toolCallId:null!=(p=n.id)?p:eg(),toolName:n.function.name,args:n.function.arguments}),n.hasFinished=!0));continue}let n=u[r];!n.hasFinished&&((null==(h=e.function)?void 0:h.arguments)!=null&&(n.function.arguments+=null!=(y=null==(m=e.function)?void 0:m.arguments)?y:""),t.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:n.id,toolName:n.function.name,argsTextDelta:null!=(g=e.function.arguments)?g:""}),(null==(v=n.function)?void 0:v.name)!=null&&(null==(b=n.function)?void 0:b.arguments)!=null&&eC(n.function.arguments)&&(t.enqueue({type:"tool-call",toolCallType:"function",toolCallId:null!=(_=n.id)?_:eg(),toolName:n.function.name,args:n.function.arguments}),n.hasFinished=!0))}},flush(e){var r,n;e.enqueue({type:"finish",finishReason:c,usage:{promptTokens:null!=(r=d.promptTokens)?r:NaN,completionTokens:null!=(n=d.completionTokens)?n:NaN},...null!=t?{providerMetadata:t}:{}})}})),rawCall:{rawPrompt:s,rawSettings:l},rawResponse:{headers:i},warnings:n,request:{body:a}}}},eX=eH.z.object({id:eH.z.string().nullish(),created:eH.z.number().nullish(),model:eH.z.string().nullish(),choices:eH.z.array(eH.z.object({message:eH.z.object({content:eH.z.string().nullish(),reasoning:eH.z.string().nullish(),tool_calls:eH.z.array(eH.z.object({id:eH.z.string().nullish(),type:eH.z.literal("function"),function:eH.z.object({name:eH.z.string(),arguments:eH.z.string()})})).nullish()}),index:eH.z.number(),finish_reason:eH.z.string().nullish()})),usage:eH.z.object({prompt_tokens:eH.z.number().nullish(),completion_tokens:eH.z.number().nullish()}).nullish()}),eQ=eH.z.union([eH.z.object({id:eH.z.string().nullish(),created:eH.z.number().nullish(),model:eH.z.string().nullish(),choices:eH.z.array(eH.z.object({delta:eH.z.object({content:eH.z.string().nullish(),reasoning:eH.z.string().nullish(),tool_calls:eH.z.array(eH.z.object({index:eH.z.number(),id:eH.z.string().nullish(),type:eH.z.literal("function").optional(),function:eH.z.object({name:eH.z.string().nullish(),arguments:eH.z.string().nullish()})})).nullish()}).nullish(),finish_reason:eH.z.string().nullable().optional(),index:eH.z.number()})),x_groq:eH.z.object({usage:eH.z.object({prompt_tokens:eH.z.number().nullish(),completion_tokens:eH.z.number().nullish()}).nullish()}).nullish()}),eq]),e0=eH.z.object({language:eH.z.string().nullish(),prompt:eH.z.string().nullish(),responseFormat:eH.z.string().nullish(),temperature:eH.z.number().min(0).max(1).nullish(),timestampGranularities:eH.z.array(eH.z.string()).nullish()}),e1=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v1"}get provider(){return this.config.provider}getArgs({audio:e,mediaType:t,providerOptions:r}){var n,a,i,o,s;let l=[],u=eT({provider:"groq",providerOptions:r,schema:e0}),c=new FormData,d=e instanceof Uint8Array?new Blob([e]):new Blob([ez(e)]);if(c.append("model",this.modelId),c.append("file",new File([d],"audio",{type:t})),u){let e={language:null!=(n=u.language)?n:void 0,prompt:null!=(a=u.prompt)?a:void 0,response_format:null!=(i=u.responseFormat)?i:void 0,temperature:null!=(o=u.temperature)?o:void 0,timestamp_granularities:null!=(s=u.timestampGranularities)?s:void 0};for(let t in e){let r=e[t];void 0!==r&&c.append(t,String(r))}}return{formData:c,warnings:l}}async doGenerate(e){var t,r,n,a,i;let o=null!=(n=null==(r=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:r.call(t))?n:new Date,{formData:s,warnings:l}=this.getArgs(e),{value:u,responseHeaders:c,rawValue:d}=await eN({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:ep(this.config.headers(),e.headers),formData:s,failedResponseHandler:eK,successfulResponseHandler:eD(e2),abortSignal:e.abortSignal,fetch:this.config.fetch});return{text:u.text,segments:null!=(i=null==(a=u.segments)?void 0:a.map(e=>({text:e.text,startSecond:e.start,endSecond:e.end})))?i:[],language:u.language,durationInSeconds:u.duration,warnings:l,response:{timestamp:o,modelId:this.modelId,headers:c,body:d}}}},e2=eH.z.object({task:eH.z.string(),language:eH.z.string(),duration:eH.z.number(),text:eH.z.string(),segments:eH.z.array(eH.z.object({id:eH.z.number(),seek:eH.z.number(),start:eH.z.number(),end:eH.z.number(),text:eH.z.string(),tokens:eH.z.array(eH.z.number()),temperature:eH.z.number(),avg_logprob:eH.z.number(),compression_ratio:eH.z.number(),no_speech_prob:eH.z.number()})),x_groq:eH.z.object({id:eH.z.string()})});function e3(e={}){var t;let r=null!=(t=eZ(e.baseURL))?t:"https://api.groq.com/openai/v1",n=()=>({Authorization:`Bearer ${e_({apiKey:e.apiKey,environmentVariableName:"GROQ_API_KEY",description:"Groq"})}`,...e.headers}),a=(t,a={})=>new eY(t,a,{provider:"groq.chat",url:({path:e})=>`${r}${e}`,headers:n,fetch:e.fetch}),i=(e,t)=>{if(new.target)throw Error("The Groq model function cannot be called with the new keyword.");return a(e,t)},o=t=>new e1(t,{provider:"groq.transcription",url:({path:e})=>`${r}${e}`,headers:n,fetch:e.fetch}),s=function(e,t){return i(e,t)};return s.languageModel=i,s.chat=a,s.textEmbeddingModel=e=>{throw new X({modelId:e,modelType:"textEmbeddingModel"})},s.transcription=o,s}e3()},3140:(e,t,r)=>{"use strict";var n,a=r(17),i=r(74002),o=r(61924),s=r(44451),l=r(43339),u=r(69497),c=r(72206),d=r(7016),f=r(33923),p=r(91925),h=r(37025),m=r(75739),y=r(41605),g=r(41167),v=r(2068),b=Function,_=function(e){try{return b('"use strict"; return ('+e+").constructor;")()}catch(e){}},w=r(27654),$=r(3194),S=function(){throw new c},E=w?function(){try{return arguments.callee,S}catch(e){try{return w(arguments,"callee").get}catch(e){return S}}}():S,x=r(72562)(),A=r(50865),k=r(61429),O=r(92709),I=r(57379),C=r(95185),T={},P="undefined"!=typeof Uint8Array&&A?A(Uint8Array):n,R={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":x&&A?A([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":T,"%AsyncGenerator%":T,"%AsyncGeneratorFunction%":T,"%AsyncIteratorPrototype%":T,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":o,"%Float16Array%":"undefined"==typeof Float16Array?n:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":b,"%GeneratorFunction%":T,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":x&&A?A(A([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&x&&A?A(new Map()[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":a,"%Object.getOwnPropertyDescriptor%":w,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":s,"%ReferenceError%":l,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&x&&A?A(new Set()[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":x&&A?A(""[Symbol.iterator]()):n,"%Symbol%":x?Symbol:n,"%SyntaxError%":u,"%ThrowTypeError%":E,"%TypedArray%":P,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":d,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%Function.prototype.call%":C,"%Function.prototype.apply%":I,"%Object.defineProperty%":$,"%Object.getPrototypeOf%":k,"%Math.abs%":f,"%Math.floor%":p,"%Math.max%":h,"%Math.min%":m,"%Math.pow%":y,"%Math.round%":g,"%Math.sign%":v,"%Reflect.getPrototypeOf%":O};if(A)try{null.error}catch(e){var N=A(A(e));R["%Error.prototype%"]=N}var j=function e(t){var r;if("%AsyncFunction%"===t)r=_("async function () {}");else if("%GeneratorFunction%"===t)r=_("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=_("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var a=e("%AsyncGenerator%");a&&A&&(r=A(a.prototype))}return R[t]=r,r},M={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},L=r(14274),D=r(98516),B=L.call(C,Array.prototype.concat),F=L.call(I,Array.prototype.splice),z=L.call(C,String.prototype.replace),U=L.call(C,String.prototype.slice),Z=L.call(C,RegExp.prototype.exec),H=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,V=/\\(\\)?/g,W=function(e){var t=U(e,0,1),r=U(e,-1);if("%"===t&&"%"!==r)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new u("invalid intrinsic syntax, expected opening `%`");var n=[];return z(e,H,function(e,t,r,a){n[n.length]=r?z(a,V,"$1"):t||e}),n},q=function(e,t){var r,n=e;if(D(M,n)&&(n="%"+(r=M[n])[0]+"%"),D(R,n)){var a=R[n];if(a===T&&(a=j(n)),void 0===a&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:a}}throw new u("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===Z(/^%?[^%]*%?$/,e))throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=W(e),n=r.length>0?r[0]:"",a=q("%"+n+"%",t),i=a.name,o=a.value,s=!1,l=a.alias;l&&(n=l[0],F(r,B([0,1],l)));for(var d=1,f=!0;d<r.length;d+=1){var p=r[d],h=U(p,0,1),m=U(p,-1);if(('"'===h||"'"===h||"`"===h||'"'===m||"'"===m||"`"===m)&&h!==m)throw new u("property names with quotes must have matching quotes");if("constructor"!==p&&f||(s=!0),n+="."+p,D(R,i="%"+n+"%"))o=R[i];else if(null!=o){if(!(p in o)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(w&&d+1>=r.length){var y=w(o,p);o=(f=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:o[p]}else f=D(o,p),o=o[p];f&&!s&&(R[i]=o)}}return o}},3194:e=>{"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(e){t=!1}e.exports=t},3347:(e,t,r)=>{var n,a=r(61769).Buffer,i=r(62701),o=r(59139),s=r(84864),l='"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',u="secret must be a string or buffer",c="key must be a string or a buffer",d="key must be a string, a buffer or an object",f="function"==typeof i.createPublicKey;function p(e){if(!a.isBuffer(e)&&"string"!=typeof e&&(!f||"object"!=typeof e||"string"!=typeof e.type||"string"!=typeof e.asymmetricKeyType||"function"!=typeof e.export))throw v(c)}function h(e){if(!a.isBuffer(e)&&"string"!=typeof e&&"object"!=typeof e)throw v(d)}function m(e){if(!a.isBuffer(e)){if("string"==typeof e)return e;if(!f||"object"!=typeof e||"secret"!==e.type||"function"!=typeof e.export)throw v(u)}}function y(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function g(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var r=0;r<t;++r)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function v(e){var t=[].slice.call(arguments,1);return TypeError(s.format.bind(s,e).apply(null,t))}function b(e){return a.isBuffer(e)||"string"==typeof e}function _(e){return b(e)||(e=JSON.stringify(e)),e}function w(e){return function(t,r){m(r),t=_(t);var n=i.createHmac("sha"+e,r);return y((n.update(t),n.digest("base64")))}}f&&(c+=" or a KeyObject",u+="or a KeyObject");var $="timingSafeEqual"in i?function(e,t){return e.byteLength===t.byteLength&&i.timingSafeEqual(e,t)}:function(e,t){return n||(n=r(35876)),n(e,t)};function S(e){return function(t,r,n){var i=w(e)(t,n);return $(a.from(r),a.from(i))}}function E(e){return function(t,r){h(r),t=_(t);var n=i.createSign("RSA-SHA"+e);return y((n.update(t),n.sign(r,"base64")))}}function x(e){return function(t,r,n){p(n),t=_(t),r=g(r);var a=i.createVerify("RSA-SHA"+e);return a.update(t),a.verify(n,r,"base64")}}function A(e){return function(t,r){h(r),t=_(t);var n=i.createSign("RSA-SHA"+e);return y((n.update(t),n.sign({key:r,padding:i.constants.RSA_PKCS1_PSS_PADDING,saltLength:i.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function k(e){return function(t,r,n){p(n),t=_(t),r=g(r);var a=i.createVerify("RSA-SHA"+e);return a.update(t),a.verify({key:n,padding:i.constants.RSA_PKCS1_PSS_PADDING,saltLength:i.constants.RSA_PSS_SALTLEN_DIGEST},r,"base64")}}function O(e){var t=E(e);return function(){var r=t.apply(null,arguments);return o.derToJose(r,"ES"+e)}}function I(e){var t=x(e);return function(r,n,a){return t(r,n=o.joseToDer(n,"ES"+e).toString("base64"),a)}}function C(){return function(){return""}}function T(){return function(e,t){return""===t}}e.exports=function(e){var t={hs:w,rs:E,ps:A,es:O,none:C},r={hs:S,rs:x,ps:k,es:I,none:T},n=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!n)throw v(l,e);var a=(n[1]||n[3]).toLowerCase(),i=n[2];return{sign:t[a](i),verify:r[a](i)}}},3387:e=>{"use strict";e.exports=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},3476:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){(0,n.default)(e),"object"===i(t)?(r=t.min||0,a=t.max):(r=arguments[1]||0,a=arguments[2]);var r,a,o=e.match(/(\uFE0F|\uFE0E)/g)||[],s=e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],l=e.length-o.length-s.length;return l>=r&&(void 0===a||l<=a)}e.exports=t.default,e.exports.default=t.default},4140:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4264:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContentRect=function(e){if("getBBox"in e){var t=e.getBBox();return Object.freeze({height:t.height,left:0,top:0,width:t.width})}var r=window.getComputedStyle(e);return Object.freeze({height:parseFloat(r.height||"0"),left:parseFloat(r.paddingLeft||"0"),top:parseFloat(r.paddingTop||"0"),width:parseFloat(r.width||"0")})}},4427:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=/^(0x|0h)?[0-9A-F]+$/i;function o(e){return(0,n.default)(e),i.test(e)}e.exports=t.default,e.exports.default=t.default},4479:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=/[^\x00-\x7F]/;function o(e){return(0,n.default)(e),i.test(e)}e.exports=t.default,e.exports.default=t.default},4658:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var n=i(r(79922)),a=i(r(29203));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s={allow_primitives:!1};function l(e,t){(0,n.default)(e);try{t=(0,a.default)(t,s);var r=[];t.allow_primitives&&(r=[null,!1,!0]);var i=JSON.parse(e);return r.includes(i)||!!i&&"object"===o(i)}catch(e){}return!1}e.exports=t.default,e.exports.default=t.default},5074:(e,t,r)=>{"use strict";let n=/\s+/g;class a{constructor(e,t){if(t=o(t),e instanceof a)if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;else return new a(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(n," "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let e=this.set[0];if(this.set=this.set.filter(e=>!g(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1){for(let e of this.set)if(1===e.length&&v(e[0])){this.set=[e];break}}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let t=((this.options.includePrerelease&&m)|(this.options.loose&&y))+":"+e,r=i.get(t);if(r)return r;let n=this.options.loose,a=n?c[d.HYPHENRANGELOOSE]:c[d.HYPHENRANGE];l("hyphen replace",e=e.replace(a,C(this.options.includePrerelease))),l("comparator trim",e=e.replace(c[d.COMPARATORTRIM],f)),l("tilde trim",e=e.replace(c[d.TILDETRIM],p)),l("caret trim",e=e.replace(c[d.CARETTRIM],h));let o=e.split(" ").map(e=>_(e,this.options)).join(" ").split(/\s+/).map(e=>I(e,this.options));n&&(o=o.filter(e=>(l("loose invalid filter",e,this.options),!!e.match(c[d.COMPARATORLOOSE])))),l("range list",o);let u=new Map;for(let e of o.map(e=>new s(e,this.options))){if(g(e))return[e];u.set(e.value,e)}u.size>1&&u.has("")&&u.delete("");let v=[...u.values()];return i.set(t,v),v}intersects(e,t){if(!(e instanceof a))throw TypeError("a Range is required");return this.set.some(r=>b(r,t)&&e.set.some(e=>b(e,t)&&r.every(r=>e.every(e=>r.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(T(this.set[t],e,this.options))return!0;return!1}}e.exports=a;let i=new(r(77827)),o=r(49694),s=r(50141),l=r(77909),u=r(77721),{safeRe:c,t:d,comparatorTrimReplace:f,tildeTrimReplace:p,caretTrimReplace:h}=r(8887),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:y}=r(66931),g=e=>"<0.0.0-0"===e.value,v=e=>""===e.value,b=(e,t)=>{let r=!0,n=e.slice(),a=n.pop();for(;r&&n.length;)r=n.every(e=>a.intersects(e,t)),a=n.pop();return r},_=(e,t)=>(l("comp",e,t),l("caret",e=E(e,t)),l("tildes",e=$(e,t)),l("xrange",e=A(e,t)),l("stars",e=O(e,t)),e),w=e=>!e||"x"===e.toLowerCase()||"*"===e,$=(e,t)=>e.trim().split(/\s+/).map(e=>S(e,t)).join(" "),S=(e,t)=>{let r=t.loose?c[d.TILDELOOSE]:c[d.TILDE];return e.replace(r,(t,r,n,a,i)=>{let o;return l("tilde",e,t,r,n,a,i),w(r)?o="":w(n)?o=`>=${r}.0.0 <${+r+1}.0.0-0`:w(a)?o=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:i?(l("replaceTilde pr",i),o=`>=${r}.${n}.${a}-${i} <${r}.${+n+1}.0-0`):o=`>=${r}.${n}.${a} <${r}.${+n+1}.0-0`,l("tilde return",o),o})},E=(e,t)=>e.trim().split(/\s+/).map(e=>x(e,t)).join(" "),x=(e,t)=>{l("caret",e,t);let r=t.loose?c[d.CARETLOOSE]:c[d.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(t,r,a,i,o)=>{let s;return l("caret",e,t,r,a,i,o),w(r)?s="":w(a)?s=`>=${r}.0.0${n} <${+r+1}.0.0-0`:w(i)?s="0"===r?`>=${r}.${a}.0${n} <${r}.${+a+1}.0-0`:`>=${r}.${a}.0${n} <${+r+1}.0.0-0`:o?(l("replaceCaret pr",o),s="0"===r?"0"===a?`>=${r}.${a}.${i}-${o} <${r}.${a}.${+i+1}-0`:`>=${r}.${a}.${i}-${o} <${r}.${+a+1}.0-0`:`>=${r}.${a}.${i}-${o} <${+r+1}.0.0-0`):(l("no pr"),s="0"===r?"0"===a?`>=${r}.${a}.${i}${n} <${r}.${a}.${+i+1}-0`:`>=${r}.${a}.${i}${n} <${r}.${+a+1}.0-0`:`>=${r}.${a}.${i} <${+r+1}.0.0-0`),l("caret return",s),s})},A=(e,t)=>(l("replaceXRanges",e,t),e.split(/\s+/).map(e=>k(e,t)).join(" ")),k=(e,t)=>{e=e.trim();let r=t.loose?c[d.XRANGELOOSE]:c[d.XRANGE];return e.replace(r,(r,n,a,i,o,s)=>{l("xRange",e,r,n,a,i,o,s);let u=w(a),c=u||w(i),d=c||w(o),f=d;return"="===n&&f&&(n=""),s=t.includePrerelease?"-0":"",u?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&f?(c&&(i=0),o=0,">"===n?(n=">=",c?(a=+a+1,i=0):i=+i+1,o=0):"<="===n&&(n="<",c?a=+a+1:i=+i+1),"<"===n&&(s="-0"),r=`${n+a}.${i}.${o}${s}`):c?r=`>=${a}.0.0${s} <${+a+1}.0.0-0`:d&&(r=`>=${a}.${i}.0${s} <${a}.${+i+1}.0-0`),l("xRange return",r),r})},O=(e,t)=>(l("replaceStars",e,t),e.trim().replace(c[d.STAR],"")),I=(e,t)=>(l("replaceGTE0",e,t),e.trim().replace(c[t.includePrerelease?d.GTE0PRE:d.GTE0],"")),C=e=>(t,r,n,a,i,o,s,l,u,c,d,f)=>(r=w(n)?"":w(a)?`>=${n}.0.0${e?"-0":""}`:w(i)?`>=${n}.${a}.0${e?"-0":""}`:o?`>=${r}`:`>=${r}${e?"-0":""}`,l=w(u)?"":w(c)?`<${+u+1}.0.0-0`:w(d)?`<${u}.${+c+1}.0-0`:f?`<=${u}.${c}.${d}-${f}`:e?`<${u}.${c}.${+d+1}-0`:`<=${l}`,`${r} ${l}`.trim()),T=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(l(e[r].semver),e[r].semver!==s.ANY&&e[r].semver.prerelease.length>0){let n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},5387:(e,t,r)=>{"use strict";var n=r(24245),a=Object.prototype.hasOwnProperty,i=Array.isArray,o={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},l=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},u="utf8=%26%2310003%3B",c="utf8=%E2%9C%93",d=function(e,t){var r={__proto__:null},d=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,f=t.parameterLimit===1/0?void 0:t.parameterLimit,p=d.split(t.delimiter,f),h=-1,m=t.charset;if(t.charsetSentinel)for(y=0;y<p.length;++y)0===p[y].indexOf("utf8=")&&(p[y]===c?m="utf-8":p[y]===u&&(m="iso-8859-1"),h=y,y=p.length);for(y=0;y<p.length;++y)if(y!==h){var y,g,v,b=p[y],_=b.indexOf("]="),w=-1===_?b.indexOf("="):_+1;-1===w?(g=t.decoder(b,o.decoder,m,"key"),v=t.strictNullHandling?null:""):(g=t.decoder(b.slice(0,w),o.decoder,m,"key"),v=n.maybeMap(l(b.slice(w+1),t),function(e){return t.decoder(e,o.decoder,m,"value")})),v&&t.interpretNumericEntities&&"iso-8859-1"===m&&(v=s(v)),b.indexOf("[]=")>-1&&(v=i(v)?[v]:v),a.call(r,g)?r[g]=n.combine(r[g],v):r[g]=v}return r},f=function(e,t,r,n){for(var a=n?t:l(t,r),i=e.length-1;i>=0;--i){var o,s=e[i];if("[]"===s&&r.parseArrays)o=[].concat(a);else{o=r.plainObjects?Object.create(null):{};var u="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,c=parseInt(u,10);r.parseArrays||""!==u?!isNaN(c)&&s!==u&&String(c)===u&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(o=[])[c]=a:"__proto__"!==u&&(o[u]=a):o={0:a}}a=o}return a},p=function(e,t,r,n){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,l=r.depth>0&&o.exec(i),u=l?i.slice(0,l.index):i,c=[];if(u){if(!r.plainObjects&&a.call(Object.prototype,u)&&!r.allowPrototypes)return;c.push(u)}for(var d=0;r.depth>0&&null!==(l=s.exec(i))&&d<r.depth;){if(d+=1,!r.plainObjects&&a.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(l[1])}return l&&c.push("["+i.slice(l.index)+"]"),f(c,t,r,n)}},h=function(e){if(!e)return o;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?o.charset:e.charset;return{allowDots:void 0===e.allowDots?o.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:o.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:o.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:o.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:o.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:o.comma,decoder:"function"==typeof e.decoder?e.decoder:o.decoder,delimiter:"string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:o.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:o.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:o.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:o.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:o.strictNullHandling}};e.exports=function(e,t){var r=h(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var a="string"==typeof e?d(e,r):e,i=r.plainObjects?Object.create(null):{},o=Object.keys(a),s=0;s<o.length;++s){var l=o[s],u=p(l,a[l],r,"string"==typeof e);i=n.merge(i,u,r)}return!0===r.allowSparse?i:n.compact(i)}},5440:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=r(55729).createContext(null)},5464:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i={loose:!1},o=["true","false","1","0"],s=[].concat(o,["yes","no"]);function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;return((0,n.default)(e),t.loose)?s.includes(e.toLowerCase()):o.includes(e)}e.exports=t.default,e.exports.default=t.default},6385:module=>{var __dirname="/";!function(){var __webpack_modules__={950:function(__unused_webpack_module,exports){var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return r;return -1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e)t.push(r);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,r){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(e){return function(e,t,r){e[t]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var r=t.contentWindow,n=r.eval,a=r.execScript;!n&&a&&(a.call(r,"null"),n=r.eval),forEach(Object_keys(e),function(t){r[t]=e[t]}),forEach(globals,function(t){e[t]&&(r[t]=e[t])});var i=Object_keys(r),o=n.call(r,this.code);return forEach(Object_keys(r),function(t){(t in e||-1===indexOf(i,t))&&(e[t]=r[t])}),forEach(globals,function(t){t in e||defineProp(e,t,r[t])}),document.body.removeChild(t),o},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),r=this.runInContext(t);return e&&forEach(Object_keys(t),function(r){e[r]=t[r]}),r},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var r=Script(t);return r[e].apply(r,[].slice.call(arguments,1))}}),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(r){t[r]=e[r]}),t}}};"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab=__dirname+"/");var __nested_webpack_exports__={};__webpack_modules__[950](0,__nested_webpack_exports__),module.exports=__nested_webpack_exports__}()},6746:(e,t,r)=>{var n=r(29143);e.exports=r(77012).satisfies(n.version,">=16.9.0")},6772:(e,t,r)=>{e.exports=r(85432)},6833:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return(0,n.default)(e),e===t}e.exports=t.default,e.exports.default=t.default},7016:e=>{"use strict";e.exports=URIError},7978:e=>{"use strict";e.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},8759:(e,t,r)=>{"use strict";let n=r(5074);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},8887:(e,t,r)=>{"use strict";let{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:a,MAX_LENGTH:i}=r(66931),o=r(77909),s=(t=e.exports={}).re=[],l=t.safeRe=[],u=t.src=[],c=t.safeSrc=[],d=t.t={},f=0,p="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[p,a]],m=e=>{for(let[t,r]of h)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},y=(e,t,r)=>{let n=m(t),a=f++;o(e,a,t),d[e]=a,u[a]=t,c[a]=n,s[a]=new RegExp(t,r?"g":void 0),l[a]=new RegExp(n,r?"g":void 0)};y("NUMERICIDENTIFIER","0|[1-9]\\d*"),y("NUMERICIDENTIFIERLOOSE","\\d+"),y("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),y("MAINVERSION",`(${u[d.NUMERICIDENTIFIER]})\\.(${u[d.NUMERICIDENTIFIER]})\\.(${u[d.NUMERICIDENTIFIER]})`),y("MAINVERSIONLOOSE",`(${u[d.NUMERICIDENTIFIERLOOSE]})\\.(${u[d.NUMERICIDENTIFIERLOOSE]})\\.(${u[d.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASEIDENTIFIER",`(?:${u[d.NONNUMERICIDENTIFIER]}|${u[d.NUMERICIDENTIFIER]})`),y("PRERELEASEIDENTIFIERLOOSE",`(?:${u[d.NONNUMERICIDENTIFIER]}|${u[d.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASE",`(?:-(${u[d.PRERELEASEIDENTIFIER]}(?:\\.${u[d.PRERELEASEIDENTIFIER]})*))`),y("PRERELEASELOOSE",`(?:-?(${u[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[d.PRERELEASEIDENTIFIERLOOSE]})*))`),y("BUILDIDENTIFIER",`${p}+`),y("BUILD",`(?:\\+(${u[d.BUILDIDENTIFIER]}(?:\\.${u[d.BUILDIDENTIFIER]})*))`),y("FULLPLAIN",`v?${u[d.MAINVERSION]}${u[d.PRERELEASE]}?${u[d.BUILD]}?`),y("FULL",`^${u[d.FULLPLAIN]}$`),y("LOOSEPLAIN",`[v=\\s]*${u[d.MAINVERSIONLOOSE]}${u[d.PRERELEASELOOSE]}?${u[d.BUILD]}?`),y("LOOSE",`^${u[d.LOOSEPLAIN]}$`),y("GTLT","((?:<|>)?=?)"),y("XRANGEIDENTIFIERLOOSE",`${u[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),y("XRANGEIDENTIFIER",`${u[d.NUMERICIDENTIFIER]}|x|X|\\*`),y("XRANGEPLAIN",`[v=\\s]*(${u[d.XRANGEIDENTIFIER]})(?:\\.(${u[d.XRANGEIDENTIFIER]})(?:\\.(${u[d.XRANGEIDENTIFIER]})(?:${u[d.PRERELEASE]})?${u[d.BUILD]}?)?)?`),y("XRANGEPLAINLOOSE",`[v=\\s]*(${u[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[d.XRANGEIDENTIFIERLOOSE]})(?:${u[d.PRERELEASELOOSE]})?${u[d.BUILD]}?)?)?`),y("XRANGE",`^${u[d.GTLT]}\\s*${u[d.XRANGEPLAIN]}$`),y("XRANGELOOSE",`^${u[d.GTLT]}\\s*${u[d.XRANGEPLAINLOOSE]}$`),y("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),y("COERCE",`${u[d.COERCEPLAIN]}(?:$|[^\\d])`),y("COERCEFULL",u[d.COERCEPLAIN]+`(?:${u[d.PRERELEASE]})?`+`(?:${u[d.BUILD]})?`+"(?:$|[^\\d])"),y("COERCERTL",u[d.COERCE],!0),y("COERCERTLFULL",u[d.COERCEFULL],!0),y("LONETILDE","(?:~>?)"),y("TILDETRIM",`(\\s*)${u[d.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",y("TILDE",`^${u[d.LONETILDE]}${u[d.XRANGEPLAIN]}$`),y("TILDELOOSE",`^${u[d.LONETILDE]}${u[d.XRANGEPLAINLOOSE]}$`),y("LONECARET","(?:\\^)"),y("CARETTRIM",`(\\s*)${u[d.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",y("CARET",`^${u[d.LONECARET]}${u[d.XRANGEPLAIN]}$`),y("CARETLOOSE",`^${u[d.LONECARET]}${u[d.XRANGEPLAINLOOSE]}$`),y("COMPARATORLOOSE",`^${u[d.GTLT]}\\s*(${u[d.LOOSEPLAIN]})$|^$`),y("COMPARATOR",`^${u[d.GTLT]}\\s*(${u[d.FULLPLAIN]})$|^$`),y("COMPARATORTRIM",`(\\s*)${u[d.GTLT]}\\s*(${u[d.LOOSEPLAIN]}|${u[d.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",y("HYPHENRANGE",`^\\s*(${u[d.XRANGEPLAIN]})\\s+-\\s+(${u[d.XRANGEPLAIN]})\\s*$`),y("HYPHENRANGELOOSE",`^\\s*(${u[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[d.XRANGEPLAINLOOSE]})\\s*$`),y("STAR","(<|>)?=?\\s*\\*"),y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},9219:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return(0,n.default)(e),e.replace(RegExp("[".concat(t,"]+"),"g"),"")}e.exports=t.default,e.exports.default=t.default},9354:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addPassiveEventListener=function(e,t,r){var n=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}();e.addEventListener(t,r,!!n&&{passive:!0})},t.removePassiveEventListener=function(e,t,r){e.removeEventListener(t,r)}},9823:(e,t,r)=>{var n=r(51642),a=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return a(e,t,r)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=o),o.prototype=Object.create(a.prototype),i(a,o),o.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return a(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=a(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return a(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},10594:(e,t,r)=>{var n=r(67264);e.exports=function(e,t){var r=t||Math.floor(Date.now()/1e3);if("string"==typeof e){var a=n(e);if(void 0===a)return;return Math.floor(r+a/1e3)}if("number"==typeof e)return r+e}},10898:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9354),a=["mousedown","mousewheel","touchmove","keydown"];t.default={subscribe:function(e){return"undefined"!=typeof document&&a.forEach(function(t){return(0,n.addPassiveEventListener)(document,t,e)})}}},11335:(e,t,r)=>{"use strict";r.d(t,{H:()=>n});class n extends Error{constructor(e,t,r){let n=e.status||0===e.status?e.status:"",a=e.statusText||"",i=`${n} ${a}`.trim();super(`Request failed with ${i?`status code ${i}`:"an unknown error"}`),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="HTTPError",this.response=e,this.request=t,this.options=r}}},11538:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(9354);var n=a(r(67763));function a(e){return e&&e.__esModule?e:{default:e}}t.default={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(e){this.scroller=e,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(e,t){this.containers[e]=t},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var e=this,t=this.getHash();t?window.setTimeout(function(){e.scrollTo(t,!0),e.initialized=!0},10):this.initialized=!0},scrollTo:function(e,t){var r=this.scroller;if(r.get(e)&&(t||e!==r.getActiveLink())){var n=this.containers[e]||document;r.scrollTo(e,{container:n})}},getHash:function(){return n.default.getHash()},changeHash:function(e,t){this.isInitialized()&&n.default.getHash()!==e&&n.default.updateHash(e,t)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}}},11732:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=/^(?:[0-9]{9}X|[0-9]{10})$/,o=/^(?:[0-9]{13})$/,s=[1,3];function l(e,t){(0,n.default)(e);var r=String((null==t?void 0:t.version)||t);if(!(null!=t&&t.version||t))return l(e,{version:10})||l(e,{version:13});var a=e.replace(/[\s-]+/g,""),u=0;if("10"===r){if(!i.test(a))return!1;for(var c=0;c<r-1;c++)u+=(c+1)*a.charAt(c);if("X"===a.charAt(9)?u+=100:u+=10*a.charAt(9),u%11==0)return!0}else if("13"===r){if(!o.test(a))return!1;for(var d=0;d<12;d++)u+=s[d%2]*a.charAt(d);if(a.charAt(12)-(10-u%10)%10==0)return!0}return!1}e.exports=t.default,e.exports.default=t.default},12260:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=/(?:^magnet:\?|[^?&]&)xt(?:\.1)?=urn:(?:(?:aich|bitprint|btih|ed2k|ed2khash|kzhash|md5|sha1|tree:tiger):[a-z0-9]{32}(?:[a-z0-9]{8})?|btmh:1220[a-z0-9]{64})(?:$|&)/i;function o(e){return(0,n.default)(e),0===e.indexOf("magnet:?")&&i.test(e)}e.exports=t.default,e.exports.default=t.default},12396:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=ee;var a=u(r(79922)),i=l(r(93563)),o=u(r(57300));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return h(e)||p(e)||f(e)||d()}function d(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}}function p(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){if(Array.isArray(e))return m(e)}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function y(e){var t=e.slice(0,2),r=parseInt(e.slice(2,4),10);r>40?(r-=40,t="20".concat(t)):r>20?(r-=20,t="18".concat(t)):t="19".concat(t),r<10&&(r="0".concat(r));var n="".concat(t,"/").concat(r,"/").concat(e.slice(4,6));if(!(0,o.default)(n,"YYYY/MM/DD"))return!1;for(var a=e.split("").map(function(e){return parseInt(e,10)}),i=[2,4,8,5,10,9,7,3,6],s=0,l=0;l<i.length;l++)s+=a[l]*i[l];return(s=s%11==10?0:s%11)===a[9]}function g(e){var t=e.split(""),r=t.filter(function(e,t){return t%2}).map(function(e){return 2*Number(e)}).join("").split("");return t.filter(function(e,t){return!(t%2)}).concat(r).map(function(e){return Number(e)}).reduce(function(e,t){return e+t})%10==0}function v(e){var t=parseInt((e=e.replace(/\W/,"")).slice(0,2),10);if(10===e.length)t=t<54?"20".concat(t):"19".concat(t);else{if("000"===e.slice(6)||!(t<54))return!1;t="19".concat(t)}3===t.length&&(t=[t.slice(0,2),"0",t.slice(2)].join(""));var r=parseInt(e.slice(2,4),10);if(r>50&&(r-=50),r>20){if(2004>parseInt(t,10))return!1;r-=20}r<10&&(r="0".concat(r));var n="".concat(t,"/").concat(r,"/").concat(e.slice(4,6));if(!(0,o.default)(n,"YYYY/MM/DD"))return!1;if(10===e.length&&parseInt(e,10)%11!=0){var a=parseInt(e.slice(0,9),10)%11;if(!(1986>parseInt(t,10))||10!==a||0!==parseInt(e.slice(9),10))return!1}return!0}function b(e){return i.luhnCheck(e)}function _(e){for(var t=e.split("").map(function(e){return parseInt(e,10)}),r=[],n=0;n<t.length-1;n++){r.push("");for(var a=0;a<t.length-1;a++)t[n]===t[a]&&(r[n]+=a)}if(2!==(r=r.filter(function(e){return e.length>1})).length&&3!==r.length)return!1;if(3===r[0].length){for(var o=r[0].split("").map(function(e){return parseInt(e,10)}),s=0,l=0;l<o.length-1;l++)o[l]+1===o[l+1]&&(s+=1);if(2===s)return!1}return i.iso7064Check(e)}function w(e){var t=parseInt((e=e.replace(/\W/,"")).slice(4,6),10);switch(e.slice(6,7)){case"0":case"1":case"2":case"3":t="19".concat(t);break;case"4":case"9":t=t<37?"20".concat(t):"19".concat(t);break;default:if(t<37)t="20".concat(t);else{if(!(t>58))return!1;t="18".concat(t)}}3===t.length&&(t=[t.slice(0,2),"0",t.slice(2)].join(""));var r="".concat(t,"/").concat(e.slice(2,4),"/").concat(e.slice(0,2));if(!(0,o.default)(r,"YYYY/MM/DD"))return!1;for(var n=e.split("").map(function(e){return parseInt(e,10)}),a=0,i=4,s=0;s<9;s++)a+=n[s]*i,1==(i-=1)&&(i=7);return 1!=(a%=11)&&(0===a?0===n[9]:n[9]===11-a)}function $(e){for(var t=e.slice(0,8).split("").map(function(e){return parseInt(e,10)}),r=0,n=1;n<t.length;n+=2)r+=t[n];for(var a=0;a<t.length;a+=2)t[a]<2?r+=1-t[a]:(r+=2*(t[a]-2)+5,t[a]>4&&(r+=2));return String.fromCharCode(r%26+65)===e.charAt(8)}function S(e){for(var t=e.split("").map(function(e){return parseInt(e,10)}),r=0,n=0;n<8;n++)r+=t[n]*Math.pow(2,8-n);return r%11%10===t[8]}function E(e){var t=i.reverseMultiplyAndSum(e.split("").slice(0,7).map(function(e){return parseInt(e,10)}),8);return(9===e.length&&"W"!==e[8]&&(t+=(e[8].charCodeAt(0)-64)*9),0==(t%=23))?"W"===e[7].toUpperCase():e[7].toUpperCase()===String.fromCharCode(64+t)}var x={andover:["10","12"],atlanta:["60","67"],austin:["50","53"],brookhaven:["01","02","03","04","05","06","11","13","14","16","21","22","23","25","34","51","52","54","55","56","57","58","59","65"],cincinnati:["30","32","35","36","37","38","61"],fresno:["15","24"],internet:["20","26","27","45","46","47"],kansas:["40","44"],memphis:["94","95"],ogden:["80","90"],philadelphia:["33","39","41","42","43","46","48","62","63","64","66","68","71","72","73","74","75","76","77","81","82","83","84","85","86","87","88","91","92","93","98","99"],sba:["31"]};function A(){var e=[];for(var t in x)x.hasOwnProperty(t)&&e.push.apply(e,c(x[t]));return e}function k(e){return -1!==A().indexOf(e.slice(0,2))}function O(e){for(var t=0,r=e.split(""),n=parseInt(r.pop(),10),a=0;a<r.length;a++)t+=r[9-a]*(2+a%6);var i=11-t%11;return 11===i?i=0:10===i&&(i=9),n===i}function I(e){var t=e.toUpperCase().split("");if(isNaN(parseInt(t[0],10))&&t.length>1){var r=0;switch(t[0]){case"Y":r=1;break;case"Z":r=2}t.splice(0,1,r)}else for(;t.length<9;)t.unshift(0);var n=["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"],a=parseInt((t=t.join("")).slice(0,8),10)%23;return t[8]===n[a]}function C(e){var t=e.slice(1,3);switch(e.slice(0,1)){case"1":case"2":t="18".concat(t);break;case"3":case"4":t="19".concat(t);break;default:t="20".concat(t)}var r="".concat(t,"/").concat(e.slice(3,5),"/").concat(e.slice(5,7));if(!(0,o.default)(r,"YYYY/MM/DD"))return!1;for(var n=e.split("").map(function(e){return parseInt(e,10)}),a=0,i=1,s=0;s<10;s++)a+=n[s]*i,10===(i+=1)&&(i=1);if(a%11==10){a=0,i=3;for(var l=0;l<10;l++)a+=n[l]*i,10===(i+=1)&&(i=1);if(a%11==10)return 0===n[10]}return a%11===n[10]}function T(e){var t=e.slice(4,6);switch(e.slice(6,7)){case"+":t="18".concat(t);break;case"-":t="19".concat(t);break;default:t="20".concat(t)}var r="".concat(t,"/").concat(e.slice(2,4),"/").concat(e.slice(0,2));if(!(0,o.default)(r,"YYYY/MM/DD"))return!1;var n=parseInt(e.slice(0,6)+e.slice(7,10),10)%31;return n<10?n===parseInt(e.slice(10),10):["A","B","C","D","E","F","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y"][n-=10]===e.slice(10)}function P(e){if("00"!==e.slice(2,4)||"00"!==e.slice(4,6)){var t="".concat(e.slice(0,2),"/").concat(e.slice(2,4),"/").concat(e.slice(4,6));if(!(0,o.default)(t,"YY/MM/DD"))return!1}var r=97-parseInt(e.slice(0,9),10)%97,n=parseInt(e.slice(9,11),10);return(r===n||(r=97-parseInt("2".concat(e.slice(0,9)),10)%97)===n)&&!0}function R(e){return parseInt((e=e.replace(/\s/g,"")).slice(0,10),10)%511===parseInt(e.slice(10,13),10)}function N(e){var t="".concat(e.slice(0,4),"/").concat(e.slice(4,6),"/").concat(e.slice(6,8));return!!(0,o.default)(t,"YYYY/MM/DD")&&!!i.luhnCheck(e.slice(0,12))&&i.verhoeffCheck("".concat(e.slice(0,11)).concat(e[12]))}function j(e){return i.iso7064Check(e)}function M(e){for(var t=e.split("").map(function(e){return parseInt(e,10)}),r=8,n=1;n<9;n++)r+=t[n]*(n+1);return r%11===t[9]}function L(e){for(var t=!1,r=!1,n=0;n<3;n++)if(!t&&/[AEIOU]/.test(e[n]))t=!0;else if(!r&&t&&"X"===e[n])r=!0;else if(n>0&&(t&&!r&&!/[AEIOU]/.test(e[n])||r&&!/X/.test(e[n])))return!1;return!0}function D(e){var t=e.toUpperCase().split("");if(!L(t.slice(0,3))||!L(t.slice(3,6)))return!1;for(var r=[6,7,9,10,12,13,14],n={L:"0",M:"1",N:"2",P:"3",Q:"4",R:"5",S:"6",T:"7",U:"8",V:"9"},a=0,i=r;a<i.length;a++){var s=i[a];t[s]in n&&t.splice(s,1,n[t[s]])}var l={A:"01",B:"02",C:"03",D:"04",E:"05",H:"06",L:"07",M:"08",P:"09",R:"10",S:"11",T:"12"}[t[8]],u=parseInt(t[9]+t[10],10);u>40&&(u-=40),u<10&&(u="0".concat(u));var c="".concat(t[6]).concat(t[7],"/").concat(l,"/").concat(u);if(!(0,o.default)(c,"YY/MM/DD"))return!1;for(var d=0,f=1;f<t.length-1;f+=2){var p=parseInt(t[f],10);isNaN(p)&&(p=t[f].charCodeAt(0)-65),d+=p}for(var h={A:1,B:0,C:5,D:7,E:9,F:13,G:15,H:17,I:19,J:21,K:2,L:4,M:18,N:20,O:11,P:3,Q:6,R:8,S:12,T:14,U:16,V:10,W:22,X:25,Y:24,Z:23,0:1,1:0},m=0;m<t.length-1;m+=2){var y=0;if(t[m]in h)y=h[t[m]];else{var g=parseInt(t[m],10);y=2*g+1,g>4&&(y+=2)}d+=y}return String.fromCharCode(65+d%26)===t[15]}function B(e){var t=(e=e.replace(/\W/,"")).slice(0,2);if("32"!==t){if("00"!==e.slice(2,4)){var r=e.slice(4,6);switch(e[6]){case"0":r="18".concat(r);break;case"1":r="19".concat(r);break;default:r="20".concat(r)}var n="".concat(r,"/").concat(e.slice(2,4),"/").concat(t);if(!(0,o.default)(n,"YYYY/MM/DD"))return!1}for(var a=1101,i=[1,6,3,7,9,10,5,8,4,2],s=0;s<e.length-1;s++)a-=parseInt(e[s],10)*i[s];return parseInt(e[10],10)===a%11}return!0}function F(e){if(9!==e.length){for(var t=e.toUpperCase().split("");t.length<8;)t.unshift(0);switch(e[7]){case"A":case"P":if(0===parseInt(t[6],10))return!1;break;default:var r=parseInt(t.join("").slice(0,5),10);if(r>32e3||r===parseInt(t.join("").slice(5,7),10))return!1}}return!0}function z(e){return i.reverseMultiplyAndSum(e.split("").slice(0,8).map(function(e){return parseInt(e,10)}),9)%11===parseInt(e[8],10)}function U(e){if(10===e.length){for(var t=[6,5,7,2,3,4,5,6,7],r=0,n=0;n<t.length;n++)r+=parseInt(e[n],10)*t[n];return 10!=(r%=11)&&r===parseInt(e[9],10)}var a=e.slice(0,2),i=parseInt(e.slice(2,4),10);i>80?(a="18".concat(a),i-=80):i>60?(a="22".concat(a),i-=60):i>40?(a="21".concat(a),i-=40):i>20?(a="20".concat(a),i-=20):a="19".concat(a),i<10&&(i="0".concat(i));var s="".concat(a,"/").concat(i,"/").concat(e.slice(4,6));if(!(0,o.default)(s,"YYYY/MM/DD"))return!1;for(var l=0,u=1,c=0;c<e.length-1;c++)l+=parseInt(e[c],10)*u%10,(u+=2)>10?u=1:5===u&&(u+=2);return(l=10-l%10)===parseInt(e[10],10)}function Z(e){if(11===e.length){if(t=0,"11111111111"===e||"22222222222"===e||"33333333333"===e||"44444444444"===e||"55555555555"===e||"66666666666"===e||"77777777777"===e||"88888888888"===e||"99999999999"===e||"00000000000"===e)return!1;for(var t,r,n=1;n<=9;n++)t+=parseInt(e.substring(n-1,n),10)*(11-n);if(10==(r=10*t%11)&&(r=0),r!==parseInt(e.substring(9,10),10))return!1;t=0;for(var a=1;a<=10;a++)t+=parseInt(e.substring(a-1,a),10)*(12-a);return 10==(r=10*t%11)&&(r=0),r===parseInt(e.substring(10,11),10)}if("00000000000000"===e||"11111111111111"===e||"22222222222222"===e||"33333333333333"===e||"44444444444444"===e||"55555555555555"===e||"66666666666666"===e||"77777777777777"===e||"88888888888888"===e||"99999999999999"===e)return!1;for(var i=e.length-2,o=e.substring(0,i),s=e.substring(i),l=0,u=i-7,c=i;c>=1;c--)l+=o.charAt(i-c)*u,(u-=1)<2&&(u=9);var d=l%11<2?0:11-l%11;if(d!==parseInt(s.charAt(0),10))return!1;i+=1,o=e.substring(0,i),l=0,u=i-7;for(var f=i;f>=1;f--)l+=o.charAt(i-f)*u,(u-=1)<2&&(u=9);return(d=l%11<2?0:11-l%11)===parseInt(s.charAt(1),10)}function H(e){var t=11-i.reverseMultiplyAndSum(e.split("").slice(0,8).map(function(e){return parseInt(e,10)}),9)%11;return t>9?0===parseInt(e[8],10):t===parseInt(e[8],10)}function V(e){if("9000"!==e.slice(0,4)){var t=e.slice(1,3);switch(e[0]){case"1":case"2":t="19".concat(t);break;case"3":case"4":t="18".concat(t);break;case"5":case"6":t="20".concat(t)}var r="".concat(t,"/").concat(e.slice(3,5),"/").concat(e.slice(5,7));if(8===r.length){if(!(0,o.default)(r,"YY/MM/DD"))return!1}else if(!(0,o.default)(r,"YYYY/MM/DD"))return!1;for(var n=e.split("").map(function(e){return parseInt(e,10)}),a=[2,7,9,1,4,6,3,5,8,2,7,9],i=0,s=0;s<a.length;s++)i+=n[s]*a[s];return i%11==10?1===n[12]:n[12]===i%11}return!0}function W(e){if(9===e.length){if("000"===(e=e.replace(/\W/,"")).slice(6))return!1;var t=parseInt(e.slice(0,2),10);if(t>53)return!1;t=t<10?"190".concat(t):"19".concat(t);var r=parseInt(e.slice(2,4),10);r>50&&(r-=50),r<10&&(r="0".concat(r));var n="".concat(t,"/").concat(r,"/").concat(e.slice(4,6));if(!(0,o.default)(n,"YYYY/MM/DD"))return!1}return!0}function q(e){var t=11-i.reverseMultiplyAndSum(e.split("").slice(0,7).map(function(e){return parseInt(e,10)}),8)%11;return 10===t?0===parseInt(e[7],10):t===parseInt(e[7],10)}function K(e){var t=e.slice(0);e.length>11&&(t=t.slice(2));var r="",n=t.slice(2,4),a=parseInt(t.slice(4,6),10);if(e.length>11)r=e.slice(0,4);else if(r=e.slice(0,2),11===e.length&&a<60){var s=new Date().getFullYear().toString(),l=parseInt(s.slice(0,2),10);if(s=parseInt(s,10),"-"===e[6])r=parseInt("".concat(l).concat(r),10)>s?"".concat(l-1).concat(r):"".concat(l).concat(r);else if(s-parseInt(r="".concat(l-1).concat(r),10)<100)return!1}a>60&&(a-=60),a<10&&(a="0".concat(a));var u="".concat(r,"/").concat(n,"/").concat(a);if(8===u.length){if(!(0,o.default)(u,"YY/MM/DD"))return!1}else if(!(0,o.default)(u,"YYYY/MM/DD"))return!1;return i.luhnCheck(e.replace(/\W/,""))}function G(e){for(var t=e.split("").map(function(e){return parseInt(e,10)}),r=[-1,5,7,9,4,6,10,5,7],n=0,a=0;a<r.length;a++)n+=t[a]*r[a];return n%11==10?0===t[9]:t[9]===n%11}var J={"bg-BG":/^\d{10}$/,"cs-CZ":/^\d{6}\/{0,1}\d{3,4}$/,"de-AT":/^\d{9}$/,"de-DE":/^[1-9]\d{10}$/,"dk-DK":/^\d{6}-{0,1}\d{4}$/,"el-CY":/^[09]\d{7}[A-Z]$/,"el-GR":/^([0-4]|[7-9])\d{8}$/,"en-CA":/^\d{9}$/,"en-GB":/^\d{10}$|^(?!GB|NK|TN|ZZ)(?![DFIQUV])[A-Z](?![DFIQUVO])[A-Z]\d{6}[ABCD ]$/i,"en-IE":/^\d{7}[A-W][A-IW]{0,1}$/i,"en-US":/^\d{2}[- ]{0,1}\d{7}$/,"es-AR":/(20|23|24|27|30|33|34)[0-9]{8}[0-9]/,"es-ES":/^(\d{0,8}|[XYZKLM]\d{7})[A-HJ-NP-TV-Z]$/i,"et-EE":/^[1-6]\d{6}(00[1-9]|0[1-9][0-9]|[1-6][0-9]{2}|70[0-9]|710)\d$/,"fi-FI":/^\d{6}[-+A]\d{3}[0-9A-FHJ-NPR-Y]$/i,"fr-BE":/^\d{11}$/,"fr-FR":/^[0-3]\d{12}$|^[0-3]\d\s\d{2}(\s\d{3}){3}$/,"fr-LU":/^\d{13}$/,"hr-HR":/^\d{11}$/,"hu-HU":/^8\d{9}$/,"it-IT":/^[A-Z]{6}[L-NP-V0-9]{2}[A-EHLMPRST][L-NP-V0-9]{2}[A-ILMZ][L-NP-V0-9]{3}[A-Z]$/i,"lv-LV":/^\d{6}-{0,1}\d{5}$/,"mt-MT":/^\d{3,7}[APMGLHBZ]$|^([1-8])\1\d{7}$/i,"nl-NL":/^\d{9}$/,"pl-PL":/^\d{10,11}$/,"pt-BR":/(?:^\d{11}$)|(?:^\d{14}$)/,"pt-PT":/^\d{9}$/,"ro-RO":/^\d{13}$/,"sk-SK":/^\d{6}\/{0,1}\d{3,4}$/,"sl-SI":/^[1-9]\d{7}$/,"sv-SE":/^(\d{6}[-+]{0,1}\d{4}|(18|19|20)\d{6}[-+]{0,1}\d{4})$/,"uk-UA":/^\d{10}$/};J["lb-LU"]=J["fr-LU"],J["lt-LT"]=J["et-EE"],J["nl-BE"]=J["fr-BE"],J["fr-CA"]=J["en-CA"];var Y={"bg-BG":y,"cs-CZ":v,"de-AT":b,"de-DE":_,"dk-DK":w,"el-CY":$,"el-GR":S,"en-CA":g,"en-IE":E,"en-US":k,"es-AR":O,"es-ES":I,"et-EE":C,"fi-FI":T,"fr-BE":P,"fr-FR":R,"fr-LU":N,"hr-HR":j,"hu-HU":M,"it-IT":D,"lv-LV":B,"mt-MT":F,"nl-NL":z,"pl-PL":U,"pt-BR":Z,"pt-PT":H,"ro-RO":V,"sk-SK":W,"sl-SI":q,"sv-SE":K,"uk-UA":G};Y["lb-LU"]=Y["fr-LU"],Y["lt-LT"]=Y["et-EE"],Y["nl-BE"]=Y["fr-BE"],Y["fr-CA"]=Y["en-CA"];var X=/[-\\\/!@#$%\^&\*\(\)\+\=\[\]]+/g,Q={"de-AT":X,"de-DE":/[\/\\]/g,"fr-BE":X};function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";(0,a.default)(e);var r=e.slice(0);if(t in J)return t in Q&&(r=r.replace(Q[t],"")),!!J[t].test(r)&&(!(t in Y)||Y[t](r));throw Error("Invalid locale '".concat(t,"'"))}Q["nl-BE"]=Q["fr-BE"],e.exports=t.default,e.exports.default=t.default},13108:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){(0,n.default)(e);var r=t?RegExp("^[".concat(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+"),"g"):/^\s+/g;return e.replace(r,"")}e.exports=t.default,e.exports.default=t.default},13536:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},13941:(e,t,r)=>{"use strict";let n=r(5074),a=r(50141),{ANY:i}=a,o=r(8759),s=r(26189),l=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let a=!1;e:for(let n of e.set){for(let e of t.set){let t=d(n,e,r);if(a=a||null!==t,t)continue e}if(a)return!1}return!0},u=[new a(">=0.0.0-0")],c=[new a(">=0.0.0")],d=(e,t,r)=>{let n,a,l,d,h,m,y;if(e===t)return!0;if(1===e.length&&e[0].semver===i)if(1===t.length&&t[0].semver===i)return!0;else e=r.includePrerelease?u:c;if(1===t.length&&t[0].semver===i)if(r.includePrerelease)return!0;else t=c;let g=new Set;for(let t of e)">"===t.operator||">="===t.operator?n=f(n,t,r):"<"===t.operator||"<="===t.operator?a=p(a,t,r):g.add(t.semver);if(g.size>1)return null;if(n&&a&&((l=s(n.semver,a.semver,r))>0||0===l&&(">="!==n.operator||"<="!==a.operator)))return null;for(let e of g){if(n&&!o(e,String(n),r)||a&&!o(e,String(a),r))return null;for(let n of t)if(!o(e,String(n),r))return!1;return!0}let v=!!a&&!r.includePrerelease&&!!a.semver.prerelease.length&&a.semver,b=!!n&&!r.includePrerelease&&!!n.semver.prerelease.length&&n.semver;for(let e of(v&&1===v.prerelease.length&&"<"===a.operator&&0===v.prerelease[0]&&(v=!1),t)){if(y=y||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,n){if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),">"===e.operator||">="===e.operator){if((d=f(n,e,r))===e&&d!==n)return!1}else if(">="===n.operator&&!o(n.semver,String(e),r))return!1}if(a){if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),"<"===e.operator||"<="===e.operator){if((h=p(a,e,r))===e&&h!==a)return!1}else if("<="===a.operator&&!o(a.semver,String(e),r))return!1}if(!e.operator&&(a||n)&&0!==l)return!1}return(!n||!m||!!a||0===l)&&(!a||!y||!!n||0===l)&&!b&&!v&&!0},f=(e,t,r)=>{if(!e)return t;let n=s(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},p=(e,t,r)=>{if(!e)return t;let n=s(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=l},14274:(e,t,r)=>{"use strict";var n=r(80656);e.exports=Function.prototype.bind||n},14287:(e,t,r)=>{"use strict";r.d(t,{Di:()=>C,M3:()=>N,b8:()=>er,bD:()=>_,cj:()=>ea,eM:()=>W,hL:()=>E,iM:()=>X,k9:()=>ei,u1:()=>A,u6:()=>B});var n,a,i,o,s,l,u,c,d,f,p,h,m,y,g="vercel.ai.error",v=Symbol.for(g),b=class e extends Error{constructor({name:e,message:t,cause:r}){super(t),this[n]=!0,this.name=e,this.cause=r}static isInstance(t){return e.hasMarker(t,g)}static hasMarker(e,t){let r=Symbol.for(t);return null!=e&&"object"==typeof e&&r in e&&"boolean"==typeof e[r]&&!0===e[r]}};n=v;var _=b,w="AI_APICallError",$=`vercel.ai.error.${w}`,S=Symbol.for($),E=class extends _{constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:i,responseBody:o,cause:s,isRetryable:l=null!=n&&(408===n||409===n||429===n||n>=500),data:u}){super({name:w,message:e,cause:s}),this[a]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=i,this.responseBody=o,this.isRetryable=l,this.data=u}static isInstance(e){return _.hasMarker(e,$)}};a=S;var x="AI_EmptyResponseBodyError";function A(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}i=Symbol.for(`vercel.ai.error.${x}`);var k="AI_InvalidArgumentError",O=`vercel.ai.error.${k}`,I=Symbol.for(O),C=class extends _{constructor({message:e,cause:t,argument:r}){super({name:k,message:e,cause:t}),this[o]=!0,this.argument=r}static isInstance(e){return _.hasMarker(e,O)}};o=I;var T="AI_InvalidPromptError",P=`vercel.ai.error.${T}`,R=Symbol.for(P),N=class extends _{constructor({prompt:e,message:t,cause:r}){super({name:T,message:`Invalid prompt: ${t}`,cause:r}),this[s]=!0,this.prompt=e}static isInstance(e){return _.hasMarker(e,P)}};s=R;var j="AI_InvalidResponseDataError";l=Symbol.for(`vercel.ai.error.${j}`);var M="AI_JSONParseError",L=`vercel.ai.error.${M}`,D=Symbol.for(L),B=class extends _{constructor({text:e,cause:t}){super({name:M,message:`JSON parsing failed: Text: ${e}.
Error message: ${A(t)}`,cause:t}),this[u]=!0,this.text=e}static isInstance(e){return _.hasMarker(e,L)}};u=D;var F="AI_LoadAPIKeyError";c=Symbol.for(`vercel.ai.error.${F}`);var z="AI_LoadSettingError";d=Symbol.for(`vercel.ai.error.${z}`);var U="AI_NoContentGeneratedError";f=Symbol.for(`vercel.ai.error.${U}`);var Z="AI_NoSuchModelError",H=`vercel.ai.error.${Z}`,V=Symbol.for(H),W=class extends _{constructor({errorName:e=Z,modelId:t,modelType:r,message:n=`No such ${r}: ${t}`}){super({name:e,message:n}),this[p]=!0,this.modelId=t,this.modelType=r}static isInstance(e){return _.hasMarker(e,H)}};p=V;var q="AI_TooManyEmbeddingValuesForCallError";h=Symbol.for(`vercel.ai.error.${q}`);var K="AI_TypeValidationError",G=`vercel.ai.error.${K}`,J=Symbol.for(G),Y=class e extends _{constructor({value:e,cause:t}){super({name:K,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${A(t)}`,cause:t}),this[m]=!0,this.value=e}static isInstance(e){return _.hasMarker(e,G)}static wrap({value:t,cause:r}){return e.isInstance(r)&&r.value===t?r:new e({value:t,cause:r})}};m=J;var X=Y,Q="AI_UnsupportedFunctionalityError",ee=`vercel.ai.error.${Q}`,et=Symbol.for(ee),er=class extends _{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:Q,message:t}),this[y]=!0,this.functionality=e}static isInstance(e){return _.hasMarker(e,ee)}};function en(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||(Array.isArray(e)?e.every(en):"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&en(t)))}function ea(e){return Array.isArray(e)&&e.every(en)}function ei(e){return null!=e&&"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&en(t))}y=et},14576:(e,t,r)=>{"use strict";let n;r.d(t,{g:()=>rh});var a,i,o,s,l,u,c,d,f,p,h,m,y,g,v,b,_,w,$="vercel.ai.error",S=Symbol.for($),E=class e extends Error{constructor({name:e,message:t,cause:r}){super(t),this[a]=!0,this.name=e,this.cause=r}static isInstance(t){return e.hasMarker(t,$)}static hasMarker(e,t){let r=Symbol.for(t);return null!=e&&"object"==typeof e&&r in e&&"boolean"==typeof e[r]&&!0===e[r]}};a=S;var x=E,A="AI_APICallError",k=`vercel.ai.error.${A}`,O=Symbol.for(k),I=class extends x{constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:a,responseBody:o,cause:s,isRetryable:l=null!=n&&(408===n||409===n||429===n||n>=500),data:u}){super({name:A,message:e,cause:s}),this[i]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=a,this.responseBody=o,this.isRetryable=l,this.data=u}static isInstance(e){return x.hasMarker(e,k)}};i=O;var C="AI_EmptyResponseBodyError",T=`vercel.ai.error.${C}`,P=Symbol.for(T),R=class extends x{constructor({message:e="Empty response body"}={}){super({name:C,message:e}),this[o]=!0}static isInstance(e){return x.hasMarker(e,T)}};function N(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}o=P;var j="AI_InvalidArgumentError",M=`vercel.ai.error.${j}`,L=Symbol.for(M),D=class extends x{constructor({message:e,cause:t,argument:r}){super({name:j,message:e,cause:t}),this[s]=!0,this.argument=r}static isInstance(e){return x.hasMarker(e,M)}};s=L;var B="AI_InvalidPromptError";l=Symbol.for(`vercel.ai.error.${B}`);var F="AI_InvalidResponseDataError";u=Symbol.for(`vercel.ai.error.${F}`);var z="AI_JSONParseError",U=`vercel.ai.error.${z}`,Z=Symbol.for(U),H=class extends x{constructor({text:e,cause:t}){super({name:z,message:`JSON parsing failed: Text: ${e}.
Error message: ${N(t)}`,cause:t}),this[c]=!0,this.text=e}static isInstance(e){return x.hasMarker(e,U)}};c=Z;var V="AI_LoadAPIKeyError",W=`vercel.ai.error.${V}`,q=Symbol.for(W),K=class extends x{constructor({message:e}){super({name:V,message:e}),this[d]=!0}static isInstance(e){return x.hasMarker(e,W)}};d=q;var G="AI_LoadSettingError";f=Symbol.for(`vercel.ai.error.${G}`);var J="AI_NoContentGeneratedError";p=Symbol.for(`vercel.ai.error.${J}`);var Y="AI_NoSuchModelError";h=Symbol.for(`vercel.ai.error.${Y}`);var X="AI_TooManyEmbeddingValuesForCallError";m=Symbol.for(`vercel.ai.error.${X}`);var Q="AI_TypeValidationError",ee=`vercel.ai.error.${Q}`,et=Symbol.for(ee),er=class e extends x{constructor({value:e,cause:t}){super({name:Q,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${N(t)}`,cause:t}),this[y]=!0,this.value=e}static isInstance(e){return x.hasMarker(e,ee)}static wrap({value:t,cause:r}){return e.isInstance(r)&&r.value===t?r:new e({value:t,cause:r})}};y=et;var en=er,ea="AI_UnsupportedFunctionalityError";function ei(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||(Array.isArray(e)?e.every(ei):"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&ei(t)))}g=Symbol.for(`vercel.ai.error.${ea}`);let eo=(e,t=21)=>(r=t)=>{let n="",a=0|r;for(;a--;)n+=e[Math.random()*e.length|0];return n};var es=r(29486),el=r(29143);function eu(...e){return e.reduce((e,t)=>({...e,...null!=t?t:{}}),{})}function ec(){let e,t,r,n="",a=[];function i(e,t){if(""===e)return void o(t);if(e.startsWith(":"))return;let r=e.indexOf(":");if(-1===r)return void s(e,"");let n=e.slice(0,r),a=r+1;s(n,a<e.length&&" "===e[a]?e.slice(a+1):e.slice(a))}function o(n){a.length>0&&(n.enqueue({event:e,data:a.join("\n"),id:t,retry:r}),a=[],e=void 0,r=void 0)}function s(n,i){switch(n){case"event":e=i;break;case"data":a.push(i);break;case"id":t=i;break;case"retry":let o=parseInt(i,10);isNaN(o)||(r=o)}}return new TransformStream({transform(e,t){let{lines:r,incompleteLine:a}=ed(n,e);n=a;for(let e=0;e<r.length;e++)i(r[e],t)},flush(e){i(n,e),o(e)}})}function ed(e,t){let r=[],n=e;for(let e=0;e<t.length;){let a=t[e++];"\n"===a?(r.push(n),n=""):"\r"===a?(r.push(n),n="","\n"===t[e]&&e++):n+=a}return{lines:r,incompleteLine:n}}function ef(e){let t={};return e.headers.forEach((e,r)=>{t[r]=e}),t}var ep=(({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let a=eo(r,t);if(null==e)return a;if(r.includes(n))throw new D({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return t=>`${e}${n}${a(t)}`})();function eh(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>null!=t))}function em(e){return e instanceof Error&&("AbortError"===e.name||"TimeoutError"===e.name)}function ey({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if("string"==typeof e)return e;if(null!=e)throw new K({message:`${n} API key must be a string.`});if(void 0===el)throw new K({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(null==(e=el.env[t]))throw new K({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if("string"!=typeof e)throw new K({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}var eg=Symbol.for("vercel.ai.validator");function ev(e){return{[eg]:!0,validate:e}}function eb(e){return"object"==typeof e&&null!==e&&eg in e&&!0===e[eg]&&"validate"in e}function e_(e){return eb(e)?e:ew(e)}function ew(e){return ev(t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}})}function e$({value:e,schema:t}){let r=eS({value:e,schema:t});if(!r.success)throw en.wrap({value:e,cause:r.error});return r.value}function eS({value:e,schema:t}){let r=e_(t);try{if(null==r.validate)return{success:!0,value:e};let t=r.validate(e);if(t.success)return t;return{success:!1,error:en.wrap({value:e,cause:t.error})}}catch(t){return{success:!1,error:en.wrap({value:e,cause:t})}}}function eE({text:e,schema:t}){try{let r=es.parse(e);if(null==t)return r;return e$({value:r,schema:t})}catch(t){if(H.isInstance(t)||en.isInstance(t))throw t;throw new H({text:e,cause:t})}}function ex({text:e,schema:t}){try{let r=es.parse(e);if(null==t)return{success:!0,value:r,rawValue:r};let n=eS({value:r,schema:t});return n.success?{...n,rawValue:r}:n}catch(t){return{success:!1,error:H.isInstance(t)?t:new H({text:e,cause:t})}}}var eA=()=>globalThis.fetch,ek=async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o})=>eO({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o}),eO=async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:a,abortSignal:i,fetch:o=eA()})=>{try{let s=await o(e,{method:"POST",headers:eh(t),body:r.content,signal:i}),l=ef(s);if(!s.ok){let t;try{t=await a({response:s,url:e,requestBodyValues:r.values})}catch(t){if(em(t)||I.isInstance(t))throw t;throw new I({message:"Failed to process error response",cause:t,statusCode:s.status,url:e,responseHeaders:l,requestBodyValues:r.values})}throw t.value}try{return await n({response:s,url:e,requestBodyValues:r.values})}catch(t){if(t instanceof Error&&(em(t)||I.isInstance(t)))throw t;throw new I({message:"Failed to process successful response",cause:t,statusCode:s.status,url:e,responseHeaders:l,requestBodyValues:r.values})}}catch(t){if(em(t))throw t;if(t instanceof TypeError&&"fetch failed"===t.message){let n=t.cause;if(null!=n)throw new I({message:`Cannot connect to API: ${n.message}`,cause:n,url:e,requestBodyValues:r.values,isRetryable:!0})}throw t}},eI=({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:a,requestBodyValues:i})=>{let o=await n.text(),s=ef(n);if(""===o.trim())return{responseHeaders:s,value:new I({message:n.statusText,url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,isRetryable:null==r?void 0:r(n)})};try{let l=eE({text:o,schema:e});return{responseHeaders:s,value:new I({message:t(l),url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,data:l,isRetryable:null==r?void 0:r(n,l)})}}catch(e){return{responseHeaders:s,value:new I({message:n.statusText,url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,isRetryable:null==r?void 0:r(n)})}}},eC=e=>async({response:t})=>{let r=ef(t);if(null==t.body)throw new R({});return{responseHeaders:r,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(ec()).pipeThrough(new TransformStream({transform({data:t},r){"[DONE]"!==t&&r.enqueue(ex({text:t,schema:e}))}}))}},eT=e=>async({response:t,url:r,requestBodyValues:n})=>{let a=await t.text(),i=ex({text:a,schema:e}),o=ef(t);if(!i.success)throw new I({message:"Invalid JSON response",cause:i.error,statusCode:t.status,responseHeaders:o,responseBody:a,url:r,requestBodyValues:n});return{responseHeaders:o,value:i.value,rawValue:i.rawValue}},{btoa:eP,atob:eR}=globalThis;!function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),n={};for(let e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(v||(v={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(b||(b={}));let eN=v.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ej=e=>{switch(typeof e){case"undefined":return eN.undefined;case"string":return eN.string;case"number":return Number.isNaN(e)?eN.nan:eN.number;case"boolean":return eN.boolean;case"function":return eN.function;case"bigint":return eN.bigint;case"symbol":return eN.symbol;case"object":if(Array.isArray(e))return eN.array;if(null===e)return eN.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return eN.promise;if("undefined"!=typeof Map&&e instanceof Map)return eN.map;if("undefined"!=typeof Set&&e instanceof Set)return eN.set;if("undefined"!=typeof Date&&e instanceof Date)return eN.date;return eN.object;default:return eN.unknown}},eM=v.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class eL extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(n);else if("invalid_return_type"===a.code)n(a.returnTypeError);else if("invalid_arguments"===a.code)n(a.argumentsError);else if(0===a.path.length)r._errors.push(t(a));else{let e=r,n=0;for(;n<a.path.length;){let r=a.path[n];n===a.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(a))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof eL))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,v.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)if(n.path.length>0){let r=n.path[0];t[r]=t[r]||[],t[r].push(e(n))}else r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}eL.create=e=>new eL(e);let eD=(e,t)=>{let r;switch(e.code){case eM.invalid_type:r=e.received===eN.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case eM.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,v.jsonStringifyReplacer)}`;break;case eM.unrecognized_keys:r=`Unrecognized key(s) in object: ${v.joinValues(e.keys,", ")}`;break;case eM.invalid_union:r="Invalid input";break;case eM.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${v.joinValues(e.options)}`;break;case eM.invalid_enum_value:r=`Invalid enum value. Expected ${v.joinValues(e.options)}, received '${e.received}'`;break;case eM.invalid_arguments:r="Invalid function arguments";break;case eM.invalid_return_type:r="Invalid function return type";break;case eM.invalid_date:r="Invalid date";break;case eM.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:v.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case eM.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case eM.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case eM.custom:r="Invalid input";break;case eM.invalid_intersection_types:r="Intersection results could not be merged";break;case eM.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case eM.not_finite:r="Number must be finite";break;default:r=t.defaultError,v.assertNever(e)}return{message:r}},eB=eD;function eF(){return eB}!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(_||(_={}));let ez=e=>{let{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(void 0!==a.message)return{...a,path:i,message:a.message};let s="";for(let e of n.filter(e=>!!e).slice().reverse())s=e(o,{data:t,defaultError:s}).message;return{...a,path:i,message:s}};function eU(e,t){let r=eF(),n=ez({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===eD?void 0:eD].filter(e=>!!e)});e.common.issues.push(n)}class eZ{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return eH;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return eZ.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:a}=n;if("aborted"===t.status||"aborted"===a.status)return eH;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==a.value||n.alwaysSet)&&(r[t.value]=a.value)}return{status:e.value,value:r}}}let eH=Object.freeze({status:"aborted"}),eV=e=>({status:"dirty",value:e}),eW=e=>({status:"valid",value:e}),eq=e=>"aborted"===e.status,eK=e=>"dirty"===e.status,eG=e=>"valid"===e.status,eJ=e=>"undefined"!=typeof Promise&&e instanceof Promise;class eY{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let eX=(e,t)=>{if(eG(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new eL(e.common.issues);return this._error=t,this._error}}};function eQ(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(t,a)=>{let{message:i}=e;return"invalid_enum_value"===t.code?{message:i??a.defaultError}:void 0===a.data?{message:i??n??a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:i??r??a.defaultError}},description:a}}class e0{get description(){return this._def.description}_getType(e){return ej(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ej(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new eZ,ctx:{common:e.parent.common,data:e.data,parsedType:ej(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(eJ(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ej(e)},n=this._parseSync({data:e,path:r.path,parent:r});return eX(r,n)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ej(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return eG(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>eG(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ej(e)},n=this._parse({data:e,path:r.path,parent:r});return eX(r,await (eJ(n)?n:Promise.resolve(n)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{let a=e(t),i=()=>n.addIssue({code:eM.custom,...r(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(e=>!!e||(i(),!1)):!!a||(i(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new tW({schema:this,typeName:w.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return tq.create(this,this._def)}nullable(){return tK.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return tk.create(this)}promise(){return tV.create(this,this._def)}or(e){return tC.create([this,e],this._def)}and(e){return tN.create(this,e,this._def)}transform(e){return new tW({...eQ(this._def),schema:this,typeName:w.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t="function"==typeof e?e:()=>e;return new tG({...eQ(this._def),innerType:this,defaultValue:t,typeName:w.ZodDefault})}brand(){return new tX({typeName:w.ZodBranded,type:this,...eQ(this._def)})}catch(e){let t="function"==typeof e?e:()=>e;return new tJ({...eQ(this._def),innerType:this,catchValue:t,typeName:w.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return tQ.create(this,e)}readonly(){return t0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let e1=/^c[^\s-]{8,}$/i,e2=/^[0-9a-z]+$/,e3=/^[0-9A-HJKMNP-TV-Z]{26}$/i,e9=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,e4=/^[a-z0-9_-]{21}$/i,e8=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,e6=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,e5=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,e7="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",te=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tt=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,tr=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,tn=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ta=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ti=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,to="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ts=RegExp(`^${to}$`);function tl(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function tu(e){return RegExp(`^${tl(e)}$`)}function tc(e){let t=`${to}T${tl(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}function td(e,t){return!!(("v4"===t||!t)&&te.test(e)||("v6"===t||!t)&&tr.test(e))}function tf(e,t){if(!e8.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));if("object"!=typeof a||null===a||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)return!1;return!0}catch{return!1}}function tp(e,t){return!!(("v4"===t||!t)&&tt.test(e)||("v6"===t||!t)&&tn.test(e))}class th extends e0{_parse(e){let t;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==eN.string){let t=this._getOrReturnCtx(e);return eU(t,{code:eM.invalid_type,expected:eN.string,received:t.parsedType}),eH}let r=new eZ;for(let a of this._def.checks)if("min"===a.kind)e.data.length<a.value&&(eU(t=this._getOrReturnCtx(e,t),{code:eM.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if("max"===a.kind)e.data.length>a.value&&(eU(t=this._getOrReturnCtx(e,t),{code:eM.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if("length"===a.kind){let n=e.data.length>a.value,i=e.data.length<a.value;(n||i)&&(t=this._getOrReturnCtx(e,t),n?eU(t,{code:eM.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):i&&eU(t,{code:eM.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if("email"===a.kind)e5.test(e.data)||(eU(t=this._getOrReturnCtx(e,t),{validation:"email",code:eM.invalid_string,message:a.message}),r.dirty());else if("emoji"===a.kind)n||(n=RegExp(e7,"u")),n.test(e.data)||(eU(t=this._getOrReturnCtx(e,t),{validation:"emoji",code:eM.invalid_string,message:a.message}),r.dirty());else if("uuid"===a.kind)e9.test(e.data)||(eU(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:eM.invalid_string,message:a.message}),r.dirty());else if("nanoid"===a.kind)e4.test(e.data)||(eU(t=this._getOrReturnCtx(e,t),{validation:"nanoid",code:eM.invalid_string,message:a.message}),r.dirty());else if("cuid"===a.kind)e1.test(e.data)||(eU(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:eM.invalid_string,message:a.message}),r.dirty());else if("cuid2"===a.kind)e2.test(e.data)||(eU(t=this._getOrReturnCtx(e,t),{validation:"cuid2",code:eM.invalid_string,message:a.message}),r.dirty());else if("ulid"===a.kind)e3.test(e.data)||(eU(t=this._getOrReturnCtx(e,t),{validation:"ulid",code:eM.invalid_string,message:a.message}),r.dirty());else if("url"===a.kind)try{new URL(e.data)}catch{eU(t=this._getOrReturnCtx(e,t),{validation:"url",code:eM.invalid_string,message:a.message}),r.dirty()}else"regex"===a.kind?(a.regex.lastIndex=0,a.regex.test(e.data)||(eU(t=this._getOrReturnCtx(e,t),{validation:"regex",code:eM.invalid_string,message:a.message}),r.dirty())):"trim"===a.kind?e.data=e.data.trim():"includes"===a.kind?e.data.includes(a.value,a.position)||(eU(t=this._getOrReturnCtx(e,t),{code:eM.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):"toLowerCase"===a.kind?e.data=e.data.toLowerCase():"toUpperCase"===a.kind?e.data=e.data.toUpperCase():"startsWith"===a.kind?e.data.startsWith(a.value)||(eU(t=this._getOrReturnCtx(e,t),{code:eM.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):"endsWith"===a.kind?e.data.endsWith(a.value)||(eU(t=this._getOrReturnCtx(e,t),{code:eM.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):"datetime"===a.kind?tc(a).test(e.data)||(eU(t=this._getOrReturnCtx(e,t),{code:eM.invalid_string,validation:"datetime",message:a.message}),r.dirty()):"date"===a.kind?ts.test(e.data)||(eU(t=this._getOrReturnCtx(e,t),{code:eM.invalid_string,validation:"date",message:a.message}),r.dirty()):"time"===a.kind?tu(a).test(e.data)||(eU(t=this._getOrReturnCtx(e,t),{code:eM.invalid_string,validation:"time",message:a.message}),r.dirty()):"duration"===a.kind?e6.test(e.data)||(eU(t=this._getOrReturnCtx(e,t),{validation:"duration",code:eM.invalid_string,message:a.message}),r.dirty()):"ip"===a.kind?td(e.data,a.version)||(eU(t=this._getOrReturnCtx(e,t),{validation:"ip",code:eM.invalid_string,message:a.message}),r.dirty()):"jwt"===a.kind?tf(e.data,a.alg)||(eU(t=this._getOrReturnCtx(e,t),{validation:"jwt",code:eM.invalid_string,message:a.message}),r.dirty()):"cidr"===a.kind?tp(e.data,a.version)||(eU(t=this._getOrReturnCtx(e,t),{validation:"cidr",code:eM.invalid_string,message:a.message}),r.dirty()):"base64"===a.kind?ta.test(e.data)||(eU(t=this._getOrReturnCtx(e,t),{validation:"base64",code:eM.invalid_string,message:a.message}),r.dirty()):"base64url"===a.kind?ti.test(e.data)||(eU(t=this._getOrReturnCtx(e,t),{validation:"base64url",code:eM.invalid_string,message:a.message}),r.dirty()):v.assertNever(a);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:eM.invalid_string,..._.errToObj(r)})}_addCheck(e){return new th({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",..._.errToObj(e)})}url(e){return this._addCheck({kind:"url",..._.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",..._.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",..._.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",..._.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",..._.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",..._.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",..._.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",..._.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",..._.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",..._.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",..._.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",..._.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,..._.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,..._.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",..._.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,..._.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,..._.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,..._.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,..._.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,..._.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,..._.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,..._.errToObj(t)})}nonempty(e){return this.min(1,_.errToObj(e))}trim(){return new th({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new th({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new th({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function tm(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}th.create=e=>new th({checks:[],typeName:w.ZodString,coerce:e?.coerce??!1,...eQ(e)});class ty extends e0{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==eN.number){let t=this._getOrReturnCtx(e);return eU(t,{code:eM.invalid_type,expected:eN.number,received:t.parsedType}),eH}let r=new eZ;for(let n of this._def.checks)"int"===n.kind?v.isInteger(e.data)||(eU(t=this._getOrReturnCtx(e,t),{code:eM.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(eU(t=this._getOrReturnCtx(e,t),{code:eM.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(eU(t=this._getOrReturnCtx(e,t),{code:eM.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==tm(e.data,n.value)&&(eU(t=this._getOrReturnCtx(e,t),{code:eM.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(eU(t=this._getOrReturnCtx(e,t),{code:eM.not_finite,message:n.message}),r.dirty()):v.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,_.toString(t))}gt(e,t){return this.setLimit("min",e,!1,_.toString(t))}lte(e,t){return this.setLimit("max",e,!0,_.toString(t))}lt(e,t){return this.setLimit("max",e,!1,_.toString(t))}setLimit(e,t,r,n){return new ty({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:_.toString(n)}]})}_addCheck(e){return new ty({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:_.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:_.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:_.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&v.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}ty.create=e=>new ty({checks:[],typeName:w.ZodNumber,coerce:e?.coerce||!1,...eQ(e)});class tg extends e0{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==eN.bigint)return this._getInvalidInput(e);let r=new eZ;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(eU(t=this._getOrReturnCtx(e,t),{code:eM.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(eU(t=this._getOrReturnCtx(e,t),{code:eM.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(eU(t=this._getOrReturnCtx(e,t),{code:eM.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):v.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return eU(t,{code:eM.invalid_type,expected:eN.bigint,received:t.parsedType}),eH}gte(e,t){return this.setLimit("min",e,!0,_.toString(t))}gt(e,t){return this.setLimit("min",e,!1,_.toString(t))}lte(e,t){return this.setLimit("max",e,!0,_.toString(t))}lt(e,t){return this.setLimit("max",e,!1,_.toString(t))}setLimit(e,t,r,n){return new tg({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:_.toString(n)}]})}_addCheck(e){return new tg({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:_.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}tg.create=e=>new tg({checks:[],typeName:w.ZodBigInt,coerce:e?.coerce??!1,...eQ(e)});class tv extends e0{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==eN.boolean){let t=this._getOrReturnCtx(e);return eU(t,{code:eM.invalid_type,expected:eN.boolean,received:t.parsedType}),eH}return eW(e.data)}}tv.create=e=>new tv({typeName:w.ZodBoolean,coerce:e?.coerce||!1,...eQ(e)});class tb extends e0{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==eN.date){let t=this._getOrReturnCtx(e);return eU(t,{code:eM.invalid_type,expected:eN.date,received:t.parsedType}),eH}if(Number.isNaN(e.data.getTime()))return eU(this._getOrReturnCtx(e),{code:eM.invalid_date}),eH;let r=new eZ;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(eU(t=this._getOrReturnCtx(e,t),{code:eM.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(eU(t=this._getOrReturnCtx(e,t),{code:eM.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):v.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new tb({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:_.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:_.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}tb.create=e=>new tb({checks:[],coerce:e?.coerce||!1,typeName:w.ZodDate,...eQ(e)});class t_ extends e0{_parse(e){if(this._getType(e)!==eN.symbol){let t=this._getOrReturnCtx(e);return eU(t,{code:eM.invalid_type,expected:eN.symbol,received:t.parsedType}),eH}return eW(e.data)}}t_.create=e=>new t_({typeName:w.ZodSymbol,...eQ(e)});class tw extends e0{_parse(e){if(this._getType(e)!==eN.undefined){let t=this._getOrReturnCtx(e);return eU(t,{code:eM.invalid_type,expected:eN.undefined,received:t.parsedType}),eH}return eW(e.data)}}tw.create=e=>new tw({typeName:w.ZodUndefined,...eQ(e)});class t$ extends e0{_parse(e){if(this._getType(e)!==eN.null){let t=this._getOrReturnCtx(e);return eU(t,{code:eM.invalid_type,expected:eN.null,received:t.parsedType}),eH}return eW(e.data)}}t$.create=e=>new t$({typeName:w.ZodNull,...eQ(e)});class tS extends e0{constructor(){super(...arguments),this._any=!0}_parse(e){return eW(e.data)}}tS.create=e=>new tS({typeName:w.ZodAny,...eQ(e)});class tE extends e0{constructor(){super(...arguments),this._unknown=!0}_parse(e){return eW(e.data)}}tE.create=e=>new tE({typeName:w.ZodUnknown,...eQ(e)});class tx extends e0{_parse(e){let t=this._getOrReturnCtx(e);return eU(t,{code:eM.invalid_type,expected:eN.never,received:t.parsedType}),eH}}tx.create=e=>new tx({typeName:w.ZodNever,...eQ(e)});class tA extends e0{_parse(e){if(this._getType(e)!==eN.undefined){let t=this._getOrReturnCtx(e);return eU(t,{code:eM.invalid_type,expected:eN.void,received:t.parsedType}),eH}return eW(e.data)}}tA.create=e=>new tA({typeName:w.ZodVoid,...eQ(e)});class tk extends e0{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==eN.array)return eU(t,{code:eM.invalid_type,expected:eN.array,received:t.parsedType}),eH;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,a=t.data.length<n.exactLength.value;(e||a)&&(eU(t,{code:e?eM.too_big:eM.too_small,minimum:a?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(eU(t,{code:eM.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(eU(t,{code:eM.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new eY(t,e,t.path,r)))).then(e=>eZ.mergeArray(r,e));let a=[...t.data].map((e,r)=>n.type._parseSync(new eY(t,e,t.path,r)));return eZ.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new tk({...this._def,minLength:{value:e,message:_.toString(t)}})}max(e,t){return new tk({...this._def,maxLength:{value:e,message:_.toString(t)}})}length(e,t){return new tk({...this._def,exactLength:{value:e,message:_.toString(t)}})}nonempty(e){return this.min(1,e)}}function tO(e){if(e instanceof tI){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=tq.create(tO(n))}return new tI({...e._def,shape:()=>t})}if(e instanceof tk)return new tk({...e._def,type:tO(e.element)});if(e instanceof tq)return tq.create(tO(e.unwrap()));if(e instanceof tK)return tK.create(tO(e.unwrap()));if(e instanceof tj)return tj.create(e.items.map(e=>tO(e)));else return e}tk.create=(e,t)=>new tk({type:e,minLength:null,maxLength:null,exactLength:null,typeName:w.ZodArray,...eQ(t)});class tI extends e0{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=v.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==eN.object){let t=this._getOrReturnCtx(e);return eU(t,{code:eM.invalid_type,expected:eN.object,received:t.parsedType}),eH}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:a}=this._getCached(),i=[];if(!(this._def.catchall instanceof tx&&"strip"===this._def.unknownKeys))for(let e in r.data)a.includes(e)||i.push(e);let o=[];for(let e of a){let t=n[e],a=r.data[e];o.push({key:{status:"valid",value:e},value:t._parse(new eY(r,a,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof tx){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of i)o.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)i.length>0&&(eU(r,{code:eM.unrecognized_keys,keys:i}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of i){let n=r.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new eY(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of o){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>eZ.mergeObjectSync(t,e)):eZ.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return _.errToObj,new tI({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let n=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:_.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new tI({...this._def,unknownKeys:"strip"})}passthrough(){return new tI({...this._def,unknownKeys:"passthrough"})}extend(e){return new tI({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new tI({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:w.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new tI({...this._def,catchall:e})}pick(e){let t={};for(let r of v.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new tI({...this._def,shape:()=>t})}omit(e){let t={};for(let r of v.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new tI({...this._def,shape:()=>t})}deepPartial(){return tO(this)}partial(e){let t={};for(let r of v.objectKeys(this.shape)){let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}return new tI({...this._def,shape:()=>t})}required(e){let t={};for(let r of v.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof tq;)e=e._def.innerType;t[r]=e}return new tI({...this._def,shape:()=>t})}keyof(){return tU(v.objectKeys(this.shape))}}tI.create=(e,t)=>new tI({shape:()=>e,unknownKeys:"strip",catchall:tx.create(),typeName:w.ZodObject,...eQ(t)}),tI.strictCreate=(e,t)=>new tI({shape:()=>e,unknownKeys:"strict",catchall:tx.create(),typeName:w.ZodObject,...eQ(t)}),tI.lazycreate=(e,t)=>new tI({shape:e,unknownKeys:"strip",catchall:tx.create(),typeName:w.ZodObject,...eQ(t)});class tC extends e0{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function n(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new eL(e.ctx.common.issues));return eU(t,{code:eM.invalid_union,unionErrors:r}),eH}if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(n);{let e,n=[];for(let a of r){let r={...t,common:{...t.common,issues:[]},parent:null},i=a._parseSync({data:t.data,path:t.path,parent:r});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let a=n.map(e=>new eL(e));return eU(t,{code:eM.invalid_union,unionErrors:a}),eH}}get options(){return this._def.options}}tC.create=(e,t)=>new tC({options:e,typeName:w.ZodUnion,...eQ(t)});let tT=e=>{if(e instanceof tF)return tT(e.schema);if(e instanceof tW)return tT(e.innerType());if(e instanceof tz)return[e.value];if(e instanceof tZ)return e.options;if(e instanceof tH)return v.objectValues(e.enum);else if(e instanceof tG)return tT(e._def.innerType);else if(e instanceof tw)return[void 0];else if(e instanceof t$)return[null];else if(e instanceof tq)return[void 0,...tT(e.unwrap())];else if(e instanceof tK)return[null,...tT(e.unwrap())];else if(e instanceof tX)return tT(e.unwrap());else if(e instanceof t0)return tT(e.unwrap());else if(e instanceof tJ)return tT(e._def.innerType);else return[]};class tP extends e0{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==eN.object)return eU(t,{code:eM.invalid_type,expected:eN.object,received:t.parsedType}),eH;let r=this.discriminator,n=t.data[r],a=this.optionsMap.get(n);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(eU(t,{code:eM.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),eH)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=tT(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of t){if(n.has(a))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);n.set(a,r)}}return new tP({typeName:w.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...eQ(r)})}}function tR(e,t){let r=ej(e),n=ej(t);if(e===t)return{valid:!0,data:e};if(r===eN.object&&n===eN.object){let r=v.objectKeys(t),n=v.objectKeys(e).filter(e=>-1!==r.indexOf(e)),a={...e,...t};for(let r of n){let n=tR(e[r],t[r]);if(!n.valid)return{valid:!1};a[r]=n.data}return{valid:!0,data:a}}if(r===eN.array&&n===eN.array){if(e.length!==t.length)return{valid:!1};let r=[];for(let n=0;n<e.length;n++){let a=tR(e[n],t[n]);if(!a.valid)return{valid:!1};r.push(a.data)}return{valid:!0,data:r}}if(r===eN.date&&n===eN.date&&+e==+t)return{valid:!0,data:e};return{valid:!1}}class tN extends e0{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(eq(e)||eq(n))return eH;let a=tR(e.value,n.value);return a.valid?((eK(e)||eK(n))&&t.dirty(),{status:t.value,value:a.data}):(eU(r,{code:eM.invalid_intersection_types}),eH)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}tN.create=(e,t,r)=>new tN({left:e,right:t,typeName:w.ZodIntersection,...eQ(r)});class tj extends e0{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==eN.array)return eU(r,{code:eM.invalid_type,expected:eN.array,received:r.parsedType}),eH;if(r.data.length<this._def.items.length)return eU(r,{code:eM.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),eH;!this._def.rest&&r.data.length>this._def.items.length&&(eU(r,{code:eM.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new eY(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>eZ.mergeArray(t,e)):eZ.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new tj({...this._def,rest:e})}}tj.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new tj({items:e,typeName:w.ZodTuple,rest:null,...eQ(t)})};class tM extends e0{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==eN.object)return eU(r,{code:eM.invalid_type,expected:eN.object,received:r.parsedType}),eH;let n=[],a=this._def.keyType,i=this._def.valueType;for(let e in r.data)n.push({key:a._parse(new eY(r,e,r.path,e)),value:i._parse(new eY(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?eZ.mergeObjectAsync(t,n):eZ.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new tM(t instanceof e0?{keyType:e,valueType:t,typeName:w.ZodRecord,...eQ(r)}:{keyType:th.create(),valueType:e,typeName:w.ZodRecord,...eQ(t)})}}class tL extends e0{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==eN.map)return eU(r,{code:eM.invalid_type,expected:eN.map,received:r.parsedType}),eH;let n=this._def.keyType,a=this._def.valueType,i=[...r.data.entries()].map(([e,t],i)=>({key:n._parse(new eY(r,e,r.path,[i,"key"])),value:a._parse(new eY(r,t,r.path,[i,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of i){let n=await r.key,a=await r.value;if("aborted"===n.status||"aborted"===a.status)return eH;("dirty"===n.status||"dirty"===a.status)&&t.dirty(),e.set(n.value,a.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of i){let n=r.key,a=r.value;if("aborted"===n.status||"aborted"===a.status)return eH;("dirty"===n.status||"dirty"===a.status)&&t.dirty(),e.set(n.value,a.value)}return{status:t.value,value:e}}}}tL.create=(e,t,r)=>new tL({valueType:t,keyType:e,typeName:w.ZodMap,...eQ(r)});class tD extends e0{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==eN.set)return eU(r,{code:eM.invalid_type,expected:eN.set,received:r.parsedType}),eH;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(eU(r,{code:eM.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(eU(r,{code:eM.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let a=this._def.valueType;function i(e){let r=new Set;for(let n of e){if("aborted"===n.status)return eH;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let o=[...r.data.values()].map((e,t)=>a._parse(new eY(r,e,r.path,t)));return r.common.async?Promise.all(o).then(e=>i(e)):i(o)}min(e,t){return new tD({...this._def,minSize:{value:e,message:_.toString(t)}})}max(e,t){return new tD({...this._def,maxSize:{value:e,message:_.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}tD.create=(e,t)=>new tD({valueType:e,minSize:null,maxSize:null,typeName:w.ZodSet,...eQ(t)});class tB extends e0{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==eN.function)return eU(t,{code:eM.invalid_type,expected:eN.function,received:t.parsedType}),eH;function r(e,r){return ez({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,eF(),eD].filter(e=>!!e),issueData:{code:eM.invalid_arguments,argumentsError:r}})}function n(e,r){return ez({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,eF(),eD].filter(e=>!!e),issueData:{code:eM.invalid_return_type,returnTypeError:r}})}let a={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof tV){let e=this;return eW(async function(...t){let o=new eL([]),s=await e._def.args.parseAsync(t,a).catch(e=>{throw o.addIssue(r(t,e)),o}),l=await Reflect.apply(i,this,s);return await e._def.returns._def.type.parseAsync(l,a).catch(e=>{throw o.addIssue(n(l,e)),o})})}{let e=this;return eW(function(...t){let o=e._def.args.safeParse(t,a);if(!o.success)throw new eL([r(t,o.error)]);let s=Reflect.apply(i,this,o.data),l=e._def.returns.safeParse(s,a);if(!l.success)throw new eL([n(s,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new tB({...this._def,args:tj.create(e).rest(tE.create())})}returns(e){return new tB({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new tB({args:e||tj.create([]).rest(tE.create()),returns:t||tE.create(),typeName:w.ZodFunction,...eQ(r)})}}class tF extends e0{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}tF.create=(e,t)=>new tF({getter:e,typeName:w.ZodLazy,...eQ(t)});class tz extends e0{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return eU(t,{received:t.data,code:eM.invalid_literal,expected:this._def.value}),eH}return{status:"valid",value:e.data}}get value(){return this._def.value}}function tU(e,t){return new tZ({values:e,typeName:w.ZodEnum,...eQ(t)})}tz.create=(e,t)=>new tz({value:e,typeName:w.ZodLiteral,...eQ(t)});class tZ extends e0{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return eU(t,{expected:v.joinValues(r),received:t.parsedType,code:eM.invalid_type}),eH}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return eU(t,{received:t.data,code:eM.invalid_enum_value,options:r}),eH}return eW(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return tZ.create(e,{...this._def,...t})}exclude(e,t=this._def){return tZ.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}tZ.create=tU;class tH extends e0{_parse(e){let t=v.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==eN.string&&r.parsedType!==eN.number){let e=v.objectValues(t);return eU(r,{expected:v.joinValues(e),received:r.parsedType,code:eM.invalid_type}),eH}if(this._cache||(this._cache=new Set(v.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=v.objectValues(t);return eU(r,{received:r.data,code:eM.invalid_enum_value,options:e}),eH}return eW(e.data)}get enum(){return this._def.values}}tH.create=(e,t)=>new tH({values:e,typeName:w.ZodNativeEnum,...eQ(t)});class tV extends e0{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==eN.promise&&!1===t.common.async?(eU(t,{code:eM.invalid_type,expected:eN.promise,received:t.parsedType}),eH):eW((t.parsedType===eN.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}tV.create=(e,t)=>new tV({type:e,typeName:w.ZodPromise,...eQ(t)});class tW extends e0{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===w.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:e=>{eU(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===n.type){let e=n.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return eH;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?eH:"dirty"===n.status||"dirty"===t.value?eV(n.value):n});{if("aborted"===t.value)return eH;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?eH:"dirty"===n.status||"dirty"===t.value?eV(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?eH:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?eH:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>eG(e)?Promise.resolve(n.transform(e.value,a)).then(e=>({status:t.value,value:e})):eH);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!eG(e))return eH;let i=n.transform(e.value,a);if(i instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}v.assertNever(n)}}tW.create=(e,t,r)=>new tW({schema:e,typeName:w.ZodEffects,effect:t,...eQ(r)}),tW.createWithPreprocess=(e,t,r)=>new tW({schema:t,effect:{type:"preprocess",transform:e},typeName:w.ZodEffects,...eQ(r)});class tq extends e0{_parse(e){return this._getType(e)===eN.undefined?eW(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}tq.create=(e,t)=>new tq({innerType:e,typeName:w.ZodOptional,...eQ(t)});class tK extends e0{_parse(e){return this._getType(e)===eN.null?eW(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}tK.create=(e,t)=>new tK({innerType:e,typeName:w.ZodNullable,...eQ(t)});class tG extends e0{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===eN.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}tG.create=(e,t)=>new tG({innerType:e,typeName:w.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...eQ(t)});class tJ extends e0{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return eJ(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new eL(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new eL(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}tJ.create=(e,t)=>new tJ({innerType:e,typeName:w.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...eQ(t)});class tY extends e0{_parse(e){if(this._getType(e)!==eN.nan){let t=this._getOrReturnCtx(e);return eU(t,{code:eM.invalid_type,expected:eN.nan,received:t.parsedType}),eH}return{status:"valid",value:e.data}}}tY.create=e=>new tY({typeName:w.ZodNaN,...eQ(e)}),Symbol("zod_brand");class tX extends e0{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class tQ extends e0{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?eH:"dirty"===e.status?(t.dirty(),eV(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?eH:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new tQ({in:e,out:t,typeName:w.ZodPipeline})}}class t0 extends e0{_parse(e){let t=this._def.innerType._parse(e),r=e=>(eG(e)&&(e.value=Object.freeze(e.value)),e);return eJ(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}t0.create=(e,t)=>new t0({innerType:e,typeName:w.ZodReadonly,...eQ(t)}),tI.lazycreate,function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(w||(w={}));let t1=th.create,t2=ty.create;tY.create,tg.create,tv.create,tb.create,t_.create,tw.create,t$.create,tS.create;let t3=tE.create;tx.create,tA.create;let t9=tk.create,t4=tI.create;tI.strictCreate,tC.create;let t8=tP.create;tN.create,tj.create;let t6=tM.create;tL.create,tD.create,tB.create,tF.create;let t5=tz.create;tZ.create,tH.create,tV.create,tW.create,tq.create,tK.create,tW.createWithPreprocess,tQ.create;var t7=t4({id:t1(),answer:t1(),task_id:t1(),conversation_id:t1(),message_id:t1(),metadata:t4({usage:t4({completion_tokens:t2(),prompt_tokens:t2(),total_tokens:t2()})})}),re=t4({code:t1(),message:t1(),status:t2()}),rt=t4({event:t1(),conversation_id:t1().optional(),message_id:t1().optional(),task_id:t1().optional(),created_at:t2().optional()}).passthrough(),rr=rt.extend({event:t5("workflow_started"),workflow_run_id:t1(),data:t4({id:t1(),workflow_id:t1(),created_at:t2()}).passthrough()}),rn=rt.extend({event:t5("workflow_finished"),workflow_run_id:t1(),data:t4({id:t1(),workflow_id:t1(),total_tokens:t2().optional(),created_at:t2()}).passthrough()}),ra=rt.extend({event:t5("node_started"),workflow_run_id:t1(),data:t4({id:t1(),node_id:t1(),node_type:t1()}).passthrough()}),ri=rt.extend({event:t5("node_finished"),workflow_run_id:t1(),data:t4({id:t1(),node_id:t1(),node_type:t1()}).passthrough()}),ro=rt.extend({event:t5("message"),id:t1().optional(),answer:t1(),from_variable_selector:t9(t1()).optional()}),rs=rt.extend({event:t5("message_end"),id:t1(),metadata:t4({usage:t4({prompt_tokens:t2(),completion_tokens:t2(),total_tokens:t2()}).passthrough()}).passthrough(),files:t9(t3()).optional()}),rl=rt.extend({event:t5("tts_message"),audio:t1()}),ru=rt.extend({event:t5("tts_message_end"),audio:t1()}),rc=rt.extend({event:t5("agent_message"),answer:t1()}),rd=t8("event",[rr,rn,ra,ri,ro,rs,rl,ru,rt.extend({event:t5("agent_thought"),thought:t1(),observation:t1(),tool:t1(),tool_labels:t6(t1(),t1()),tool_input:t1(),message_files:t9(t3())}),rc]).or(rt),rf=eI({errorSchema:re,errorToMessage:e=>(console.log("Dify API error:",e),`Dify API error: ${e.message}`)}),rp=class{constructor(e,t,r){this.settings=t,this.specificationVersion="v1",this.defaultObjectGenerationMode=void 0,this.modelId=e,this.config=r,this.generateId=ep,this.chatMessagesEndpoint=`${this.config.baseURL}/chat-messages`,this.settings.responseMode||(this.settings.responseMode="streaming")}get provider(){return this.config.provider}async doGenerate(e){var t,r,n,a;let{abortSignal:i}=e,o=this.getRequestBody(e),{responseHeaders:s,value:l}=await ek({url:this.chatMessagesEndpoint,headers:eu(this.config.headers(),e.headers),body:o,abortSignal:i,failedResponseHandler:rf,successfulResponseHandler:eT(t7),fetch:this.config.fetch});return{text:l.answer,toolCalls:[],finishReason:"stop",usage:{promptTokens:(null==(r=null==(t=l.metadata)?void 0:t.usage)?void 0:r.prompt_tokens)||0,completionTokens:(null==(a=null==(n=l.metadata)?void 0:n.usage)?void 0:a.completion_tokens)||0},rawCall:this.createRawCall(e),providerMetadata:{difyWorkflowData:{conversationId:l.conversation_id,messageId:l.message_id}},rawResponse:{headers:s,body:l},request:{body:JSON.stringify(o)},response:{id:l.id,timestamp:new Date}}}async doStream(e){let t,r,n,{abortSignal:a}=e,i={...this.getRequestBody(e),response_mode:"streaming"},{responseHeaders:o,value:s}=await ek({url:this.chatMessagesEndpoint,headers:eu(this.config.headers(),e.headers),body:i,failedResponseHandler:rf,successfulResponseHandler:eC(rd),abortSignal:a,fetch:this.config.fetch});return{stream:s.pipeThrough(new TransformStream({transform(e,a){if(!e.success)return void a.enqueue({type:"error",error:e.error});let i=e.value;switch(i.conversation_id&&(t=i.conversation_id),i.message_id&&(r=i.message_id),i.task_id&&(n=i.task_id),i.event){case"workflow_finished":case"message_end":{let e=0;"data"in i&&i.data&&"object"==typeof i.data&&"total_tokens"in i.data&&"number"==typeof i.data.total_tokens&&(e=i.data.total_tokens),a.enqueue({type:"finish",finishReason:"stop",providerMetadata:{difyWorkflowData:{conversationId:t,messageId:r,taskId:n}},usage:{promptTokens:0,completionTokens:e}});break}case"message":case"agent_message":"answer"in i&&"string"==typeof i.answer&&(a.enqueue({type:"text-delta",textDelta:i.answer}),"id"in i&&"string"==typeof i.id&&a.enqueue({type:"response-metadata",id:i.id}))}}})),rawCall:this.createRawCall(e),rawResponse:{headers:o},request:{body:JSON.stringify(i)}}}getRequestBody(e){var t,r,n;let a=e.messages||e.prompt;if(!a||!a.length)throw new I({message:"No messages provided",url:this.chatMessagesEndpoint,requestBodyValues:e});let i=a[a.length-1];if("user"!==i.role)throw new I({message:"The last message must be a user message",url:this.chatMessagesEndpoint,requestBodyValues:{latestMessageRole:i.role}});if(Array.isArray(i.content)&&i.content.some(e=>"string"!=typeof e&&"image"===e.type))throw new I({message:"Dify provider does not currently support image attachments",url:this.chatMessagesEndpoint,requestBodyValues:{hasAttachments:!0}});let o="";"string"==typeof i.content?o=i.content:Array.isArray(i.content)&&(o=i.content.map(e=>"string"==typeof e?e:"text"===e.type?e.text:"").filter(Boolean).join(" "));let s=null==(t=e.headers)?void 0:t["chat-id"],l=null!=(n=null==(r=e.headers)?void 0:r["user-id"])?n:"you_should_pass_user-id",{"chat-id":u,"user-id":c,...d}=e.headers||{};return e.headers=d,{inputs:this.settings.inputs||{},query:o,response_mode:this.settings.responseMode,conversation_id:s,user:l}}createRawCall(e){return{rawPrompt:e.messages||e.prompt,rawSettings:{...this.settings}}}supportsUrl(e){return!1}};function rh(e={}){let t=(t,r={})=>new rp(t,r,{provider:"dify.chat",baseURL:e.baseURL||"https://api.dify.ai/v1",headers:()=>({Authorization:`Bearer ${ey({apiKey:r.apiKey,environmentVariableName:"DIFY_API_KEY",description:"Dify API Key"})}`,"Content-Type":"application/json",...e.headers})}),r=function(e,r){if(new.target)throw Error("The model factory function cannot be called with the new keyword.");return t(e,r)};return r.chat=t,r}rh()},15618:(e,t,r)=>{var n=r(29143),a=r(9823).Buffer,i=r(46994);function o(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=a.alloc(0),this;if("function"==typeof e.pipe)return this.buffer=a.alloc(0),e.pipe(this),this;if(e.length||"object"==typeof e)return this.buffer=e,this.writable=!1,n.nextTick((function(){this.emit("end",e),this.readable=!1,this.emit("close")}).bind(this)),this;throw TypeError("Unexpected data type ("+typeof e+")")}r(84864).inherits(o,i),o.prototype.write=function(e){this.buffer=a.concat([this.buffer,a.from(e)]),this.emit("data",e)},o.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},e.exports=o},16076:e=>{var t=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t)};t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,e.exports=t},16526:(e,t,r)=>{var n="function"==typeof Map&&Map.prototype,a=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=n&&a&&"function"==typeof a.get?a.get:null,o=n&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=s&&l&&"function"==typeof l.get?l.get:null,c=s&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,f="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,m=Object.prototype.toString,y=Function.prototype.toString,g=String.prototype.match,v=String.prototype.slice,b=String.prototype.replace,_=String.prototype.toUpperCase,w=String.prototype.toLowerCase,$=RegExp.prototype.test,S=Array.prototype.concat,E=Array.prototype.join,x=Array.prototype.slice,A=Math.floor,k="function"==typeof BigInt?BigInt.prototype.valueOf:null,O=Object.getOwnPropertySymbols,I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,C="function"==typeof Symbol&&"object"==typeof Symbol.iterator,T="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===C?"object":"symbol")?Symbol.toStringTag:null,P=Object.prototype.propertyIsEnumerable,R=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function N(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||$.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-A(-e):A(e);if(n!==e){var a=String(n),i=v.call(t,a.length+1);return b.call(a,r,"$&_")+"."+b.call(b.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,r,"$&_")}var j=r(86973),M=j.custom,L=J(M)?M:null,D={__proto__:null,double:'"',single:"'"},B={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function F(e,t,r){var n=D[r.quoteStyle||t];return n+e+n}function z(e){return b.call(String(e),/"/g,"&quot;")}function U(e){return!T||!("object"==typeof e&&(T in e||void 0!==e[T]))}function Z(e){return"[object Array]"===ee(e)&&U(e)}function H(e){return"[object Date]"===ee(e)&&U(e)}function V(e){return"[object RegExp]"===ee(e)&&U(e)}function W(e){return"[object Error]"===ee(e)&&U(e)}function q(e){return"[object String]"===ee(e)&&U(e)}function K(e){return"[object Number]"===ee(e)&&U(e)}function G(e){return"[object Boolean]"===ee(e)&&U(e)}function J(e){if(C)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!I)return!1;try{return I.call(e),!0}catch(e){}return!1}function Y(e){if(!e||"object"!=typeof e||!k)return!1;try{return k.call(e),!0}catch(e){}return!1}e.exports=function e(t,n,a,s){var l=n||{};if(Q(l,"quoteStyle")&&!Q(D,l.quoteStyle))throw TypeError('option "quoteStyle" must be "single" or "double"');if(Q(l,"maxStringLength")&&("number"==typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var d=!Q(l,"customInspect")||l.customInspect;if("boolean"!=typeof d&&"symbol"!==d)throw TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Q(l,"indent")&&null!==l.indent&&"	"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Q(l,"numericSeparator")&&"boolean"!=typeof l.numericSeparator)throw TypeError('option "numericSeparator", if provided, must be `true` or `false`');var f=l.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return eu(t,l);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var p=String(t);return f?N(t,p):p}if("bigint"==typeof t){var m=String(t)+"n";return f?N(t,m):m}var y=void 0===l.depth?5:l.depth;if(void 0===a&&(a=0),a>=y&&y>0&&"object"==typeof t)return Z(t)?"[Array]":"[Object]";var g=em(l,a);if(void 0===s)s=[];else if(er(s,t)>=0)return"[Circular]";function _(t,r,n){if(r&&(s=x.call(s)).push(r),n){var i={depth:l.depth};return Q(l,"quoteStyle")&&(i.quoteStyle=l.quoteStyle),e(t,i,a+1,s)}return e(t,l,a+1,s)}if("function"==typeof t&&!V(t)){var $=et(t),A=eg(t,_);return"[Function"+($?": "+$:" (anonymous)")+"]"+(A.length>0?" { "+E.call(A,", ")+" }":"")}if(J(t)){var O=C?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):I.call(t);return"object"!=typeof t||C?O:ed(O)}if(el(t)){for(var M="<"+w.call(String(t.nodeName)),B=t.attributes||[],U=0;U<B.length;U++)M+=" "+B[U].name+"="+F(z(B[U].value),"double",l);return M+=">",t.childNodes&&t.childNodes.length&&(M+="..."),M+="</"+w.call(String(t.nodeName))+">"}if(Z(t)){if(0===t.length)return"[]";var X=eg(t,_);return g&&!eh(X)?"["+ey(X,g)+"]":"[ "+E.call(X,", ")+" ]"}if(W(t)){var ec=eg(t,_);return"cause"in Error.prototype||!("cause"in t)||P.call(t,"cause")?0===ec.length?"["+String(t)+"]":"{ ["+String(t)+"] "+E.call(ec,", ")+" }":"{ ["+String(t)+"] "+E.call(S.call("[cause]: "+_(t.cause),ec),", ")+" }"}if("object"==typeof t&&d){if(L&&"function"==typeof t[L]&&j)return j(t,{depth:y-a});else if("symbol"!==d&&"function"==typeof t.inspect)return t.inspect()}if(en(t)){var ev=[];return o&&o.call(t,function(e,r){ev.push(_(r,t,!0)+" => "+_(e,t))}),ep("Map",i.call(t),ev,g)}if(eo(t)){var eb=[];return c&&c.call(t,function(e){eb.push(_(e,t))}),ep("Set",u.call(t),eb,g)}if(ea(t))return ef("WeakMap");if(es(t))return ef("WeakSet");if(ei(t))return ef("WeakRef");if(K(t))return ed(_(Number(t)));if(Y(t))return ed(_(k.call(t)));if(G(t))return ed(h.call(t));if(q(t))return ed(_(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&t===globalThis||void 0!==r.g&&t===r.g)return"{ [object globalThis] }";if(!H(t)&&!V(t)){var e_=eg(t,_),ew=R?R(t)===Object.prototype:t instanceof Object||t.constructor===Object,e$=t instanceof Object?"":"null prototype",eS=!ew&&T&&Object(t)===t&&T in t?v.call(ee(t),8,-1):e$?"Object":"",eE=(ew||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(eS||e$?"["+E.call(S.call([],eS||[],e$||[]),": ")+"] ":"");return 0===e_.length?eE+"{}":g?eE+"{"+ey(e_,g)+"}":eE+"{ "+E.call(e_,", ")+" }"}return String(t)};var X=Object.prototype.hasOwnProperty||function(e){return e in this};function Q(e,t){return X.call(e,t)}function ee(e){return m.call(e)}function et(e){if(e.name)return e.name;var t=g.call(y.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function er(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1}function en(e){if(!i||!e||"object"!=typeof e)return!1;try{i.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}function ea(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{f.call(e,f)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}function ei(e){if(!p||!e||"object"!=typeof e)return!1;try{return p.call(e),!0}catch(e){}return!1}function eo(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{i.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}function es(e){if(!f||!e||"object"!=typeof e)return!1;try{f.call(e,f);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}function el(e){return!!e&&"object"==typeof e&&(!!("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)||"string"==typeof e.nodeName&&"function"==typeof e.getAttribute)}function eu(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return eu(v.call(e,0,t.maxStringLength),t)+n}var a=B[t.quoteStyle||"single"];return a.lastIndex=0,F(b.call(b.call(e,a,"\\$1"),/[\x00-\x1f]/g,ec),"single",t)}function ec(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+_.call(t.toString(16))}function ed(e){return"Object("+e+")"}function ef(e){return e+" { ? }"}function ep(e,t,r,n){return e+" ("+t+") {"+(n?ey(r,n):E.call(r,", "))+"}"}function eh(e){for(var t=0;t<e.length;t++)if(er(e[t],"\n")>=0)return!1;return!0}function em(e,t){var r;if("	"===e.indent)r="	";else{if("number"!=typeof e.indent||!(e.indent>0))return null;r=E.call(Array(e.indent+1)," ")}return{base:r,prev:E.call(Array(t+1),r)}}function ey(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+E.call(e,","+r)+"\n"+t.prev}function eg(e,t){var r,n=Z(e),a=[];if(n){a.length=e.length;for(var i=0;i<e.length;i++)a[i]=Q(e,i)?t(e[i],e):""}var o="function"==typeof O?O(e):[];if(C){r={};for(var s=0;s<o.length;s++)r["$"+o[s]]=o[s]}for(var l in e)if(Q(e,l)&&(!n||String(Number(l))!==l||!(l<e.length)))if(C&&r["$"+l]instanceof Symbol)continue;else $.call(/[^\w$]/,l)?a.push(t(l,e)+": "+t(e[l],e)):a.push(l+": "+t(e[l],e));if("function"==typeof O)for(var u=0;u<o.length;u++)P.call(e,o[u])&&a.push("["+t(o[u])+"]: "+t(e[o[u]],e));return a}},16638:e=>{"use strict";e.exports=Number.isNaN||function(e){return e!=e}},18081:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return(0,n.default)(e),e.replace(RegExp("[^".concat(t,"]+"),"g"),"")}e.exports=t.default,e.exports.default=t.default},19692:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var n=l(r(79922)),a=l(r(54506)),i=l(r(74499)),o=l(r(26433)),s=l(r(29203));function l(e){return e&&e.__esModule?e:{default:e}}var u={allow_display_name:!1,allow_underscores:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[],host_whitelist:[]},c=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,d=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,f=/^[a-z\d]+$/,p=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,h=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A1-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,m=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,y=254;function g(e){var t=e.replace(/^"(.+)"$/,"$1");return!(!t.trim()||/[\.";<>]/.test(t)&&(t===e||t.split('"').length!==t.split('\\"').length))&&!0}function v(e,t){if((0,n.default)(e),(t=(0,s.default)(t,u)).require_display_name||t.allow_display_name){var r=e.match(c);if(r){var l=r[1];if(e=e.replace(l,"").replace(/(^<|>$)/g,""),l.endsWith(" ")&&(l=l.slice(0,-1)),!g(l))return!1}else if(t.require_display_name)return!1}if(!t.ignore_max_length&&e.length>y)return!1;var v=e.split("@"),b=v.pop(),_=b.toLowerCase();if(t.host_blacklist.includes(_)||t.host_whitelist.length>0&&!t.host_whitelist.includes(_))return!1;var w=v.join("@");if(t.domain_specific_validation&&("gmail.com"===_||"googlemail.com"===_)){var $=(w=w.toLowerCase()).split("+")[0];if(!(0,a.default)($.replace(/\./g,""),{min:6,max:30}))return!1;for(var S=$.split("."),E=0;E<S.length;E++)if(!f.test(S[E]))return!1}if(!1===t.ignore_max_length&&(!(0,a.default)(w,{max:64})||!(0,a.default)(b,{max:254})))return!1;if(!(0,i.default)(b,{require_tld:t.require_tld,ignore_max_length:t.ignore_max_length,allow_underscores:t.allow_underscores})){if(!t.allow_ip_domain)return!1;if(!(0,o.default)(b)){if(!b.startsWith("[")||!b.endsWith("]"))return!1;var x=b.slice(1,-1);if(0===x.length||!(0,o.default)(x))return!1}}if('"'===w[0])return w=w.slice(1,w.length-1),t.allow_utf8_local_part?m.test(w):p.test(w);for(var A=t.allow_utf8_local_part?h:d,k=w.split("."),O=0;O<k.length;O++)if(!A.test(k[O]))return!1;return!t.blacklisted_chars||-1===w.search(RegExp("[".concat(t.blacklisted_chars,"]+"),"g"))}e.exports=t.default,e.exports.default=t.default},19782:(e,t,r)=>{"use strict";var n=r(16526),a=r(72206),i=function(e,t,r){for(var n,a=e;null!=(n=a.next);a=n)if(n.key===t)return a.next=n.next,r||(n.next=e.next,e.next=n),n},o=function(e,t){if(e){var r=i(e,t);return r&&r.value}},s=function(e,t,r){var n=i(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}},l=function(e,t){return!!e&&!!i(e,t)},u=function(e,t){if(e)return i(e,t,!0)};e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new a("Side channel does not contain "+n(e))},delete:function(t){var r=e&&e.next,n=u(e,t);return n&&r&&r===n&&(e=void 0),!!n},get:function(t){return o(e,t)},has:function(t){return l(e,t)},set:function(t,r){e||(e={next:void 0}),s(e,t,r)}};return t}},20248:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=eY(r(73909)),i=eY(r(83637)),o=eY(r(92946)),s=eY(r(58031)),l=eY(r(6833)),u=eY(r(50553)),c=eY(r(82189)),d=eY(r(19692)),f=eY(r(51513)),p=eY(r(67953)),h=eY(r(26433)),m=eY(r(39070)),y=eY(r(74499)),g=eY(r(57300)),v=eY(r(73313)),b=eY(r(5464)),_=eY(r(99834)),w=eY(r(91428)),$=eJ(r(34200)),S=eJ(r(29427)),E=eY(r(52187)),x=eY(r(66939)),A=eY(r(21003)),k=eY(r(42145)),O=eY(r(68960)),I=eY(r(70892)),C=eY(r(78567)),T=eY(r(32539)),P=eY(r(25247)),R=eY(r(49600)),N=eY(r(4479)),j=eY(r(95736)),M=eY(r(42774)),L=eY(r(84409)),D=eJ(r(87398)),B=eY(r(56887)),F=eY(r(4427)),z=eY(r(56451)),U=eY(r(92178)),Z=eY(r(71384)),H=eY(r(30366)),V=eY(r(48479)),W=eY(r(38123)),q=eJ(r(58528)),K=eY(r(79998)),G=eY(r(37304)),J=eY(r(21508)),Y=eY(r(91385)),X=eY(r(4658)),Q=eY(r(29349)),ee=eY(r(3476)),et=eY(r(54506)),er=eY(r(99931)),en=eY(r(23641)),ea=eY(r(32942)),ei=eY(r(87931)),eo=eY(r(41467)),es=eY(r(83120)),el=eY(r(78647)),eu=eY(r(20356)),ec=eY(r(36884)),ed=eY(r(37399)),ef=eY(r(11732)),ep=eY(r(73169)),eh=eY(r(12396)),em=eJ(r(98886)),ey=eY(r(72107)),eg=eY(r(42463)),ev=eY(r(75705)),eb=r(67400),e_=eY(r(87896)),ew=eY(r(50560)),e$=eY(r(89843)),eS=eY(r(73242)),eE=eY(r(59237)),ex=eY(r(77543)),eA=eY(r(44448)),ek=eY(r(63392)),eO=eY(r(60091)),eI=eY(r(53034)),eC=eY(r(12260)),eT=eY(r(43528)),eP=eY(r(71648)),eR=eY(r(1367)),eN=eJ(r(54534)),ej=eY(r(13108)),eM=eY(r(2166)),eL=eY(r(47500)),eD=eY(r(83455)),eB=eY(r(29628)),eF=eY(r(552)),ez=eY(r(18081)),eU=eY(r(9219)),eZ=eY(r(41556)),eH=eY(r(90629)),eV=eY(r(68907)),eW=eY(r(94265)),eq=eY(r(38238)),eK=eY(r(85463));function eG(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(eG=function(e){return e?r:t})(e)}function eJ(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=eG(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,r&&r.set(e,a),a}function eY(e){return e&&e.__esModule?e:{default:e}}t.default={version:"13.12.0",toDate:a.default,toFloat:i.default,toInt:o.default,toBoolean:s.default,equals:l.default,contains:u.default,matches:c.default,isEmail:d.default,isURL:f.default,isMACAddress:p.default,isIP:h.default,isIPRange:m.default,isFQDN:y.default,isBoolean:b.default,isIBAN:q.default,isBIC:K.default,isAbaRouting:w.default,isAlpha:$.default,isAlphaLocales:$.locales,isAlphanumeric:S.default,isAlphanumericLocales:S.locales,isNumeric:E.default,isPassportNumber:x.default,isPort:A.default,isLowercase:k.default,isUppercase:O.default,isAscii:C.default,isFullWidth:T.default,isHalfWidth:P.default,isVariableWidth:R.default,isMultibyte:N.default,isSemVer:j.default,isSurrogatePair:M.default,isInt:L.default,isIMEI:I.default,isFloat:D.default,isFloatLocales:D.locales,isDecimal:B.default,isHexadecimal:F.default,isOctal:z.default,isDivisibleBy:U.default,isHexColor:Z.default,isRgbColor:H.default,isHSL:V.default,isISRC:W.default,isMD5:G.default,isHash:J.default,isJWT:Y.default,isJSON:X.default,isEmpty:Q.default,isLength:ee.default,isLocale:_.default,isByteLength:et.default,isUUID:er.default,isMongoId:en.default,isAfter:ea.default,isBefore:ei.default,isIn:eo.default,isLuhnNumber:es.default,isCreditCard:el.default,isIdentityCard:eu.default,isEAN:ec.default,isISIN:ed.default,isISBN:ef.default,isISSN:ep.default,isMobilePhone:em.default,isMobilePhoneLocales:em.locales,isPostalCode:eN.default,isPostalCodeLocales:eN.locales,isEthereumAddress:ey.default,isCurrency:eg.default,isBtcAddress:ev.default,isISO6346:eb.isISO6346,isFreightContainerID:eb.isFreightContainerID,isISO6391:e_.default,isISO8601:ew.default,isRFC3339:e$.default,isISO31661Alpha2:eS.default,isISO31661Alpha3:eE.default,isISO4217:ex.default,isBase32:eA.default,isBase58:ek.default,isBase64:eO.default,isDataURI:eI.default,isMagnetURI:eC.default,isMailtoURI:eT.default,isMimeType:eP.default,isLatLong:eR.default,ltrim:ej.default,rtrim:eM.default,trim:eL.default,escape:eD.default,unescape:eB.default,stripLow:eF.default,whitelist:ez.default,blacklist:eU.default,isWhitelisted:eZ.default,normalizeEmail:eH.default,toString:toString,isSlug:eV.default,isStrongPassword:eq.default,isTaxID:eh.default,isDate:g.default,isTime:v.default,isLicensePlate:eW.default,isVAT:eK.default,ibanLocales:q.locales},e.exports=t.default,e.exports.default=t.default},20356:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=i(r(79922)),a=i(r(84409));function i(e){return e&&e.__esModule?e:{default:e}}var o={PL:function(e){(0,n.default)(e);var t={1:1,2:3,3:7,4:9,5:1,6:3,7:7,8:9,9:1,10:3,11:0};if(null!=e&&11===e.length&&(0,a.default)(e,{allow_leading_zeroes:!0})){var r=e.split("").slice(0,-1).reduce(function(e,r,n){return e+Number(r)*t[n+1]},0)%10,i=Number(e.charAt(e.length-1));if(0===r&&0===i||i===10-r)return!0}return!1},ES:function(e){(0,n.default)(e);var t=/^[0-9X-Z][0-9]{7}[TRWAGMYFPDXBNJZSQVHLCKE]$/,r={X:0,Y:1,Z:2},a=["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"],i=e.trim().toUpperCase();if(!t.test(i))return!1;var o=i.slice(0,-1).replace(/[X,Y,Z]/g,function(e){return r[e]});return i.endsWith(a[o%23])},FI:function(e){return(0,n.default)(e),11===e.length&&!!e.match(/^\d{6}[\-A\+]\d{3}[0-9ABCDEFHJKLMNPRSTUVWXY]{1}$/)&&"0123456789ABCDEFHJKLMNPRSTUVWXY"[(1e3*parseInt(e.slice(0,6),10)+parseInt(e.slice(7,10),10))%31]===e.slice(10,11)},IN:function(e){var t=/^[1-9]\d{3}\s?\d{4}\s?\d{4}$/,r=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],n=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],a=e.trim();if(!t.test(a))return!1;var i=0;return a.replace(/\s/g,"").split("").map(Number).reverse().forEach(function(e,t){i=r[i][n[t%8][e]]}),0===i},IR:function(e){if(!e.match(/^\d{10}$/)||0===parseInt((e="0000".concat(e).slice(e.length-6)).slice(3,9),10))return!1;for(var t=parseInt(e.slice(9,10),10),r=0,n=0;n<9;n++)r+=parseInt(e.slice(n,n+1),10)*(10-n);return(r%=11)<2&&t===r||r>=2&&t===11-r},IT:function(e){return 9===e.length&&"CA00000AA"!==e&&e.search(/C[A-Z]\d{5}[A-Z]{2}/i)>-1},NO:function(e){var t=e.trim();if(isNaN(Number(t))||11!==t.length||"00000000000"===t)return!1;var r=t.split("").map(Number),n=(11-(3*r[0]+7*r[1]+6*r[2]+ +r[3]+8*r[4]+9*r[5]+4*r[6]+5*r[7]+2*r[8])%11)%11,a=(11-(5*r[0]+4*r[1]+3*r[2]+2*r[3]+7*r[4]+6*r[5]+5*r[6]+4*r[7]+3*r[8]+2*n)%11)%11;return n===r[9]&&a===r[10]},TH:function(e){if(!e.match(/^[1-8]\d{12}$/))return!1;for(var t=0,r=0;r<12;r++)t+=parseInt(e[r],10)*(13-r);return e[12]===((11-t%11)%10).toString()},LK:function(e){var t=/^[1-9]\d{8}[vx]$/i,r=/^[1-9]\d{11}$/i;return!!(10===e.length&&t.test(e))||!!(12===e.length&&r.test(e))},"he-IL":function(e){var t=/^\d{9}$/,r=e.trim();if(!t.test(r))return!1;for(var n,a=r,i=0,o=0;o<a.length;o++)i+=(n=Number(a[o])*(o%2+1))>9?n-9:n;return i%10==0},"ar-LY":function(e){return!!/^(1|2)\d{11}$/.test(e.trim())},"ar-TN":function(e){return!!/^\d{8}$/.test(e.trim())},"zh-CN":function(e){var t=["11","12","13","14","15","21","22","23","31","32","33","34","35","36","37","41","42","43","44","45","46","50","51","52","53","54","61","62","63","64","65","71","81","82","91"],r=["7","9","10","5","8","4","2","1","6","3","7","9","10","5","8","4","2"],n=["1","0","X","9","8","7","6","5","4","3","2"],a=function(e){return t.includes(e)},i=function(e){var t=parseInt(e.substring(0,4),10),r=parseInt(e.substring(4,6),10),n=parseInt(e.substring(6),10),a=new Date(t,r-1,n);if(a>new Date);else if(a.getFullYear()===t&&a.getMonth()===r-1&&a.getDate()===n)return!0;return!1},o=function(e){for(var t=e.substring(0,17),a=0,i=0;i<17;i++)a+=parseInt(t.charAt(i),10)*parseInt(r[i],10);return n[a%11]},s=function(e){return o(e)===e.charAt(17).toUpperCase()},l=function(e){var t=/^[1-9]\d{7}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}$/.test(e);return!!t&&!!(t=a(e.substring(0,2)))&&!!(t=i("19".concat(e.substring(6,12))))},u=function(e){var t=/^[1-9]\d{5}[1-9]\d{3}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}(\d|x|X)$/.test(e);return!!t&&!!(t=a(e.substring(0,2)))&&!!(t=i(e.substring(6,14)))&&s(e)};return function(e){return!!/^\d{15}|(\d{17}(\d|x|X))$/.test(e)&&(15===e.length?l(e):u(e))}(e)},"zh-HK":function(e){e=e.trim();var t,r=/^[0-9]$/;if(!/^[A-Z]{1,2}[0-9]{6}((\([0-9A]\))|(\[[0-9A]\])|([0-9A]))$/.test(e=e.toUpperCase()))return!1;8===(e=e.replace(/\[|\]|\(|\)/g,"")).length&&(e="3".concat(e));for(var n=0,a=0;a<=7;a++){var i=void 0;n+=(i=r.test(e[a])?e[a]:(e[a].charCodeAt(0)-55)%11)*(9-a)}return n%=11,(t=0===n?"0":1===n?"A":String(11-n))===e[e.length-1]},"zh-TW":function(e){var t={A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:34,J:18,K:19,L:20,M:21,N:22,O:35,P:23,Q:24,R:25,S:26,T:27,U:28,V:29,W:32,X:30,Y:31,Z:33},r=e.trim().toUpperCase();return!!/^[A-Z][0-9]{9}$/.test(r)&&Array.from(r).reduce(function(e,r,n){if(0===n){var a=t[r];return a%10*9+Math.floor(a/10)}return 9===n?(10-e%10-Number(r))%10==0:e+Number(r)*(9-n)},0)}};function s(e,t){if((0,n.default)(e),t in o)return o[t](e);if("any"===t){for(var r in o)if(o.hasOwnProperty(r)&&(0,o[r])(e))return!0;return!1}throw Error("Invalid locale '".concat(t,"'"))}e.exports=t.default,e.exports.default=t.default},20970:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=l(r(55729));l(r(56760));var o=l(r(43232)),s=l(r(56121));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function d(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.default=function(e){var t=function(t){function r(e){u(this,r);var t=c(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.childBindings={domNode:null},t}return d(r,t),a(r,[{key:"componentDidMount",value:function(){if("undefined"==typeof window)return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(e){this.props.name!==e.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if("undefined"==typeof window)return!1;o.default.unregister(this.props.name)}},{key:"registerElems",value:function(e){o.default.register(e,this.childBindings.domNode)}},{key:"render",value:function(){return i.default.createElement(e,n({},this.props,{parentBindings:this.childBindings}))}}]),r}(i.default.Component);return t.propTypes={name:s.default.string,id:s.default.string},t}},21003:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=a(r(84409));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return(0,n.default)(e,{allow_leading_zeroes:!1,min:0,max:65535})}e.exports=t.default,e.exports.default=t.default},21093:(e,t,r)=>{"use strict";var n,a=r(83639),i=r(27654);try{n=[].__proto__===Array.prototype}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var o=!!n&&i&&i(Object.prototype,"__proto__"),s=Object,l=s.getPrototypeOf;e.exports=o&&"function"==typeof o.get?a([o.get]):"function"==typeof l&&function(e){return l(null==e?e:s(e))}},21175:(e,t,r)=>{var n=r(51642).Buffer;e.exports=function(e){return"string"==typeof e?e:"number"==typeof e||n.isBuffer(e)?e.toString():JSON.stringify(e)}},21508:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i={md5:32,md4:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8};function o(e,t){return(0,n.default)(e),new RegExp("^[a-fA-F0-9]{".concat(i[t],"}$")).test(e)}e.exports=t.default,e.exports.default=t.default},21667:(e,t,r)=>{"use strict";var n=r(24813),a=Object.prototype.toString,i=Object.prototype.hasOwnProperty,o=function(e,t,r){for(var n=0,a=e.length;n<a;n++)i.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))},s=function(e,t,r){for(var n=0,a=e.length;n<a;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)},l=function(e,t,r){for(var n in e)i.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))};function u(e){return"[object Array]"===a.call(e)}e.exports=function(e,t,r){var a;if(!n(t))throw TypeError("iterator must be a function");arguments.length>=3&&(a=r),u(e)?o(e,t,a):"string"==typeof e?s(e,t,a):l(e,t,a)}},21988:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.farsiLocales=t.englishLocales=t.dotDecimal=t.decimal=t.commaDecimal=t.bengaliLocales=t.arabicLocales=t.alphanumeric=t.alpha=void 0;for(var r,n=t.alpha={"en-US":/^[A-Z]+$/i,"az-AZ":/^[A-VXYZÇƏĞİıÖŞÜ]+$/i,"bg-BG":/^[А-Я]+$/i,"cs-CZ":/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,"da-DK":/^[A-ZÆØÅ]+$/i,"de-DE":/^[A-ZÄÖÜß]+$/i,"el-GR":/^[Α-ώ]+$/i,"es-ES":/^[A-ZÁÉÍÑÓÚÜ]+$/i,"fa-IR":/^[ابپتثجچحخدذرزژسشصضطظعغفقکگلمنوهی]+$/i,"fi-FI":/^[A-ZÅÄÖ]+$/i,"fr-FR":/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,"it-IT":/^[A-ZÀÉÈÌÎÓÒÙ]+$/i,"ja-JP":/^[ぁ-んァ-ヶｦ-ﾟ一-龠ー・。、]+$/i,"nb-NO":/^[A-ZÆØÅ]+$/i,"nl-NL":/^[A-ZÁÉËÏÓÖÜÚ]+$/i,"nn-NO":/^[A-ZÆØÅ]+$/i,"hu-HU":/^[A-ZÁÉÍÓÖŐÚÜŰ]+$/i,"pl-PL":/^[A-ZĄĆĘŚŁŃÓŻŹ]+$/i,"pt-PT":/^[A-ZÃÁÀÂÄÇÉÊËÍÏÕÓÔÖÚÜ]+$/i,"ru-RU":/^[А-ЯЁ]+$/i,"kk-KZ":/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]+$/i,"sl-SI":/^[A-ZČĆĐŠŽ]+$/i,"sk-SK":/^[A-ZÁČĎÉÍŇÓŠŤÚÝŽĹŔĽÄÔ]+$/i,"sr-RS@latin":/^[A-ZČĆŽŠĐ]+$/i,"sr-RS":/^[А-ЯЂЈЉЊЋЏ]+$/i,"sv-SE":/^[A-ZÅÄÖ]+$/i,"th-TH":/^[ก-๐\s]+$/i,"tr-TR":/^[A-ZÇĞİıÖŞÜ]+$/i,"uk-UA":/^[А-ЩЬЮЯЄIЇҐі]+$/i,"vi-VN":/^[A-ZÀÁẠẢÃÂẦẤẬẨẪĂẰẮẶẲẴĐÈÉẸẺẼÊỀẾỆỂỄÌÍỊỈĨÒÓỌỎÕÔỒỐỘỔỖƠỜỚỢỞỠÙÚỤỦŨƯỪỨỰỬỮỲÝỴỶỸ]+$/i,"ko-KR":/^[ㄱ-ㅎㅏ-ㅣ가-힣]*$/,"ku-IQ":/^[ئابپتجچحخدرڕزژسشعغفڤقکگلڵمنوۆھەیێيطؤثآإأكضصةظذ]+$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]+$/,he:/^[א-ת]+$/,fa:/^['آاءأؤئبپتثجچحخدذرزژسشصضطظعغفقکگلمنوهةی']+$/i,bn:/^['ঀঁংঃঅআইঈউঊঋঌএঐওঔকখগঘঙচছজঝঞটঠডঢণতথদধনপফবভমযরলশষসহ়ঽািীুূৃৄেৈোৌ্ৎৗড়ঢ়য়ৠৡৢৣৰৱ৲৳৴৵৶৷৸৹৺৻']+$/,eo:/^[ABCĈD-GĜHĤIJĴK-PRSŜTUŬVZ]+$/i,"hi-IN":/^[\u0900-\u0961]+[\u0972-\u097F]*$/i,"si-LK":/^[\u0D80-\u0DFF]+$/},a=t.alphanumeric={"en-US":/^[0-9A-Z]+$/i,"az-AZ":/^[0-9A-VXYZÇƏĞİıÖŞÜ]+$/i,"bg-BG":/^[0-9А-Я]+$/i,"cs-CZ":/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,"da-DK":/^[0-9A-ZÆØÅ]+$/i,"de-DE":/^[0-9A-ZÄÖÜß]+$/i,"el-GR":/^[0-9Α-ω]+$/i,"es-ES":/^[0-9A-ZÁÉÍÑÓÚÜ]+$/i,"fi-FI":/^[0-9A-ZÅÄÖ]+$/i,"fr-FR":/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,"it-IT":/^[0-9A-ZÀÉÈÌÎÓÒÙ]+$/i,"ja-JP":/^[0-9０-９ぁ-んァ-ヶｦ-ﾟ一-龠ー・。、]+$/i,"hu-HU":/^[0-9A-ZÁÉÍÓÖŐÚÜŰ]+$/i,"nb-NO":/^[0-9A-ZÆØÅ]+$/i,"nl-NL":/^[0-9A-ZÁÉËÏÓÖÜÚ]+$/i,"nn-NO":/^[0-9A-ZÆØÅ]+$/i,"pl-PL":/^[0-9A-ZĄĆĘŚŁŃÓŻŹ]+$/i,"pt-PT":/^[0-9A-ZÃÁÀÂÄÇÉÊËÍÏÕÓÔÖÚÜ]+$/i,"ru-RU":/^[0-9А-ЯЁ]+$/i,"kk-KZ":/^[0-9А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]+$/i,"sl-SI":/^[0-9A-ZČĆĐŠŽ]+$/i,"sk-SK":/^[0-9A-ZÁČĎÉÍŇÓŠŤÚÝŽĹŔĽÄÔ]+$/i,"sr-RS@latin":/^[0-9A-ZČĆŽŠĐ]+$/i,"sr-RS":/^[0-9А-ЯЂЈЉЊЋЏ]+$/i,"sv-SE":/^[0-9A-ZÅÄÖ]+$/i,"th-TH":/^[ก-๙\s]+$/i,"tr-TR":/^[0-9A-ZÇĞİıÖŞÜ]+$/i,"uk-UA":/^[0-9А-ЩЬЮЯЄIЇҐі]+$/i,"ko-KR":/^[0-9ㄱ-ㅎㅏ-ㅣ가-힣]*$/,"ku-IQ":/^[٠١٢٣٤٥٦٧٨٩0-9ئابپتجچحخدرڕزژسشعغفڤقکگلڵمنوۆھەیێيطؤثآإأكضصةظذ]+$/i,"vi-VN":/^[0-9A-ZÀÁẠẢÃÂẦẤẬẨẪĂẰẮẶẲẴĐÈÉẸẺẼÊỀẾỆỂỄÌÍỊỈĨÒÓỌỎÕÔỒỐỘỔỖƠỜỚỢỞỠÙÚỤỦŨƯỪỨỰỬỮỲÝỴỶỸ]+$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]+$/,he:/^[0-9א-ת]+$/,fa:/^['0-9آاءأؤئبپتثجچحخدذرزژسشصضطظعغفقکگلمنوهةی۱۲۳۴۵۶۷۸۹۰']+$/i,bn:/^['ঀঁংঃঅআইঈউঊঋঌএঐওঔকখগঘঙচছজঝঞটঠডঢণতথদধনপফবভমযরলশষসহ়ঽািীুূৃৄেৈোৌ্ৎৗড়ঢ়য়ৠৡৢৣ০১২৩৪৫৬৭৮৯ৰৱ৲৳৴৵৶৷৸৹৺৻']+$/,eo:/^[0-9ABCĈD-GĜHĤIJĴK-PRSŜTUŬVZ]+$/i,"hi-IN":/^[\u0900-\u0963]+[\u0966-\u097F]*$/i,"si-LK":/^[0-9\u0D80-\u0DFF]+$/},i=t.decimal={"en-US":".",ar:"٫"},o=t.englishLocales=["AU","GB","HK","IN","NZ","ZA","ZM"],s=0;s<o.length;s++)n[r="en-".concat(o[s])]=n["en-US"],a[r]=a["en-US"],i[r]=i["en-US"];for(var l,u=t.arabicLocales=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"],c=0;c<u.length;c++)n[l="ar-".concat(u[c])]=n.ar,a[l]=a.ar,i[l]=i.ar;for(var d,f=t.farsiLocales=["IR","AF"],p=0;p<f.length;p++)a[d="fa-".concat(f[p])]=a.fa,i[d]=i.ar;for(var h,m=t.bengaliLocales=["BD","IN"],y=0;y<m.length;y++)n[h="bn-".concat(m[y])]=n.bn,a[h]=a.bn,i[h]=i["en-US"];for(var g=t.dotDecimal=["ar-EG","ar-LB","ar-LY"],v=t.commaDecimal=["bg-BG","cs-CZ","da-DK","de-DE","el-GR","en-ZM","eo","es-ES","fr-CA","fr-FR","id-ID","it-IT","ku-IQ","hi-IN","hu-HU","nb-NO","nn-NO","nl-NL","pl-PL","pt-PT","ru-RU","kk-KZ","si-LK","sl-SI","sr-RS@latin","sr-RS","sv-SE","tr-TR","uk-UA","vi-VN"],b=0;b<g.length;b++)i[g[b]]=i["en-US"];for(var _=0;_<v.length;_++)i[v[_]]=",";n["fr-CA"]=n["fr-FR"],a["fr-CA"]=a["fr-FR"],n["pt-BR"]=n["pt-PT"],a["pt-BR"]=a["pt-PT"],i["pt-BR"]=i["pt-PT"],n["pl-Pl"]=n["pl-PL"],a["pl-Pl"]=a["pl-PL"],i["pl-Pl"]=i["pl-PL"],n["fa-AF"]=n.fa},23136:(e,t,r)=>{"use strict";let n=r(26829);e.exports=(e,t)=>{let r=n(e,t);return r?r.version:null}},23641:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=i(r(79922)),a=i(r(4427));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,n.default)(e),(0,a.default)(e)&&24===e.length}e.exports=t.default,e.exports.default=t.default},23950:(e,t,r)=>{"use strict";r.d(t,{r:()=>tV});var n,a,i,o,s,l,u,c,d,f,p,h,m,y,g="vercel.ai.error",v=Symbol.for(g),b=class e extends Error{constructor({name:e,message:t,cause:r}){super(t),this[n]=!0,this.name=e,this.cause=r}static isInstance(t){return e.hasMarker(t,g)}static hasMarker(e,t){let r=Symbol.for(t);return null!=e&&"object"==typeof e&&r in e&&"boolean"==typeof e[r]&&!0===e[r]}};n=v;var _=b,w="AI_APICallError",$=`vercel.ai.error.${w}`,S=Symbol.for($),E=class extends _{constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:i,responseBody:o,cause:s,isRetryable:l=null!=n&&(408===n||409===n||429===n||n>=500),data:u}){super({name:w,message:e,cause:s}),this[a]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=i,this.responseBody=o,this.isRetryable=l,this.data=u}static isInstance(e){return _.hasMarker(e,$)}};a=S;var x="AI_EmptyResponseBodyError",A=`vercel.ai.error.${x}`,k=Symbol.for(A),O=class extends _{constructor({message:e="Empty response body"}={}){super({name:x,message:e}),this[i]=!0}static isInstance(e){return _.hasMarker(e,A)}};function I(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}i=k;var C="AI_InvalidArgumentError",T=`vercel.ai.error.${C}`,P=Symbol.for(T),R=class extends _{constructor({message:e,cause:t,argument:r}){super({name:C,message:e,cause:t}),this[o]=!0,this.argument=r}static isInstance(e){return _.hasMarker(e,T)}};o=P;var N="AI_InvalidPromptError",j=`vercel.ai.error.${N}`,M=Symbol.for(j),L=class extends _{constructor({prompt:e,message:t,cause:r}){super({name:N,message:`Invalid prompt: ${t}`,cause:r}),this[s]=!0,this.prompt=e}static isInstance(e){return _.hasMarker(e,j)}};s=M;var D="AI_InvalidResponseDataError",B=`vercel.ai.error.${D}`,F=Symbol.for(B),z=class extends _{constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:D,message:t}),this[l]=!0,this.data=e}static isInstance(e){return _.hasMarker(e,B)}};l=F;var U="AI_JSONParseError",Z=`vercel.ai.error.${U}`,H=Symbol.for(Z),V=class extends _{constructor({text:e,cause:t}){super({name:U,message:`JSON parsing failed: Text: ${e}.
Error message: ${I(t)}`,cause:t}),this[u]=!0,this.text=e}static isInstance(e){return _.hasMarker(e,Z)}};u=H;var W="AI_LoadAPIKeyError",q=`vercel.ai.error.${W}`,K=Symbol.for(q),G=class extends _{constructor({message:e}){super({name:W,message:e}),this[c]=!0}static isInstance(e){return _.hasMarker(e,q)}};c=K;var J="AI_LoadSettingError";d=Symbol.for(`vercel.ai.error.${J}`);var Y="AI_NoContentGeneratedError";f=Symbol.for(`vercel.ai.error.${Y}`);var X="AI_NoSuchModelError";p=Symbol.for(`vercel.ai.error.${X}`);var Q="AI_TooManyEmbeddingValuesForCallError",ee=`vercel.ai.error.${Q}`,et=Symbol.for(ee),er=class extends _{constructor(e){super({name:Q,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[h]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return _.hasMarker(e,ee)}};h=et;var en="AI_TypeValidationError",ea=`vercel.ai.error.${en}`,ei=Symbol.for(ea),eo=class e extends _{constructor({value:e,cause:t}){super({name:en,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${I(t)}`,cause:t}),this[m]=!0,this.value=e}static isInstance(e){return _.hasMarker(e,ea)}static wrap({value:t,cause:r}){return e.isInstance(r)&&r.value===t?r:new e({value:t,cause:r})}};m=ei;var es=eo,el="AI_UnsupportedFunctionalityError",eu=`vercel.ai.error.${el}`,ec=Symbol.for(eu),ed=class extends _{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:el,message:t}),this[y]=!0,this.functionality=e}static isInstance(e){return _.hasMarker(e,eu)}};function ef(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||(Array.isArray(e)?e.every(ef):"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&ef(t)))}y=ec;let ep=(e,t=21)=>(r=t)=>{let n="",a=0|r;for(;a--;)n+=e[Math.random()*e.length|0];return n};var eh=r(29486),em=r(29143);function ey(...e){return e.reduce((e,t)=>({...e,...null!=t?t:{}}),{})}function eg(){let e,t,r,n="",a=[];function i(e,t){if(""===e)return void o(t);if(e.startsWith(":"))return;let r=e.indexOf(":");if(-1===r)return void s(e,"");let n=e.slice(0,r),a=r+1;s(n,a<e.length&&" "===e[a]?e.slice(a+1):e.slice(a))}function o(n){a.length>0&&(n.enqueue({event:e,data:a.join("\n"),id:t,retry:r}),a=[],e=void 0,r=void 0)}function s(n,i){switch(n){case"event":e=i;break;case"data":a.push(i);break;case"id":t=i;break;case"retry":let o=parseInt(i,10);isNaN(o)||(r=o)}}return new TransformStream({transform(e,t){let{lines:r,incompleteLine:a}=ev(n,e);n=a;for(let e=0;e<r.length;e++)i(r[e],t)},flush(e){i(n,e),o(e)}})}function ev(e,t){let r=[],n=e;for(let e=0;e<t.length;){let a=t[e++];"\n"===a?(r.push(n),n=""):"\r"===a?(r.push(n),n="","\n"===t[e]&&e++):n+=a}return{lines:r,incompleteLine:n}}function eb(e){let t={};return e.headers.forEach((e,r)=>{t[r]=e}),t}var e_=(({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let a=ep(r,t);if(null==e)return a;if(r.includes(n))throw new R({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return t=>`${e}${n}${a(t)}`})();function ew(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>null!=t))}function e$(e){return e instanceof Error&&("AbortError"===e.name||"TimeoutError"===e.name)}function eS({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if("string"==typeof e)return e;if(null!=e)throw new G({message:`${n} API key must be a string.`});if(void 0===em)throw new G({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(null==(e=em.env[t]))throw new G({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if("string"!=typeof e)throw new G({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}var eE=Symbol.for("vercel.ai.validator");function ex(e){return{[eE]:!0,validate:e}}function eA(e){return"object"==typeof e&&null!==e&&eE in e&&!0===e[eE]&&"validate"in e}function ek(e){return eA(e)?e:eO(e)}function eO(e){return ex(t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}})}function eI({value:e,schema:t}){let r=eC({value:e,schema:t});if(!r.success)throw es.wrap({value:e,cause:r.error});return r.value}function eC({value:e,schema:t}){let r=ek(t);try{if(null==r.validate)return{success:!0,value:e};let t=r.validate(e);if(t.success)return t;return{success:!1,error:es.wrap({value:e,cause:t.error})}}catch(t){return{success:!1,error:es.wrap({value:e,cause:t})}}}function eT({text:e,schema:t}){try{let r=eh.parse(e);if(null==t)return r;return eI({value:r,schema:t})}catch(t){if(V.isInstance(t)||es.isInstance(t))throw t;throw new V({text:e,cause:t})}}function eP({text:e,schema:t}){try{let r=eh.parse(e);if(null==t)return{success:!0,value:r,rawValue:r};let n=eC({value:r,schema:t});return n.success?{...n,rawValue:r}:n}catch(t){return{success:!1,error:V.isInstance(t)?t:new V({text:e,cause:t})}}}function eR(e){try{return eh.parse(e),!0}catch(e){return!1}}function eN({provider:e,providerOptions:t,schema:r}){if((null==t?void 0:t[e])==null)return;let n=eC({value:t[e],schema:r});if(!n.success)throw new R({argument:"providerOptions",message:`invalid ${e} provider options`,cause:n.error});return n.value}var ej=()=>globalThis.fetch,eM=async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o})=>eD({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o}),eL=async({url:e,headers:t,formData:r,failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o})=>eD({url:e,headers:t,body:{content:r,values:Object.fromEntries(r.entries())},failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o}),eD=async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:a,abortSignal:i,fetch:o=ej()})=>{try{let s=await o(e,{method:"POST",headers:ew(t),body:r.content,signal:i}),l=eb(s);if(!s.ok){let t;try{t=await a({response:s,url:e,requestBodyValues:r.values})}catch(t){if(e$(t)||E.isInstance(t))throw t;throw new E({message:"Failed to process error response",cause:t,statusCode:s.status,url:e,responseHeaders:l,requestBodyValues:r.values})}throw t.value}try{return await n({response:s,url:e,requestBodyValues:r.values})}catch(t){if(t instanceof Error&&(e$(t)||E.isInstance(t)))throw t;throw new E({message:"Failed to process successful response",cause:t,statusCode:s.status,url:e,responseHeaders:l,requestBodyValues:r.values})}}catch(t){if(e$(t))throw t;if(t instanceof TypeError&&"fetch failed"===t.message){let n=t.cause;if(null!=n)throw new E({message:`Cannot connect to API: ${n.message}`,cause:n,url:e,requestBodyValues:r.values,isRetryable:!0})}throw t}},eB=({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:a,requestBodyValues:i})=>{let o=await n.text(),s=eb(n);if(""===o.trim())return{responseHeaders:s,value:new E({message:n.statusText,url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,isRetryable:null==r?void 0:r(n)})};try{let l=eT({text:o,schema:e});return{responseHeaders:s,value:new E({message:t(l),url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,data:l,isRetryable:null==r?void 0:r(n,l)})}}catch(e){return{responseHeaders:s,value:new E({message:n.statusText,url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,isRetryable:null==r?void 0:r(n)})}}},eF=e=>async({response:t})=>{let r=eb(t);if(null==t.body)throw new O({});return{responseHeaders:r,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(eg()).pipeThrough(new TransformStream({transform({data:t},r){"[DONE]"!==t&&r.enqueue(eP({text:t,schema:e}))}}))}},ez=e=>async({response:t,url:r,requestBodyValues:n})=>{let a=await t.text(),i=eP({text:a,schema:e}),o=eb(t);if(!i.success)throw new E({message:"Invalid JSON response",cause:i.error,statusCode:t.status,responseHeaders:o,responseBody:a,url:r,requestBodyValues:n});return{responseHeaders:o,value:i.value,rawValue:i.rawValue}},eU=()=>async({response:e,url:t,requestBodyValues:r})=>{let n=eb(e);if(!e.body)throw new E({message:"Response body is empty",url:t,requestBodyValues:r,statusCode:e.status,responseHeaders:n,responseBody:void 0});try{let t=await e.arrayBuffer();return{responseHeaders:n,value:new Uint8Array(t)}}catch(a){throw new E({message:"Failed to read response as array buffer",url:t,requestBodyValues:r,statusCode:e.status,responseHeaders:n,responseBody:void 0,cause:a})}},{btoa:eZ,atob:eH}=globalThis;function eV(e){let t=eH(e.replace(/-/g,"+").replace(/_/g,"/"));return Uint8Array.from(t,e=>e.codePointAt(0))}function eW(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return eZ(t)}function eq(e){return null==e?void 0:e.replace(/\/$/,"")}var eK=r(31078);function eG({prompt:e,useLegacyFunctionCalling:t=!1,systemMessageMode:r="system"}){let n=[],a=[];for(let{role:i,content:o}of e)switch(i){case"system":switch(r){case"system":n.push({role:"system",content:o});break;case"developer":n.push({role:"developer",content:o});break;case"remove":a.push({type:"other",message:"system messages are removed for this model"});break;default:{let e=r;throw Error(`Unsupported system message mode: ${e}`)}}break;case"user":if(1===o.length&&"text"===o[0].type){n.push({role:"user",content:o[0].text});break}n.push({role:"user",content:o.map((e,t)=>{var r,n,a,i;switch(e.type){case"text":return{type:"text",text:e.text};case"image":return{type:"image_url",image_url:{url:e.image instanceof URL?e.image.toString():`data:${null!=(r=e.mimeType)?r:"image/jpeg"};base64,${eW(e.image)}`,detail:null==(a=null==(n=e.providerMetadata)?void 0:n.openai)?void 0:a.imageDetail}};case"file":if(e.data instanceof URL)throw new ed({functionality:"'File content parts with URL data' functionality not supported."});switch(e.mimeType){case"audio/wav":return{type:"input_audio",input_audio:{data:e.data,format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:e.data,format:"mp3"}};case"application/pdf":return{type:"file",file:{filename:null!=(i=e.filename)?i:`part-${t}.pdf`,file_data:`data:application/pdf;base64,${e.data}`}};default:throw new ed({functionality:`File content part type ${e.mimeType} in user messages`})}}})});break;case"assistant":{let e="",r=[];for(let t of o)switch(t.type){case"text":e+=t.text;break;case"tool-call":r.push({id:t.toolCallId,type:"function",function:{name:t.toolName,arguments:JSON.stringify(t.args)}})}if(t){if(r.length>1)throw new ed({functionality:"useLegacyFunctionCalling with multiple tool calls in one message"});n.push({role:"assistant",content:e,function_call:r.length>0?r[0].function:void 0})}else n.push({role:"assistant",content:e,tool_calls:r.length>0?r:void 0});break}case"tool":for(let e of o)t?n.push({role:"function",name:e.toolName,content:JSON.stringify(e.result)}):n.push({role:"tool",tool_call_id:e.toolCallId,content:JSON.stringify(e.result)});break;default:{let e=i;throw Error(`Unsupported role: ${e}`)}}return{messages:n,warnings:a}}function eJ(e){var t,r;return null!=(r=null==(t=null==e?void 0:e.content)?void 0:t.map(({token:e,logprob:t,top_logprobs:r})=>({token:e,logprob:t,topLogprobs:r?r.map(({token:e,logprob:t})=>({token:e,logprob:t})):[]})))?r:void 0}function eY(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var eX=eK.z.object({error:eK.z.object({message:eK.z.string(),type:eK.z.string().nullish(),param:eK.z.any().nullish(),code:eK.z.union([eK.z.string(),eK.z.number()]).nullish()})}),eQ=eB({errorSchema:eX,errorToMessage:e=>e.error.message});function e0({id:e,model:t,created:r}){return{id:null!=e?e:void 0,modelId:null!=t?t:void 0,timestamp:null!=r?new Date(1e3*r):void 0}}function e1({mode:e,useLegacyFunctionCalling:t=!1,structuredOutputs:r}){var n;let a=(null==(n=e.tools)?void 0:n.length)?e.tools:void 0,i=[];if(null==a)return{tools:void 0,tool_choice:void 0,toolWarnings:i};let o=e.toolChoice;if(t){let e=[];for(let t of a)"provider-defined"===t.type?i.push({type:"unsupported-tool",tool:t}):e.push({name:t.name,description:t.description,parameters:t.parameters});if(null==o)return{functions:e,function_call:void 0,toolWarnings:i};switch(o.type){case"auto":case"none":case void 0:return{functions:e,function_call:void 0,toolWarnings:i};case"required":throw new ed({functionality:"useLegacyFunctionCalling and toolChoice: required"});default:return{functions:e,function_call:{name:o.toolName},toolWarnings:i}}}let s=[];for(let e of a)"provider-defined"===e.type?i.push({type:"unsupported-tool",tool:e}):s.push({type:"function",function:{name:e.name,description:e.description,parameters:e.parameters,strict:!!r||void 0}});if(null==o)return{tools:s,tool_choice:void 0,toolWarnings:i};let l=o.type;switch(l){case"auto":case"none":case"required":return{tools:s,tool_choice:l,toolWarnings:i};case"tool":return{tools:s,tool_choice:{type:"function",function:{name:o.toolName}},toolWarnings:i};default:{let e=l;throw new ed({functionality:`Unsupported tool choice type: ${e}`})}}}var e2=class{constructor(e,t,r){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=r}get supportsStructuredOutputs(){var e;return null!=(e=this.settings.structuredOutputs)?e:e8(this.modelId)}get defaultObjectGenerationMode(){return e6(this.modelId)?"tool":this.supportsStructuredOutputs?"json":"tool"}get provider(){return this.config.provider}get supportsImageUrls(){return!this.settings.downloadImages}getArgs({mode:e,prompt:t,maxTokens:r,temperature:n,topP:a,topK:i,frequencyPenalty:o,presencePenalty:s,stopSequences:l,responseFormat:u,seed:c,providerMetadata:d}){var f,p,h,m,y,g,v,b;let _=e.type,w=[];null!=i&&w.push({type:"unsupported-setting",setting:"topK"}),(null==u?void 0:u.type)!=="json"||null==u.schema||this.supportsStructuredOutputs||w.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});let $=this.settings.useLegacyFunctionCalling;if($&&!0===this.settings.parallelToolCalls)throw new ed({functionality:"useLegacyFunctionCalling with parallelToolCalls"});if($&&this.supportsStructuredOutputs)throw new ed({functionality:"structuredOutputs with useLegacyFunctionCalling"});let{messages:S,warnings:E}=eG({prompt:t,useLegacyFunctionCalling:$,systemMessageMode:e5(this.modelId)});w.push(...E);let x={model:this.modelId,logit_bias:this.settings.logitBias,logprobs:!0===this.settings.logprobs||"number"==typeof this.settings.logprobs||void 0,top_logprobs:"number"==typeof this.settings.logprobs?this.settings.logprobs:"boolean"==typeof this.settings.logprobs&&this.settings.logprobs?0:void 0,user:this.settings.user,parallel_tool_calls:this.settings.parallelToolCalls,max_tokens:r,temperature:n,top_p:a,frequency_penalty:o,presence_penalty:s,response_format:(null==u?void 0:u.type)==="json"?this.supportsStructuredOutputs&&null!=u.schema?{type:"json_schema",json_schema:{schema:u.schema,strict:!0,name:null!=(f=u.name)?f:"response",description:u.description}}:{type:"json_object"}:void 0,stop:l,seed:c,max_completion_tokens:null==(p=null==d?void 0:d.openai)?void 0:p.maxCompletionTokens,store:null==(h=null==d?void 0:d.openai)?void 0:h.store,metadata:null==(m=null==d?void 0:d.openai)?void 0:m.metadata,prediction:null==(y=null==d?void 0:d.openai)?void 0:y.prediction,reasoning_effort:null!=(v=null==(g=null==d?void 0:d.openai)?void 0:g.reasoningEffort)?v:this.settings.reasoningEffort,messages:S};switch(e8(this.modelId)?(null!=x.temperature&&(x.temperature=void 0,w.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),null!=x.top_p&&(x.top_p=void 0,w.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),null!=x.frequency_penalty&&(x.frequency_penalty=void 0,w.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),null!=x.presence_penalty&&(x.presence_penalty=void 0,w.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),null!=x.logit_bias&&(x.logit_bias=void 0,w.push({type:"other",message:"logitBias is not supported for reasoning models"})),null!=x.logprobs&&(x.logprobs=void 0,w.push({type:"other",message:"logprobs is not supported for reasoning models"})),null!=x.top_logprobs&&(x.top_logprobs=void 0,w.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),null!=x.max_tokens&&(null==x.max_completion_tokens&&(x.max_completion_tokens=x.max_tokens),x.max_tokens=void 0)):(this.modelId.startsWith("gpt-4o-search-preview")||this.modelId.startsWith("gpt-4o-mini-search-preview"))&&null!=x.temperature&&(x.temperature=void 0,w.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for the search preview models and has been removed."})),_){case"regular":{let{tools:t,tool_choice:r,functions:n,function_call:a,toolWarnings:i}=e1({mode:e,useLegacyFunctionCalling:$,structuredOutputs:this.supportsStructuredOutputs});return{args:{...x,tools:t,tool_choice:r,functions:n,function_call:a},warnings:[...w,...i]}}case"object-json":return{args:{...x,response_format:this.supportsStructuredOutputs&&null!=e.schema?{type:"json_schema",json_schema:{schema:e.schema,strict:!0,name:null!=(b=e.name)?b:"response",description:e.description}}:{type:"json_object"}},warnings:w};case"object-tool":return{args:$?{...x,function_call:{name:e.tool.name},functions:[{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}]}:{...x,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters,strict:!!this.supportsStructuredOutputs||void 0}}]},warnings:w};default:{let e=_;throw Error(`Unsupported type: ${e}`)}}}async doGenerate(e){var t,r,n,a,i,o,s,l;let{args:u,warnings:c}=this.getArgs(e),{responseHeaders:d,value:f,rawValue:p}=await eM({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:ey(this.config.headers(),e.headers),body:u,failedResponseHandler:eQ,successfulResponseHandler:ez(e9),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:h,...m}=u,y=f.choices[0],g=null==(t=f.usage)?void 0:t.completion_tokens_details,v=null==(r=f.usage)?void 0:r.prompt_tokens_details,b={openai:{}};return(null==g?void 0:g.reasoning_tokens)!=null&&(b.openai.reasoningTokens=null==g?void 0:g.reasoning_tokens),(null==g?void 0:g.accepted_prediction_tokens)!=null&&(b.openai.acceptedPredictionTokens=null==g?void 0:g.accepted_prediction_tokens),(null==g?void 0:g.rejected_prediction_tokens)!=null&&(b.openai.rejectedPredictionTokens=null==g?void 0:g.rejected_prediction_tokens),(null==v?void 0:v.cached_tokens)!=null&&(b.openai.cachedPromptTokens=null==v?void 0:v.cached_tokens),{text:null!=(n=y.message.content)?n:void 0,toolCalls:this.settings.useLegacyFunctionCalling&&y.message.function_call?[{toolCallType:"function",toolCallId:e_(),toolName:y.message.function_call.name,args:y.message.function_call.arguments}]:null==(a=y.message.tool_calls)?void 0:a.map(e=>{var t;return{toolCallType:"function",toolCallId:null!=(t=e.id)?t:e_(),toolName:e.function.name,args:e.function.arguments}}),finishReason:eY(y.finish_reason),usage:{promptTokens:null!=(o=null==(i=f.usage)?void 0:i.prompt_tokens)?o:NaN,completionTokens:null!=(l=null==(s=f.usage)?void 0:s.completion_tokens)?l:NaN},rawCall:{rawPrompt:h,rawSettings:m},rawResponse:{headers:d,body:p},request:{body:JSON.stringify(u)},response:e0(f),warnings:c,logprobs:eJ(y.logprobs),providerMetadata:b}}async doStream(e){let t;if(this.settings.simulateStreaming){let t=await this.doGenerate(e);return{stream:new ReadableStream({start(e){if(e.enqueue({type:"response-metadata",...t.response}),t.text&&e.enqueue({type:"text-delta",textDelta:t.text}),t.toolCalls)for(let r of t.toolCalls)e.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:r.toolCallId,toolName:r.toolName,argsTextDelta:r.args}),e.enqueue({type:"tool-call",...r});e.enqueue({type:"finish",finishReason:t.finishReason,usage:t.usage,logprobs:t.logprobs,providerMetadata:t.providerMetadata}),e.close()}}),rawCall:t.rawCall,rawResponse:t.rawResponse,warnings:t.warnings}}let{args:r,warnings:n}=this.getArgs(e),a={...r,stream:!0,stream_options:"strict"===this.config.compatibility?{include_usage:!0}:void 0},{responseHeaders:i,value:o}=await eM({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:ey(this.config.headers(),e.headers),body:a,failedResponseHandler:eQ,successfulResponseHandler:eF(e4),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:s,...l}=r,u=[],c="unknown",d={promptTokens:void 0,completionTokens:void 0},f=!0,{useLegacyFunctionCalling:p}=this.settings,h={openai:{}};return{stream:o.pipeThrough(new TransformStream({transform(e,r){var n,a,i,o,s,l,m,y,g,v,b,_;if(!e.success){c="error",r.enqueue({type:"error",error:e.error});return}let w=e.value;if("error"in w){c="error",r.enqueue({type:"error",error:w.error});return}if(f&&(f=!1,r.enqueue({type:"response-metadata",...e0(w)})),null!=w.usage){let{prompt_tokens:e,completion_tokens:t,prompt_tokens_details:r,completion_tokens_details:n}=w.usage;d={promptTokens:null!=e?e:void 0,completionTokens:null!=t?t:void 0},(null==n?void 0:n.reasoning_tokens)!=null&&(h.openai.reasoningTokens=null==n?void 0:n.reasoning_tokens),(null==n?void 0:n.accepted_prediction_tokens)!=null&&(h.openai.acceptedPredictionTokens=null==n?void 0:n.accepted_prediction_tokens),(null==n?void 0:n.rejected_prediction_tokens)!=null&&(h.openai.rejectedPredictionTokens=null==n?void 0:n.rejected_prediction_tokens),(null==r?void 0:r.cached_tokens)!=null&&(h.openai.cachedPromptTokens=null==r?void 0:r.cached_tokens)}let $=w.choices[0];if((null==$?void 0:$.finish_reason)!=null&&(c=eY($.finish_reason)),(null==$?void 0:$.delta)==null)return;let S=$.delta;null!=S.content&&r.enqueue({type:"text-delta",textDelta:S.content});let E=eJ(null==$?void 0:$.logprobs);(null==E?void 0:E.length)&&(void 0===t&&(t=[]),t.push(...E));let x=p&&null!=S.function_call?[{type:"function",id:e_(),function:S.function_call,index:0}]:S.tool_calls;if(null!=x)for(let e of x){let t=e.index;if(null==u[t]){if("function"!==e.type)throw new z({data:e,message:"Expected 'function' type."});if(null==e.id)throw new z({data:e,message:"Expected 'id' to be a string."});if((null==(n=e.function)?void 0:n.name)==null)throw new z({data:e,message:"Expected 'function.name' to be a string."});u[t]={id:e.id,type:"function",function:{name:e.function.name,arguments:null!=(a=e.function.arguments)?a:""},hasFinished:!1};let l=u[t];(null==(i=l.function)?void 0:i.name)!=null&&(null==(o=l.function)?void 0:o.arguments)!=null&&(l.function.arguments.length>0&&r.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:l.id,toolName:l.function.name,argsTextDelta:l.function.arguments}),eR(l.function.arguments)&&(r.enqueue({type:"tool-call",toolCallType:"function",toolCallId:null!=(s=l.id)?s:e_(),toolName:l.function.name,args:l.function.arguments}),l.hasFinished=!0));continue}let c=u[t];!c.hasFinished&&((null==(l=e.function)?void 0:l.arguments)!=null&&(c.function.arguments+=null!=(y=null==(m=e.function)?void 0:m.arguments)?y:""),r.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:c.id,toolName:c.function.name,argsTextDelta:null!=(g=e.function.arguments)?g:""}),(null==(v=c.function)?void 0:v.name)!=null&&(null==(b=c.function)?void 0:b.arguments)!=null&&eR(c.function.arguments)&&(r.enqueue({type:"tool-call",toolCallType:"function",toolCallId:null!=(_=c.id)?_:e_(),toolName:c.function.name,args:c.function.arguments}),c.hasFinished=!0))}},flush(e){var r,n;e.enqueue({type:"finish",finishReason:c,logprobs:t,usage:{promptTokens:null!=(r=d.promptTokens)?r:NaN,completionTokens:null!=(n=d.completionTokens)?n:NaN},...null!=h?{providerMetadata:h}:{}})}})),rawCall:{rawPrompt:s,rawSettings:l},rawResponse:{headers:i},request:{body:JSON.stringify(a)},warnings:n}}},e3=eK.z.object({prompt_tokens:eK.z.number().nullish(),completion_tokens:eK.z.number().nullish(),prompt_tokens_details:eK.z.object({cached_tokens:eK.z.number().nullish()}).nullish(),completion_tokens_details:eK.z.object({reasoning_tokens:eK.z.number().nullish(),accepted_prediction_tokens:eK.z.number().nullish(),rejected_prediction_tokens:eK.z.number().nullish()}).nullish()}).nullish(),e9=eK.z.object({id:eK.z.string().nullish(),created:eK.z.number().nullish(),model:eK.z.string().nullish(),choices:eK.z.array(eK.z.object({message:eK.z.object({role:eK.z.literal("assistant").nullish(),content:eK.z.string().nullish(),function_call:eK.z.object({arguments:eK.z.string(),name:eK.z.string()}).nullish(),tool_calls:eK.z.array(eK.z.object({id:eK.z.string().nullish(),type:eK.z.literal("function"),function:eK.z.object({name:eK.z.string(),arguments:eK.z.string()})})).nullish()}),index:eK.z.number(),logprobs:eK.z.object({content:eK.z.array(eK.z.object({token:eK.z.string(),logprob:eK.z.number(),top_logprobs:eK.z.array(eK.z.object({token:eK.z.string(),logprob:eK.z.number()}))})).nullable()}).nullish(),finish_reason:eK.z.string().nullish()})),usage:e3}),e4=eK.z.union([eK.z.object({id:eK.z.string().nullish(),created:eK.z.number().nullish(),model:eK.z.string().nullish(),choices:eK.z.array(eK.z.object({delta:eK.z.object({role:eK.z.enum(["assistant"]).nullish(),content:eK.z.string().nullish(),function_call:eK.z.object({name:eK.z.string().optional(),arguments:eK.z.string().optional()}).nullish(),tool_calls:eK.z.array(eK.z.object({index:eK.z.number(),id:eK.z.string().nullish(),type:eK.z.literal("function").nullish(),function:eK.z.object({name:eK.z.string().nullish(),arguments:eK.z.string().nullish()})})).nullish()}).nullish(),logprobs:eK.z.object({content:eK.z.array(eK.z.object({token:eK.z.string(),logprob:eK.z.number(),top_logprobs:eK.z.array(eK.z.object({token:eK.z.string(),logprob:eK.z.number()}))})).nullable()}).nullish(),finish_reason:eK.z.string().nullish(),index:eK.z.number()})),usage:e3}),eX]);function e8(e){return e.startsWith("o")||e.startsWith("gpt-5")}function e6(e){return e.startsWith("gpt-4o-audio-preview")}function e5(e){var t,r;return e8(e)?null!=(r=null==(t=e7[e])?void 0:t.systemMessageMode)?r:"developer":"system"}var e7={"o1-mini":{systemMessageMode:"remove"},"o1-mini-2024-09-12":{systemMessageMode:"remove"},"o1-preview":{systemMessageMode:"remove"},"o1-preview-2024-09-12":{systemMessageMode:"remove"},o3:{systemMessageMode:"developer"},"o3-2025-04-16":{systemMessageMode:"developer"},"o3-mini":{systemMessageMode:"developer"},"o3-mini-2025-01-31":{systemMessageMode:"developer"},"o4-mini":{systemMessageMode:"developer"},"o4-mini-2025-04-16":{systemMessageMode:"developer"}};function te({prompt:e,inputFormat:t,user:r="user",assistant:n="assistant"}){if("prompt"===t&&1===e.length&&"user"===e[0].role&&1===e[0].content.length&&"text"===e[0].content[0].type)return{prompt:e[0].content[0].text};let a="";for(let{role:t,content:i}of("system"===e[0].role&&(a+=`${e[0].content}

`,e=e.slice(1)),e))switch(t){case"system":throw new L({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{let e=i.map(e=>{switch(e.type){case"text":return e.text;case"image":throw new ed({functionality:"images"})}}).join("");a+=`${r}:
${e}

`;break}case"assistant":{let e=i.map(e=>{switch(e.type){case"text":return e.text;case"tool-call":throw new ed({functionality:"tool-call messages"})}}).join("");a+=`${n}:
${e}

`;break}case"tool":throw new ed({functionality:"tool messages"});default:{let e=t;throw Error(`Unsupported role: ${e}`)}}return{prompt:a+=`${n}:
`,stopSequences:[`
${r}:`]}}function tt(e){return null==e?void 0:e.tokens.map((t,r)=>({token:t,logprob:e.token_logprobs[r],topLogprobs:e.top_logprobs?Object.entries(e.top_logprobs[r]).map(([e,t])=>({token:e,logprob:t})):[]}))}var tr=class{constructor(e,t,r){this.specificationVersion="v1",this.defaultObjectGenerationMode=void 0,this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}getArgs({mode:e,inputFormat:t,prompt:r,maxTokens:n,temperature:a,topP:i,topK:o,frequencyPenalty:s,presencePenalty:l,stopSequences:u,responseFormat:c,seed:d}){var f;let p=e.type,h=[];null!=o&&h.push({type:"unsupported-setting",setting:"topK"}),null!=c&&"text"!==c.type&&h.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});let{prompt:m,stopSequences:y}=te({prompt:r,inputFormat:t}),g=[...null!=y?y:[],...null!=u?u:[]],v={model:this.modelId,echo:this.settings.echo,logit_bias:this.settings.logitBias,logprobs:"number"==typeof this.settings.logprobs?this.settings.logprobs:"boolean"==typeof this.settings.logprobs&&this.settings.logprobs?0:void 0,suffix:this.settings.suffix,user:this.settings.user,max_tokens:n,temperature:a,top_p:i,frequency_penalty:s,presence_penalty:l,seed:d,prompt:m,stop:g.length>0?g:void 0};switch(p){case"regular":if(null==(f=e.tools)?void 0:f.length)throw new ed({functionality:"tools"});if(e.toolChoice)throw new ed({functionality:"toolChoice"});return{args:v,warnings:h};case"object-json":throw new ed({functionality:"object-json mode"});case"object-tool":throw new ed({functionality:"object-tool mode"});default:{let e=p;throw Error(`Unsupported type: ${e}`)}}}async doGenerate(e){let{args:t,warnings:r}=this.getArgs(e),{responseHeaders:n,value:a,rawValue:i}=await eM({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:ey(this.config.headers(),e.headers),body:t,failedResponseHandler:eQ,successfulResponseHandler:ez(tn),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:o,...s}=t,l=a.choices[0];return{text:l.text,usage:{promptTokens:a.usage.prompt_tokens,completionTokens:a.usage.completion_tokens},finishReason:eY(l.finish_reason),logprobs:tt(l.logprobs),rawCall:{rawPrompt:o,rawSettings:s},rawResponse:{headers:n,body:i},response:e0(a),warnings:r,request:{body:JSON.stringify(t)}}}async doStream(e){let t,{args:r,warnings:n}=this.getArgs(e),a={...r,stream:!0,stream_options:"strict"===this.config.compatibility?{include_usage:!0}:void 0},{responseHeaders:i,value:o}=await eM({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:ey(this.config.headers(),e.headers),body:a,failedResponseHandler:eQ,successfulResponseHandler:eF(ta),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:s,...l}=r,u="unknown",c={promptTokens:Number.NaN,completionTokens:Number.NaN},d=!0;return{stream:o.pipeThrough(new TransformStream({transform(e,r){if(!e.success){u="error",r.enqueue({type:"error",error:e.error});return}let n=e.value;if("error"in n){u="error",r.enqueue({type:"error",error:n.error});return}d&&(d=!1,r.enqueue({type:"response-metadata",...e0(n)})),null!=n.usage&&(c={promptTokens:n.usage.prompt_tokens,completionTokens:n.usage.completion_tokens});let a=n.choices[0];(null==a?void 0:a.finish_reason)!=null&&(u=eY(a.finish_reason)),(null==a?void 0:a.text)!=null&&r.enqueue({type:"text-delta",textDelta:a.text});let i=tt(null==a?void 0:a.logprobs);(null==i?void 0:i.length)&&(void 0===t&&(t=[]),t.push(...i))},flush(e){e.enqueue({type:"finish",finishReason:u,logprobs:t,usage:c})}})),rawCall:{rawPrompt:s,rawSettings:l},rawResponse:{headers:i},warnings:n,request:{body:JSON.stringify(a)}}}},tn=eK.z.object({id:eK.z.string().nullish(),created:eK.z.number().nullish(),model:eK.z.string().nullish(),choices:eK.z.array(eK.z.object({text:eK.z.string(),finish_reason:eK.z.string(),logprobs:eK.z.object({tokens:eK.z.array(eK.z.string()),token_logprobs:eK.z.array(eK.z.number()),top_logprobs:eK.z.array(eK.z.record(eK.z.string(),eK.z.number())).nullable()}).nullish()})),usage:eK.z.object({prompt_tokens:eK.z.number(),completion_tokens:eK.z.number()})}),ta=eK.z.union([eK.z.object({id:eK.z.string().nullish(),created:eK.z.number().nullish(),model:eK.z.string().nullish(),choices:eK.z.array(eK.z.object({text:eK.z.string(),finish_reason:eK.z.string().nullish(),index:eK.z.number(),logprobs:eK.z.object({tokens:eK.z.array(eK.z.string()),token_logprobs:eK.z.array(eK.z.number()),top_logprobs:eK.z.array(eK.z.record(eK.z.string(),eK.z.number())).nullable()}).nullish()})),usage:eK.z.object({prompt_tokens:eK.z.number(),completion_tokens:eK.z.number()}).nullish()}),eX]),ti=class{constructor(e,t,r){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return null!=(e=this.settings.maxEmbeddingsPerCall)?e:2048}get supportsParallelCalls(){var e;return null==(e=this.settings.supportsParallelCalls)||e}async doEmbed({values:e,headers:t,abortSignal:r}){if(e.length>this.maxEmbeddingsPerCall)throw new er({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let{responseHeaders:n,value:a}=await eM({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:ey(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:this.settings.dimensions,user:this.settings.user},failedResponseHandler:eQ,successfulResponseHandler:ez(to),abortSignal:r,fetch:this.config.fetch});return{embeddings:a.data.map(e=>e.embedding),usage:a.usage?{tokens:a.usage.prompt_tokens}:void 0,rawResponse:{headers:n}}}},to=eK.z.object({data:eK.z.array(eK.z.object({embedding:eK.z.array(eK.z.number())})),usage:eK.z.object({prompt_tokens:eK.z.number()}).nullish()}),ts={"dall-e-3":1,"dall-e-2":10,"gpt-image-1":10},tl=new Set(["gpt-image-1"]),tu=class{constructor(e,t,r){this.modelId=e,this.settings=t,this.config=r,this.specificationVersion="v1"}get maxImagesPerCall(){var e,t;return null!=(t=null!=(e=this.settings.maxImagesPerCall)?e:ts[this.modelId])?t:1}get provider(){return this.config.provider}async doGenerate({prompt:e,n:t,size:r,aspectRatio:n,seed:a,providerOptions:i,headers:o,abortSignal:s}){var l,u,c,d;let f=[];null!=n&&f.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),null!=a&&f.push({type:"unsupported-setting",setting:"seed"});let p=null!=(c=null==(u=null==(l=this.config._internal)?void 0:l.currentDate)?void 0:u.call(l))?c:new Date,{value:h,responseHeaders:m}=await eM({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:ey(this.config.headers(),o),body:{model:this.modelId,prompt:e,n:t,size:r,...null!=(d=i.openai)?d:{},...!tl.has(this.modelId)?{response_format:"b64_json"}:{}},failedResponseHandler:eQ,successfulResponseHandler:ez(tc),abortSignal:s,fetch:this.config.fetch});return{images:h.data.map(e=>e.b64_json),warnings:f,response:{timestamp:p,modelId:this.modelId,headers:m}}}},tc=eK.z.object({data:eK.z.array(eK.z.object({b64_json:eK.z.string()}))}),td=eK.z.object({include:eK.z.array(eK.z.string()).nullish(),language:eK.z.string().nullish(),prompt:eK.z.string().nullish(),temperature:eK.z.number().min(0).max(1).nullish().default(0),timestampGranularities:eK.z.array(eK.z.enum(["word","segment"])).nullish().default(["segment"])}),tf={afrikaans:"af",arabic:"ar",armenian:"hy",azerbaijani:"az",belarusian:"be",bosnian:"bs",bulgarian:"bg",catalan:"ca",chinese:"zh",croatian:"hr",czech:"cs",danish:"da",dutch:"nl",english:"en",estonian:"et",finnish:"fi",french:"fr",galician:"gl",german:"de",greek:"el",hebrew:"he",hindi:"hi",hungarian:"hu",icelandic:"is",indonesian:"id",italian:"it",japanese:"ja",kannada:"kn",kazakh:"kk",korean:"ko",latvian:"lv",lithuanian:"lt",macedonian:"mk",malay:"ms",marathi:"mr",maori:"mi",nepali:"ne",norwegian:"no",persian:"fa",polish:"pl",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"sr",slovak:"sk",slovenian:"sl",spanish:"es",swahili:"sw",swedish:"sv",tagalog:"tl",tamil:"ta",thai:"th",turkish:"tr",ukrainian:"uk",urdu:"ur",vietnamese:"vi",welsh:"cy"},tp=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v1"}get provider(){return this.config.provider}getArgs({audio:e,mediaType:t,providerOptions:r}){var n,a,i,o,s;let l=[],u=eN({provider:"openai",providerOptions:r,schema:td}),c=new FormData,d=e instanceof Uint8Array?new Blob([e]):new Blob([eV(e)]);if(c.append("model",this.modelId),c.append("file",new File([d],"audio",{type:t})),u){let e={include:null!=(n=u.include)?n:void 0,language:null!=(a=u.language)?a:void 0,prompt:null!=(i=u.prompt)?i:void 0,temperature:null!=(o=u.temperature)?o:void 0,timestamp_granularities:null!=(s=u.timestampGranularities)?s:void 0};for(let t in e){let r=e[t];void 0!==r&&c.append(t,String(r))}}return{formData:c,warnings:l}}async doGenerate(e){var t,r,n,a,i,o;let s=null!=(n=null==(r=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:r.call(t))?n:new Date,{formData:l,warnings:u}=this.getArgs(e),{value:c,responseHeaders:d,rawValue:f}=await eL({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:ey(this.config.headers(),e.headers),formData:l,failedResponseHandler:eQ,successfulResponseHandler:ez(th),abortSignal:e.abortSignal,fetch:this.config.fetch}),p=null!=c.language&&c.language in tf?tf[c.language]:void 0;return{text:c.text,segments:null!=(i=null==(a=c.words)?void 0:a.map(e=>({text:e.word,startSecond:e.start,endSecond:e.end})))?i:[],language:p,durationInSeconds:null!=(o=c.duration)?o:void 0,warnings:u,response:{timestamp:s,modelId:this.modelId,headers:d,body:f}}}},th=eK.z.object({text:eK.z.string(),language:eK.z.string().nullish(),duration:eK.z.number().nullish(),words:eK.z.array(eK.z.object({word:eK.z.string(),start:eK.z.number(),end:eK.z.number()})).nullish()});function tm({prompt:e,systemMessageMode:t}){let r=[],n=[];for(let{role:a,content:i}of e)switch(a){case"system":switch(t){case"system":r.push({role:"system",content:i});break;case"developer":r.push({role:"developer",content:i});break;case"remove":n.push({type:"other",message:"system messages are removed for this model"});break;default:{let e=t;throw Error(`Unsupported system message mode: ${e}`)}}break;case"user":r.push({role:"user",content:i.map((e,t)=>{var r,n,a,i;switch(e.type){case"text":return{type:"input_text",text:e.text};case"image":return{type:"input_image",image_url:e.image instanceof URL?e.image.toString():`data:${null!=(r=e.mimeType)?r:"image/jpeg"};base64,${eW(e.image)}`,detail:null==(a=null==(n=e.providerMetadata)?void 0:n.openai)?void 0:a.imageDetail};case"file":if(e.data instanceof URL)throw new ed({functionality:"File URLs in user messages"});if("application/pdf"===e.mimeType)return{type:"input_file",filename:null!=(i=e.filename)?i:`part-${t}.pdf`,file_data:`data:application/pdf;base64,${e.data}`};throw new ed({functionality:"Only PDF files are supported in user messages"})}})});break;case"assistant":for(let e of i)switch(e.type){case"text":r.push({role:"assistant",content:[{type:"output_text",text:e.text}]});break;case"tool-call":r.push({type:"function_call",call_id:e.toolCallId,name:e.toolName,arguments:JSON.stringify(e.args)})}break;case"tool":for(let e of i)r.push({type:"function_call_output",call_id:e.toolCallId,output:JSON.stringify(e.result)});break;default:{let e=a;throw Error(`Unsupported role: ${e}`)}}return{messages:r,warnings:n}}function ty({finishReason:e,hasToolCalls:t}){switch(e){case void 0:case null:return t?"tool-calls":"stop";case"max_output_tokens":return"length";case"content_filter":return"content-filter";default:return t?"tool-calls":"unknown"}}function tg({mode:e,strict:t}){var r;let n=(null==(r=e.tools)?void 0:r.length)?e.tools:void 0,a=[];if(null==n)return{tools:void 0,tool_choice:void 0,toolWarnings:a};let i=e.toolChoice,o=[];for(let e of n)switch(e.type){case"function":o.push({type:"function",name:e.name,description:e.description,parameters:e.parameters,strict:!!t||void 0});break;case"provider-defined":"openai.web_search_preview"===e.id?o.push({type:"web_search_preview",search_context_size:e.args.searchContextSize,user_location:e.args.userLocation}):a.push({type:"unsupported-tool",tool:e});break;default:a.push({type:"unsupported-tool",tool:e})}if(null==i)return{tools:o,tool_choice:void 0,toolWarnings:a};let s=i.type;switch(s){case"auto":case"none":case"required":return{tools:o,tool_choice:s,toolWarnings:a};case"tool":if("web_search_preview"===i.toolName)return{tools:o,tool_choice:{type:"web_search_preview"},toolWarnings:a};return{tools:o,tool_choice:{type:"function",name:i.toolName},toolWarnings:a};default:{let e=s;throw new ed({functionality:`Unsupported tool choice type: ${e}`})}}}var tv=class{constructor(e,t){this.specificationVersion="v1",this.defaultObjectGenerationMode="json",this.supportsStructuredOutputs=!0,this.modelId=e,this.config=t}get provider(){return this.config.provider}getArgs({mode:e,maxTokens:t,temperature:r,stopSequences:n,topP:a,topK:i,presencePenalty:o,frequencyPenalty:s,seed:l,prompt:u,providerMetadata:c,responseFormat:d}){var f,p,h;let m=[],y=tB(this.modelId),g=e.type;null!=i&&m.push({type:"unsupported-setting",setting:"topK"}),null!=l&&m.push({type:"unsupported-setting",setting:"seed"}),null!=o&&m.push({type:"unsupported-setting",setting:"presencePenalty"}),null!=s&&m.push({type:"unsupported-setting",setting:"frequencyPenalty"}),null!=n&&m.push({type:"unsupported-setting",setting:"stopSequences"});let{messages:v,warnings:b}=tm({prompt:u,systemMessageMode:y.systemMessageMode});m.push(...b);let _=eN({provider:"openai",providerOptions:c,schema:tF}),w=null==(f=null==_?void 0:_.strictSchemas)||f,$={model:this.modelId,input:v,temperature:r,top_p:a,max_output_tokens:t,...(null==d?void 0:d.type)==="json"&&{text:{format:null!=d.schema?{type:"json_schema",strict:w,name:null!=(p=d.name)?p:"response",description:d.description,schema:d.schema}:{type:"json_object"}}},metadata:null==_?void 0:_.metadata,parallel_tool_calls:null==_?void 0:_.parallelToolCalls,previous_response_id:null==_?void 0:_.previousResponseId,store:null==_?void 0:_.store,user:null==_?void 0:_.user,instructions:null==_?void 0:_.instructions,...y.isReasoningModel&&((null==_?void 0:_.reasoningEffort)!=null||(null==_?void 0:_.reasoningSummary)!=null)&&{reasoning:{...(null==_?void 0:_.reasoningEffort)!=null&&{effort:_.reasoningEffort},...(null==_?void 0:_.reasoningSummary)!=null&&{summary:_.reasoningSummary}}},...y.requiredAutoTruncation&&{truncation:"auto"}};switch(y.isReasoningModel&&(null!=$.temperature&&($.temperature=void 0,m.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),null!=$.top_p&&($.top_p=void 0,m.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"}))),g){case"regular":{let{tools:t,tool_choice:r,toolWarnings:n}=tg({mode:e,strict:w});return{args:{...$,tools:t,tool_choice:r},warnings:[...m,...n]}}case"object-json":return{args:{...$,text:{format:null!=e.schema?{type:"json_schema",strict:w,name:null!=(h=e.name)?h:"response",description:e.description,schema:e.schema}:{type:"json_object"}}},warnings:m};case"object-tool":return{args:{...$,tool_choice:{type:"function",name:e.tool.name},tools:[{type:"function",name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters,strict:w}]},warnings:m};default:{let e=g;throw Error(`Unsupported type: ${e}`)}}}async doGenerate(e){var t,r,n,a,i,o,s;let{args:l,warnings:u}=this.getArgs(e),c=this.config.url({path:"/responses",modelId:this.modelId}),{responseHeaders:d,value:f,rawValue:p}=await eM({url:c,headers:ey(this.config.headers(),e.headers),body:l,failedResponseHandler:eQ,successfulResponseHandler:ez(eK.z.object({id:eK.z.string(),created_at:eK.z.number(),error:eK.z.object({message:eK.z.string(),code:eK.z.string()}).nullish(),model:eK.z.string(),output:eK.z.array(eK.z.discriminatedUnion("type",[eK.z.object({type:eK.z.literal("message"),role:eK.z.literal("assistant"),content:eK.z.array(eK.z.object({type:eK.z.literal("output_text"),text:eK.z.string(),annotations:eK.z.array(eK.z.object({type:eK.z.literal("url_citation"),start_index:eK.z.number(),end_index:eK.z.number(),url:eK.z.string(),title:eK.z.string()}))}))}),eK.z.object({type:eK.z.literal("function_call"),call_id:eK.z.string(),name:eK.z.string(),arguments:eK.z.string()}),eK.z.object({type:eK.z.literal("web_search_call")}),eK.z.object({type:eK.z.literal("computer_call")}),eK.z.object({type:eK.z.literal("reasoning"),summary:eK.z.array(eK.z.object({type:eK.z.literal("summary_text"),text:eK.z.string()}))})])),incomplete_details:eK.z.object({reason:eK.z.string()}).nullable(),usage:tb})),abortSignal:e.abortSignal,fetch:this.config.fetch});if(f.error)throw new E({message:f.error.message,url:c,requestBodyValues:l,statusCode:400,responseHeaders:d,responseBody:p,isRetryable:!1});let h=f.output.filter(e=>"message"===e.type).flatMap(e=>e.content).filter(e=>"output_text"===e.type),m=f.output.filter(e=>"function_call"===e.type).map(e=>({toolCallType:"function",toolCallId:e.call_id,toolName:e.name,args:e.arguments})),y=null!=(r=null==(t=f.output.find(e=>"reasoning"===e.type))?void 0:t.summary)?r:null;return{text:h.map(e=>e.text).join("\n"),sources:h.flatMap(e=>e.annotations.map(e=>{var t,r,n;return{sourceType:"url",id:null!=(n=null==(r=(t=this.config).generateId)?void 0:r.call(t))?n:e_(),url:e.url,title:e.title}})),finishReason:ty({finishReason:null==(n=f.incomplete_details)?void 0:n.reason,hasToolCalls:m.length>0}),toolCalls:m.length>0?m:void 0,reasoning:y?y.map(e=>({type:"text",text:e.text})):void 0,usage:{promptTokens:f.usage.input_tokens,completionTokens:f.usage.output_tokens},rawCall:{rawPrompt:void 0,rawSettings:{}},rawResponse:{headers:d,body:p},request:{body:JSON.stringify(l)},response:{id:f.id,timestamp:new Date(1e3*f.created_at),modelId:f.model},providerMetadata:{openai:{responseId:f.id,cachedPromptTokens:null!=(i=null==(a=f.usage.input_tokens_details)?void 0:a.cached_tokens)?i:null,reasoningTokens:null!=(s=null==(o=f.usage.output_tokens_details)?void 0:o.reasoning_tokens)?s:null}},warnings:u}}async doStream(e){let{args:t,warnings:r}=this.getArgs(e),{responseHeaders:n,value:a}=await eM({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:ey(this.config.headers(),e.headers),body:{...t,stream:!0},failedResponseHandler:eQ,successfulResponseHandler:eF(tI),abortSignal:e.abortSignal,fetch:this.config.fetch}),i=this,o="unknown",s=NaN,l=NaN,u=null,c=null,d=null,f={},p=!1;return{stream:a.pipeThrough(new TransformStream({transform(e,t){var r,n,a,h,m,y,g,v;if(!e.success){o="error",t.enqueue({type:"error",error:e.error});return}let b=e.value;if(tj(b))"function_call"===b.item.type&&(f[b.output_index]={toolName:b.item.name,toolCallId:b.item.call_id},t.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:b.item.call_id,toolName:b.item.name,argsTextDelta:b.item.arguments}));else if(tN(b)){let e=f[b.output_index];null!=e&&t.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:e.toolCallId,toolName:e.toolName,argsTextDelta:b.delta})}else tR(b)?(d=b.response.id,t.enqueue({type:"response-metadata",id:b.response.id,timestamp:new Date(1e3*b.response.created_at),modelId:b.response.model})):tC(b)?t.enqueue({type:"text-delta",textDelta:b.delta}):tL(b)?t.enqueue({type:"reasoning",textDelta:b.delta}):tT(b)&&"function_call"===b.item.type?(f[b.output_index]=void 0,p=!0,t.enqueue({type:"tool-call",toolCallType:"function",toolCallId:b.item.call_id,toolName:b.item.name,args:b.item.arguments})):tP(b)?(o=ty({finishReason:null==(r=b.response.incomplete_details)?void 0:r.reason,hasToolCalls:p}),s=b.response.usage.input_tokens,l=b.response.usage.output_tokens,u=null!=(a=null==(n=b.response.usage.input_tokens_details)?void 0:n.cached_tokens)?a:u,c=null!=(m=null==(h=b.response.usage.output_tokens_details)?void 0:h.reasoning_tokens)?m:c):tM(b)?t.enqueue({type:"source",source:{sourceType:"url",id:null!=(v=null==(g=(y=i.config).generateId)?void 0:g.call(y))?v:e_(),url:b.annotation.url,title:b.annotation.title}}):tD(b)&&t.enqueue({type:"error",error:b})},flush(e){e.enqueue({type:"finish",finishReason:o,usage:{promptTokens:s,completionTokens:l},...(null!=u||null!=c)&&{providerMetadata:{openai:{responseId:d,cachedPromptTokens:u,reasoningTokens:c}}}})}})),rawCall:{rawPrompt:void 0,rawSettings:{}},rawResponse:{headers:n},request:{body:JSON.stringify(t)},warnings:r}}},tb=eK.z.object({input_tokens:eK.z.number(),input_tokens_details:eK.z.object({cached_tokens:eK.z.number().nullish()}).nullish(),output_tokens:eK.z.number(),output_tokens_details:eK.z.object({reasoning_tokens:eK.z.number().nullish()}).nullish()}),t_=eK.z.object({type:eK.z.literal("response.output_text.delta"),delta:eK.z.string()}),tw=eK.z.object({type:eK.z.enum(["response.completed","response.incomplete"]),response:eK.z.object({incomplete_details:eK.z.object({reason:eK.z.string()}).nullish(),usage:tb})}),t$=eK.z.object({type:eK.z.literal("response.created"),response:eK.z.object({id:eK.z.string(),created_at:eK.z.number(),model:eK.z.string()})}),tS=eK.z.object({type:eK.z.literal("response.output_item.done"),output_index:eK.z.number(),item:eK.z.discriminatedUnion("type",[eK.z.object({type:eK.z.literal("message")}),eK.z.object({type:eK.z.literal("function_call"),id:eK.z.string(),call_id:eK.z.string(),name:eK.z.string(),arguments:eK.z.string(),status:eK.z.literal("completed")})])}),tE=eK.z.object({type:eK.z.literal("response.function_call_arguments.delta"),item_id:eK.z.string(),output_index:eK.z.number(),delta:eK.z.string()}),tx=eK.z.object({type:eK.z.literal("response.output_item.added"),output_index:eK.z.number(),item:eK.z.discriminatedUnion("type",[eK.z.object({type:eK.z.literal("message")}),eK.z.object({type:eK.z.literal("function_call"),id:eK.z.string(),call_id:eK.z.string(),name:eK.z.string(),arguments:eK.z.string()})])}),tA=eK.z.object({type:eK.z.literal("response.output_text.annotation.added"),annotation:eK.z.object({type:eK.z.literal("url_citation"),url:eK.z.string(),title:eK.z.string()})}),tk=eK.z.object({type:eK.z.literal("response.reasoning_summary_text.delta"),item_id:eK.z.string(),output_index:eK.z.number(),summary_index:eK.z.number(),delta:eK.z.string()}),tO=eK.z.object({type:eK.z.literal("error"),code:eK.z.string(),message:eK.z.string(),param:eK.z.string().nullish(),sequence_number:eK.z.number()}),tI=eK.z.union([t_,tw,t$,tS,tE,tx,tA,tk,tO,eK.z.object({type:eK.z.string()}).passthrough()]);function tC(e){return"response.output_text.delta"===e.type}function tT(e){return"response.output_item.done"===e.type}function tP(e){return"response.completed"===e.type||"response.incomplete"===e.type}function tR(e){return"response.created"===e.type}function tN(e){return"response.function_call_arguments.delta"===e.type}function tj(e){return"response.output_item.added"===e.type}function tM(e){return"response.output_text.annotation.added"===e.type}function tL(e){return"response.reasoning_summary_text.delta"===e.type}function tD(e){return"error"===e.type}function tB(e){return e.startsWith("o")||e.startsWith("gpt-5")?e.startsWith("o1-mini")||e.startsWith("o1-preview")?{isReasoningModel:!0,systemMessageMode:"remove",requiredAutoTruncation:!1}:{isReasoningModel:!0,systemMessageMode:"developer",requiredAutoTruncation:!1}:{isReasoningModel:!1,systemMessageMode:"system",requiredAutoTruncation:!1}}var tF=eK.z.object({metadata:eK.z.any().nullish(),parallelToolCalls:eK.z.boolean().nullish(),previousResponseId:eK.z.string().nullish(),store:eK.z.boolean().nullish(),user:eK.z.string().nullish(),reasoningEffort:eK.z.string().nullish(),strictSchemas:eK.z.boolean().nullish(),instructions:eK.z.string().nullish(),reasoningSummary:eK.z.string().nullish()}),tz=eK.z.object({}),tU={webSearchPreview:function({searchContextSize:e,userLocation:t}={}){return{type:"provider-defined",id:"openai.web_search_preview",args:{searchContextSize:e,userLocation:t},parameters:tz}}},tZ=eK.z.object({instructions:eK.z.string().nullish(),speed:eK.z.number().min(.25).max(4).default(1).nullish()}),tH=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v1"}get provider(){return this.config.provider}getArgs({text:e,voice:t="alloy",outputFormat:r="mp3",speed:n,instructions:a,providerOptions:i}){let o=[],s=eN({provider:"openai",providerOptions:i,schema:tZ}),l={model:this.modelId,input:e,voice:t,response_format:"mp3",speed:n,instructions:a};if(r&&(["mp3","opus","aac","flac","wav","pcm"].includes(r)?l.response_format=r:o.push({type:"unsupported-setting",setting:"outputFormat",details:`Unsupported output format: ${r}. Using mp3 instead.`})),s){let e={};for(let t in e){let r=e[t];void 0!==r&&(l[t]=r)}}return{requestBody:l,warnings:o}}async doGenerate(e){var t,r,n;let a=null!=(n=null==(r=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:r.call(t))?n:new Date,{requestBody:i,warnings:o}=this.getArgs(e),{value:s,responseHeaders:l,rawValue:u}=await eM({url:this.config.url({path:"/audio/speech",modelId:this.modelId}),headers:ey(this.config.headers(),e.headers),body:i,failedResponseHandler:eQ,successfulResponseHandler:eU(),abortSignal:e.abortSignal,fetch:this.config.fetch});return{audio:s,warnings:o,request:{body:JSON.stringify(i)},response:{timestamp:a,modelId:this.modelId,headers:l,body:u}}}};function tV(e={}){var t,r,n;let a=null!=(t=eq(e.baseURL))?t:"https://api.openai.com/v1",i=null!=(r=e.compatibility)?r:"compatible",o=null!=(n=e.name)?n:"openai",s=()=>({Authorization:`Bearer ${eS({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":e.organization,"OpenAI-Project":e.project,...e.headers}),l=(t,r={})=>new e2(t,r,{provider:`${o}.chat`,url:({path:e})=>`${a}${e}`,headers:s,compatibility:i,fetch:e.fetch}),u=(t,r={})=>new tr(t,r,{provider:`${o}.completion`,url:({path:e})=>`${a}${e}`,headers:s,compatibility:i,fetch:e.fetch}),c=(t,r={})=>new ti(t,r,{provider:`${o}.embedding`,url:({path:e})=>`${a}${e}`,headers:s,fetch:e.fetch}),d=(t,r={})=>new tu(t,r,{provider:`${o}.image`,url:({path:e})=>`${a}${e}`,headers:s,fetch:e.fetch}),f=t=>new tp(t,{provider:`${o}.transcription`,url:({path:e})=>`${a}${e}`,headers:s,fetch:e.fetch}),p=t=>new tH(t,{provider:`${o}.speech`,url:({path:e})=>`${a}${e}`,headers:s,fetch:e.fetch}),h=(e,t)=>{if(new.target)throw Error("The OpenAI model function cannot be called with the new keyword.");return"gpt-3.5-turbo-instruct"===e?u(e,t):l(e,t)},m=t=>new tv(t,{provider:`${o}.responses`,url:({path:e})=>`${a}${e}`,headers:s,fetch:e.fetch}),y=function(e,t){return h(e,t)};return y.languageModel=h,y.chat=l,y.completion=u,y.responses=m,y.embedding=c,y.textEmbedding=c,y.textEmbeddingModel=c,y.image=d,y.imageModel=d,y.transcription=f,y.transcriptionModel=f,y.speech=p,y.speechModel=p,y.tools=tU,y}tV({compatibility:"strict"})},24245:(e,t,r)=>{"use strict";var n=r(32236),a=Object.prototype.hasOwnProperty,i=Array.isArray,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(i(r)){for(var n=[],a=0;a<r.length;++a)void 0!==r[a]&&n.push(r[a]);t.obj[t.prop]=n}}},l=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r},u=function e(t,r,n){if(!r)return t;if("object"!=typeof r){if(i(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(n&&(n.plainObjects||n.allowPrototypes)||!a.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var o=t;return(i(t)&&!i(r)&&(o=l(t,n)),i(t)&&i(r))?(r.forEach(function(r,i){if(a.call(t,i)){var o=t[i];o&&"object"==typeof o&&r&&"object"==typeof r?t[i]=e(o,r,n):t.push(r)}else t[i]=r}),t):Object.keys(r).reduce(function(t,i){var o=r[i];return a.call(t,i)?t[i]=e(t[i],o,n):t[i]=o,t},o)};e.exports={arrayToObject:l,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var a=t[n],i=a.obj[a.prop],o=Object.keys(i),l=0;l<o.length;++l){var u=o[l],c=i[u];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(t.push({obj:i,prop:u}),r.push(c))}return s(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r,a,i){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===r)return escape(s).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var l="",u=0;u<s.length;++u){var c=s.charCodeAt(u);if(45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||i===n.RFC1738&&(40===c||41===c)){l+=s.charAt(u);continue}if(c<128){l+=o[c];continue}if(c<2048){l+=o[192|c>>6]+o[128|63&c];continue}if(c<55296||c>=57344){l+=o[224|c>>12]+o[128|c>>6&63]+o[128|63&c];continue}u+=1,l+=o[240|(c=65536+((1023&c)<<10|1023&s.charCodeAt(u)))>>18]+o[128|c>>12&63]+o[128|c>>6&63]+o[128|63&c]}return l},isBuffer:function(e){return!!e&&"object"==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(i(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:u}},24813:e=>{"use strict";var t,r,n=Function.prototype.toString,a="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof a&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},a(function(){throw 42},null,t)}catch(e){e!==r&&(a=null)}else a=null;var i=/^\s*class\b/,o=function(e){try{var t=n.call(e);return i.test(t)}catch(e){return!1}},s=function(e){try{if(o(e))return!1;return n.call(e),!0}catch(e){return!1}},l=Object.prototype.toString,u="[object Object]",c="[object Function]",d="[object GeneratorFunction]",f="[object HTMLAllCollection]",p="[object HTML document.all class]",h="[object HTMLCollection]",m="function"==typeof Symbol&&!!Symbol.toStringTag,y=!(0 in[,]),g=function(){return!1};if("object"==typeof document){var v=document.all;l.call(v)===l.call(document.all)&&(g=function(e){if((y||!e)&&(void 0===e||"object"==typeof e))try{var t=l.call(e);return(t===f||t===p||t===h||t===u)&&null==e("")}catch(e){}return!1})}e.exports=a?function(e){if(g(e))return!0;if(!e||"function"!=typeof e&&"object"!=typeof e)return!1;try{a(e,null,t)}catch(e){if(e!==r)return!1}return!o(e)&&s(e)}:function(e){if(g(e))return!0;if(!e||"function"!=typeof e&&"object"!=typeof e)return!1;if(m)return s(e);if(o(e))return!1;var t=l.call(e);return(t===c||t===d||!!/^\[object HTML/.test(t))&&s(e)}},25247:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,t.halfWidth=void 0;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=t.halfWidth=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;function o(e){return(0,n.default)(e),i.test(e)}},26189:(e,t,r)=>{"use strict";let n=r(77721);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},26433:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",o="(".concat(i,"[.]){3}").concat(i),s=new RegExp("^".concat(o,"$")),l="(?:[0-9a-fA-F]{1,4})",u=RegExp("^("+"(?:".concat(l,":){7}(?:").concat(l,"|:)|")+"(?:".concat(l,":){6}(?:").concat(o,"|:").concat(l,"|:)|")+"(?:".concat(l,":){5}(?::").concat(o,"|(:").concat(l,"){1,2}|:)|")+"(?:".concat(l,":){4}(?:(:").concat(l,"){0,1}:").concat(o,"|(:").concat(l,"){1,3}|:)|")+"(?:".concat(l,":){3}(?:(:").concat(l,"){0,2}:").concat(o,"|(:").concat(l,"){1,4}|:)|")+"(?:".concat(l,":){2}(?:(:").concat(l,"){0,3}:").concat(o,"|(:").concat(l,"){1,5}|:)|")+"(?:".concat(l,":){1}(?:(:").concat(l,"){0,4}:").concat(o,"|(:").concat(l,"){1,6}|:)|")+"(?::((?::".concat(l,"){0,5}:").concat(o,"|(?::").concat(l,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return((0,n.default)(e),t=String(t))?"4"===t?s.test(e):"6"===t&&u.test(e):c(e,4)||c(e,6)}e.exports=t.default,e.exports.default=t.default},26572:(e,t,r)=>{"use strict";var n=r(14274),a=r(57379),i=r(95605);e.exports=function(){return i(n,a,arguments)}},26739:(e,t,r)=>{var n;let{createId:a,init:i,getConstants:o,isCuid:s}=r(65382);e.exports.sX=a,n=i,n=o,n=s},26829:(e,t,r)=>{"use strict";let n=r(77721);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},26882:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=c(r(55729)),o=c(r(46440)),s=c(r(43232)),l=c(r(56121)),u=c(r(11538));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function p(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h={to:l.default.string.isRequired,containerId:l.default.string,container:l.default.object,activeClass:l.default.string,activeStyle:l.default.object,spy:l.default.bool,horizontal:l.default.bool,smooth:l.default.oneOfType([l.default.bool,l.default.string]),offset:l.default.number,delay:l.default.number,isDynamic:l.default.bool,onClick:l.default.func,duration:l.default.oneOfType([l.default.number,l.default.func]),absolute:l.default.bool,onSetActive:l.default.func,onSetInactive:l.default.func,ignoreCancelEvents:l.default.bool,hashSpy:l.default.bool,saveHashHistory:l.default.bool,spyThrottle:l.default.number};t.default=function(e,t){var r=t||s.default,l=function(t){function s(e){d(this,s);var t=f(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));return c.call(t),t.state={active:!1},t}return p(s,t),a(s,[{key:"getScrollSpyContainer",value:function(){var e=this.props.containerId,t=this.props.container;return e&&!t?document.getElementById(e):t&&t.nodeType?t:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var e=this.getScrollSpyContainer();o.default.isMounted(e)||o.default.mount(e,this.props.spyThrottle),this.props.hashSpy&&(u.default.isMounted()||u.default.mount(r),u.default.mapContainer(this.props.to,e)),o.default.addSpyHandler(this.spyHandler,e),this.setState({container:e})}}},{key:"componentWillUnmount",value:function(){o.default.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var t="";t=this.state&&this.state.active?((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():this.props.className;var r={};r=this.state&&this.state.active?n({},this.props.style,this.props.activeStyle):n({},this.props.style);var a=n({},this.props);for(var o in h)a.hasOwnProperty(o)&&delete a[o];return a.className=t,a.style=r,a.onClick=this.handleClick,i.default.createElement(e,a)}}]),s}(i.default.PureComponent),c=function(){var e=this;this.scrollTo=function(t,a){r.scrollTo(t,n({},e.state,a))},this.handleClick=function(t){e.props.onClick&&e.props.onClick(t),t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),e.scrollTo(e.props.to,e.props)},this.spyHandler=function(t,n){var a=e.getScrollSpyContainer();if(!u.default.isMounted()||u.default.isInitialized()){var i=e.props.horizontal,o=e.props.to,s=null,l=void 0,c=void 0;if(i){var d=0,f=0,p=0;if(a.getBoundingClientRect&&(p=a.getBoundingClientRect().left),!s||e.props.isDynamic){if(!(s=r.get(o)))return;var h=s.getBoundingClientRect();f=(d=h.left-p+t)+h.width}var m=t-e.props.offset;l=m>=Math.floor(d)&&m<Math.floor(f),c=m<Math.floor(d)||m>=Math.floor(f)}else{var y=0,g=0,v=0;if(a.getBoundingClientRect&&(v=a.getBoundingClientRect().top),!s||e.props.isDynamic){if(!(s=r.get(o)))return;var b=s.getBoundingClientRect();g=(y=b.top-v+n)+b.height}var _=n-e.props.offset;l=_>=Math.floor(y)&&_<Math.floor(g),c=_<Math.floor(y)||_>=Math.floor(g)}var w=r.getActiveLink();if(c){if(o===w&&r.setActiveLink(void 0),e.props.hashSpy&&u.default.getHash()===o){var $=e.props.saveHashHistory,S=void 0!==$&&$;u.default.changeHash("",S)}e.props.spy&&e.state.active&&(e.setState({active:!1}),e.props.onSetInactive&&e.props.onSetInactive(o,s))}if(l&&(w!==o||!1===e.state.active)){r.setActiveLink(o);var E=e.props.saveHashHistory,x=void 0!==E&&E;e.props.hashSpy&&u.default.changeHash(o,x),e.props.spy&&(e.setState({active:!0}),e.props.onSetActive&&e.props.onSetActive(o,s))}}}};return l.propTypes=h,l.defaultProps={offset:0},l}},27654:(e,t,r)=>{"use strict";var n=r(31652);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},27721:(e,t,r)=>{"use strict";var n=r(47684);e.exports=function(){return n()&&!!Symbol.toStringTag}},28160:(e,t,r)=>{"use strict";var n=r(3194),a=r(69497),i=r(72206),o=r(27654);e.exports=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new i("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new i("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new i("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new i("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new i("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new i("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,c=arguments.length>6&&arguments[6],d=!!o&&o(e,t);if(n)n(e,t,{configurable:null===u&&d?d.configurable:!u,enumerable:null===s&&d?d.enumerable:!s,value:r,writable:null===l&&d?d.writable:!l});else if(!c&&(s||l||u))throw new a("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");else e[t]=r}},29203:(e,t)=>{"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var r in t)void 0===e[r]&&(e[r]=t[r]);return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default,e.exports.default=t.default},29349:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=i(r(79922)),a=i(r(29203));function i(e){return e&&e.__esModule?e:{default:e}}var o={ignore_whitespace:!1};function s(e,t){return(0,n.default)(e),((t=(0,a.default)(t,o)).ignore_whitespace?e.trim().length:e.length)===0}e.exports=t.default,e.exports.default=t.default},29427:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,t.locales=void 0;var n=i(r(79922)),a=r(21988);function i(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,n.default)(e);var i=e,o=r.ignore;if(o)if(o instanceof RegExp)i=i.replace(o,"");else if("string"==typeof o)i=i.replace(RegExp("[".concat(o.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"");else throw Error("ignore should be instance of a String or RegExp");if(t in a.alphanumeric)return a.alphanumeric[t].test(i);throw Error("Invalid locale '".concat(t,"'"))}t.locales=Object.keys(a.alphanumeric)},29486:(e,t,r)=>{"use strict";var n=r(51642).Buffer;let a=void 0!==n,i=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,o=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function s(e,t,r){null==r&&null!==t&&"object"==typeof t&&(r=t,t=void 0),a&&n.isBuffer(e)&&(e=e.toString()),e&&65279===e.charCodeAt(0)&&(e=e.slice(1));let s=JSON.parse(e,t);if(null===s||"object"!=typeof s)return s;let u=r&&r.protoAction||"error",c=r&&r.constructorAction||"error";if("ignore"===u&&"ignore"===c)return s;if("ignore"!==u&&"ignore"!==c){if(!1===i.test(e)&&!1===o.test(e))return s}else if("ignore"!==u&&"ignore"===c){if(!1===i.test(e))return s}else if(!1===o.test(e))return s;return l(s,{protoAction:u,constructorAction:c,safe:r&&r.safe})}function l(e,{protoAction:t="error",constructorAction:r="error",safe:n}={}){let a=[e];for(;a.length;){let e=a;for(let i of(a=[],e)){if("ignore"!==t&&Object.prototype.hasOwnProperty.call(i,"__proto__")){if(!0===n)return null;if("error"===t)throw SyntaxError("Object contains forbidden prototype property");delete i.__proto__}if("ignore"!==r&&Object.prototype.hasOwnProperty.call(i,"constructor")&&Object.prototype.hasOwnProperty.call(i.constructor,"prototype")){if(!0===n)return null;if("error"===r)throw SyntaxError("Object contains forbidden prototype property");delete i.constructor}for(let e in i){let t=i[e];t&&"object"==typeof t&&a.push(t)}}}return e}function u(e,t,r){let n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return s(e,t,r)}finally{Error.stackTraceLimit=n}}function c(e,t){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return s(e,t,{safe:!0})}catch(e){return null}finally{Error.stackTraceLimit=r}}e.exports=u,e.exports.default=u,e.exports.parse=u,e.exports.safeParse=c,e.exports.scan=l},29628:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return(0,n.default)(e),e.replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#x5C;/g,"\\").replace(/&#96;/g,"`").replace(/&amp;/g,"&")}e.exports=t.default,e.exports.default=t.default},29911:(e,t,r)=>{"use strict";let n=r(26829);e.exports=(e,t)=>{let r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},30366:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=/^rgb\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){2}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\)$/,o=/^rgba\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)$/,s=/^rgb\((([0-9]%|[1-9][0-9]%|100%),){2}([0-9]%|[1-9][0-9]%|100%)\)$/,l=/^rgba\((([0-9]%|[1-9][0-9]%|100%),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)$/;function u(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return((0,n.default)(e),t)?i.test(e)||o.test(e)||s.test(e)||l.test(e):i.test(e)||o.test(e)}e.exports=t.default,e.exports.default=t.default},30629:(e,t,r)=>{"use strict";var n=r(48033),a=r(86357),i=r(44050),o=r(84173);function s(e){return e.call.bind(e)}var l="undefined"!=typeof BigInt,u="undefined"!=typeof Symbol,c=s(Object.prototype.toString),d=s(Number.prototype.valueOf),f=s(String.prototype.valueOf),p=s(Boolean.prototype.valueOf);if(l)var h=s(BigInt.prototype.valueOf);if(u)var m=s(Symbol.prototype.valueOf);function y(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function g(e){return"[object Map]"===c(e)}function v(e){return"[object Set]"===c(e)}function b(e){return"[object WeakMap]"===c(e)}function _(e){return"[object WeakSet]"===c(e)}function w(e){return"[object ArrayBuffer]"===c(e)}function $(e){return"undefined"!=typeof ArrayBuffer&&(w.working?w(e):e instanceof ArrayBuffer)}function S(e){return"[object DataView]"===c(e)}function E(e){return"undefined"!=typeof DataView&&(S.working?S(e):e instanceof DataView)}t.isArgumentsObject=n,t.isGeneratorFunction=a,t.isTypedArray=o,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):o(e)||E(e)},t.isUint8Array=function(e){return"Uint8Array"===i(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===i(e)},t.isUint16Array=function(e){return"Uint16Array"===i(e)},t.isUint32Array=function(e){return"Uint32Array"===i(e)},t.isInt8Array=function(e){return"Int8Array"===i(e)},t.isInt16Array=function(e){return"Int16Array"===i(e)},t.isInt32Array=function(e){return"Int32Array"===i(e)},t.isFloat32Array=function(e){return"Float32Array"===i(e)},t.isFloat64Array=function(e){return"Float64Array"===i(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===i(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===i(e)},g.working="undefined"!=typeof Map&&g(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(g.working?g(e):e instanceof Map)},v.working="undefined"!=typeof Set&&v(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(v.working?v(e):e instanceof Set)},b.working="undefined"!=typeof WeakMap&&b(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(b.working?b(e):e instanceof WeakMap)},_.working="undefined"!=typeof WeakSet&&_(new WeakSet),t.isWeakSet=function(e){return _(e)},w.working="undefined"!=typeof ArrayBuffer&&w(new ArrayBuffer),t.isArrayBuffer=$,S.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&S(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=E;var x="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function A(e){return"[object SharedArrayBuffer]"===c(e)}function k(e){return void 0!==x&&(void 0===A.working&&(A.working=A(new x)),A.working?A(e):e instanceof x)}function O(e){return y(e,d)}function I(e){return y(e,f)}function C(e){return y(e,p)}function T(e){return l&&y(e,h)}function P(e){return u&&y(e,m)}t.isSharedArrayBuffer=k,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===c(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===c(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===c(e)},t.isGeneratorObject=function(e){return"[object Generator]"===c(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===c(e)},t.isNumberObject=O,t.isStringObject=I,t.isBooleanObject=C,t.isBigIntObject=T,t.isSymbolObject=P,t.isBoxedPrimitive=function(e){return O(e)||I(e)||C(e)||T(e)||P(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&($(e)||k(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw Error(e+" is not supported in userland")}})})},31078:(e,t,r)=>{"use strict";let n;r.d(t,{Ik:()=>eX,z:()=>tv}),function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),n={};for(let e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(tf||(tf={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(tp||(tp={}));let a=tf.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),i=e=>{switch(typeof e){case"undefined":return a.undefined;case"string":return a.string;case"number":return isNaN(e)?a.nan:a.number;case"boolean":return a.boolean;case"function":return a.function;case"bigint":return a.bigint;case"symbol":return a.symbol;case"object":if(Array.isArray(e))return a.array;if(null===e)return a.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return a.promise;if("undefined"!=typeof Map&&e instanceof Map)return a.map;if("undefined"!=typeof Set&&e instanceof Set)return a.set;if("undefined"!=typeof Date&&e instanceof Date)return a.date;return a.object;default:return a.unknown}},o=tf.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),s=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class l extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(n);else if("invalid_return_type"===a.code)n(a.returnTypeError);else if("invalid_arguments"===a.code)n(a.argumentsError);else if(0===a.path.length)r._errors.push(t(a));else{let e=r,n=0;for(;n<a.path.length;){let r=a.path[n];n===a.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(a))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof l))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,tf.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}l.create=e=>new l(e);let u=(e,t)=>{let r;switch(e.code){case o.invalid_type:r=e.received===a.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case o.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,tf.jsonStringifyReplacer)}`;break;case o.unrecognized_keys:r=`Unrecognized key(s) in object: ${tf.joinValues(e.keys,", ")}`;break;case o.invalid_union:r="Invalid input";break;case o.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${tf.joinValues(e.options)}`;break;case o.invalid_enum_value:r=`Invalid enum value. Expected ${tf.joinValues(e.options)}, received '${e.received}'`;break;case o.invalid_arguments:r="Invalid function arguments";break;case o.invalid_return_type:r="Invalid function return type";break;case o.invalid_date:r="Invalid date";break;case o.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:tf.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case o.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case o.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case o.custom:r="Invalid input";break;case o.invalid_intersection_types:r="Intersection results could not be merged";break;case o.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case o.not_finite:r="Number must be finite";break;default:r=t.defaultError,tf.assertNever(e)}return{message:r}},c=u;function d(e){c=e}function f(){return c}let p=e=>{let{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(void 0!==a.message)return{...a,path:i,message:a.message};let s="";for(let e of n.filter(e=>!!e).slice().reverse())s=e(o,{data:t,defaultError:s}).message;return{...a,path:i,message:s}},h=[];function m(e,t){let r=f(),n=p({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===u?void 0:u].filter(e=>!!e)});e.common.issues.push(n)}class y{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return g;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return y.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:a}=n;if("aborted"===t.status||"aborted"===a.status)return g;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==a.value||n.alwaysSet)&&(r[t.value]=a.value)}return{status:e.value,value:r}}}let g=Object.freeze({status:"aborted"}),v=e=>({status:"dirty",value:e}),b=e=>({status:"valid",value:e}),_=e=>"aborted"===e.status,w=e=>"dirty"===e.status,$=e=>"valid"===e.status,S=e=>"undefined"!=typeof Promise&&e instanceof Promise;function E(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function x(e,t,r,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r}"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(th||(th={}));class A{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let k=(e,t)=>{if($(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new l(e.common.issues);return this._error=t,this._error}}};function O(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(t,a)=>{var i,o;let{message:s}=e;return"invalid_enum_value"===t.code?{message:null!=s?s:a.defaultError}:void 0===a.data?{message:null!=(i=null!=s?s:n)?i:a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:null!=(o=null!=s?s:r)?o:a.defaultError}},description:a}}class I{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return i(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:i(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new y,ctx:{common:e.parent.common,data:e.data,parsedType:i(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(S(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;let n={common:{issues:[],async:null!=(r=null==t?void 0:t.async)&&r,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:i(e)},a=this._parseSync({data:e,path:n.path,parent:n});return k(n,a)}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:i(e)},n=this._parse({data:e,path:r.path,parent:r});return k(r,await (S(n)?n:Promise.resolve(n)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{let a=e(t),i=()=>n.addIssue({code:o.custom,...r(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(e=>!!e||(i(),!1)):!!a||(i(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new ex({schema:this,typeName:tg.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return eA.create(this,this._def)}nullable(){return ek.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return eo.create(this,this._def)}promise(){return eE.create(this,this._def)}or(e){return eu.create([this,e],this._def)}and(e){return ep.create(this,e,this._def)}transform(e){return new ex({...O(this._def),schema:this,typeName:tg.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t="function"==typeof e?e:()=>e;return new eO({...O(this._def),innerType:this,defaultValue:t,typeName:tg.ZodDefault})}brand(){return new eP({typeName:tg.ZodBranded,type:this,...O(this._def)})}catch(e){let t="function"==typeof e?e:()=>e;return new eI({...O(this._def),innerType:this,catchValue:t,typeName:tg.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return eR.create(this,e)}readonly(){return eN.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let C=/^c[^\s-]{8,}$/i,T=/^[0-9a-z]+$/,P=/^[0-9A-HJKMNP-TV-Z]{26}$/,R=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,N=/^[a-z0-9_-]{21}$/i,j=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,M=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,L="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",D=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,B=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,F=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,z="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",U=RegExp(`^${z}$`);function Z(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function H(e){return RegExp(`^${Z(e)}$`)}function V(e){let t=`${z}T${Z(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}function W(e,t){return!!(("v4"===t||!t)&&D.test(e)||("v6"===t||!t)&&B.test(e))}class q extends I{_parse(e){let t;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==a.string){let t=this._getOrReturnCtx(e);return m(t,{code:o.invalid_type,expected:a.string,received:t.parsedType}),g}let r=new y;for(let a of this._def.checks)if("min"===a.kind)e.data.length<a.value&&(m(t=this._getOrReturnCtx(e,t),{code:o.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if("max"===a.kind)e.data.length>a.value&&(m(t=this._getOrReturnCtx(e,t),{code:o.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if("length"===a.kind){let n=e.data.length>a.value,i=e.data.length<a.value;(n||i)&&(t=this._getOrReturnCtx(e,t),n?m(t,{code:o.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):i&&m(t,{code:o.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if("email"===a.kind)M.test(e.data)||(m(t=this._getOrReturnCtx(e,t),{validation:"email",code:o.invalid_string,message:a.message}),r.dirty());else if("emoji"===a.kind)n||(n=RegExp(L,"u")),n.test(e.data)||(m(t=this._getOrReturnCtx(e,t),{validation:"emoji",code:o.invalid_string,message:a.message}),r.dirty());else if("uuid"===a.kind)R.test(e.data)||(m(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:o.invalid_string,message:a.message}),r.dirty());else if("nanoid"===a.kind)N.test(e.data)||(m(t=this._getOrReturnCtx(e,t),{validation:"nanoid",code:o.invalid_string,message:a.message}),r.dirty());else if("cuid"===a.kind)C.test(e.data)||(m(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:o.invalid_string,message:a.message}),r.dirty());else if("cuid2"===a.kind)T.test(e.data)||(m(t=this._getOrReturnCtx(e,t),{validation:"cuid2",code:o.invalid_string,message:a.message}),r.dirty());else if("ulid"===a.kind)P.test(e.data)||(m(t=this._getOrReturnCtx(e,t),{validation:"ulid",code:o.invalid_string,message:a.message}),r.dirty());else if("url"===a.kind)try{new URL(e.data)}catch(n){m(t=this._getOrReturnCtx(e,t),{validation:"url",code:o.invalid_string,message:a.message}),r.dirty()}else"regex"===a.kind?(a.regex.lastIndex=0,a.regex.test(e.data)||(m(t=this._getOrReturnCtx(e,t),{validation:"regex",code:o.invalid_string,message:a.message}),r.dirty())):"trim"===a.kind?e.data=e.data.trim():"includes"===a.kind?e.data.includes(a.value,a.position)||(m(t=this._getOrReturnCtx(e,t),{code:o.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):"toLowerCase"===a.kind?e.data=e.data.toLowerCase():"toUpperCase"===a.kind?e.data=e.data.toUpperCase():"startsWith"===a.kind?e.data.startsWith(a.value)||(m(t=this._getOrReturnCtx(e,t),{code:o.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):"endsWith"===a.kind?e.data.endsWith(a.value)||(m(t=this._getOrReturnCtx(e,t),{code:o.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):"datetime"===a.kind?V(a).test(e.data)||(m(t=this._getOrReturnCtx(e,t),{code:o.invalid_string,validation:"datetime",message:a.message}),r.dirty()):"date"===a.kind?U.test(e.data)||(m(t=this._getOrReturnCtx(e,t),{code:o.invalid_string,validation:"date",message:a.message}),r.dirty()):"time"===a.kind?H(a).test(e.data)||(m(t=this._getOrReturnCtx(e,t),{code:o.invalid_string,validation:"time",message:a.message}),r.dirty()):"duration"===a.kind?j.test(e.data)||(m(t=this._getOrReturnCtx(e,t),{validation:"duration",code:o.invalid_string,message:a.message}),r.dirty()):"ip"===a.kind?W(e.data,a.version)||(m(t=this._getOrReturnCtx(e,t),{validation:"ip",code:o.invalid_string,message:a.message}),r.dirty()):"base64"===a.kind?F.test(e.data)||(m(t=this._getOrReturnCtx(e,t),{validation:"base64",code:o.invalid_string,message:a.message}),r.dirty()):tf.assertNever(a);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:o.invalid_string,...th.errToObj(r)})}_addCheck(e){return new q({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...th.errToObj(e)})}url(e){return this._addCheck({kind:"url",...th.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...th.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...th.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...th.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...th.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...th.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...th.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...th.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...th.errToObj(e)})}datetime(e){var t,r;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!=(t=null==e?void 0:e.offset)&&t,local:null!=(r=null==e?void 0:e.local)&&r,...th.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...th.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...th.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...th.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...th.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...th.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...th.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...th.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...th.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...th.errToObj(t)})}nonempty(e){return this.min(1,th.errToObj(e))}trim(){return new q({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new q({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new q({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function K(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n;return parseInt(e.toFixed(a).replace(".",""))%parseInt(t.toFixed(a).replace(".",""))/Math.pow(10,a)}q.create=e=>{var t;return new q({checks:[],typeName:tg.ZodString,coerce:null!=(t=null==e?void 0:e.coerce)&&t,...O(e)})};class G extends I{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==a.number){let t=this._getOrReturnCtx(e);return m(t,{code:o.invalid_type,expected:a.number,received:t.parsedType}),g}let r=new y;for(let n of this._def.checks)"int"===n.kind?tf.isInteger(e.data)||(m(t=this._getOrReturnCtx(e,t),{code:o.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(m(t=this._getOrReturnCtx(e,t),{code:o.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(m(t=this._getOrReturnCtx(e,t),{code:o.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==K(e.data,n.value)&&(m(t=this._getOrReturnCtx(e,t),{code:o.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(m(t=this._getOrReturnCtx(e,t),{code:o.not_finite,message:n.message}),r.dirty()):tf.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,th.toString(t))}gt(e,t){return this.setLimit("min",e,!1,th.toString(t))}lte(e,t){return this.setLimit("max",e,!0,th.toString(t))}lt(e,t){return this.setLimit("max",e,!1,th.toString(t))}setLimit(e,t,r,n){return new G({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:th.toString(n)}]})}_addCheck(e){return new G({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:th.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:th.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:th.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:th.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:th.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:th.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:th.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:th.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:th.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&tf.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}G.create=e=>new G({checks:[],typeName:tg.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...O(e)});class J extends I{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==a.bigint){let t=this._getOrReturnCtx(e);return m(t,{code:o.invalid_type,expected:a.bigint,received:t.parsedType}),g}let r=new y;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(m(t=this._getOrReturnCtx(e,t),{code:o.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(m(t=this._getOrReturnCtx(e,t),{code:o.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(m(t=this._getOrReturnCtx(e,t),{code:o.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):tf.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,th.toString(t))}gt(e,t){return this.setLimit("min",e,!1,th.toString(t))}lte(e,t){return this.setLimit("max",e,!0,th.toString(t))}lt(e,t){return this.setLimit("max",e,!1,th.toString(t))}setLimit(e,t,r,n){return new J({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:th.toString(n)}]})}_addCheck(e){return new J({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:th.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:th.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:th.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:th.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:th.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}J.create=e=>{var t;return new J({checks:[],typeName:tg.ZodBigInt,coerce:null!=(t=null==e?void 0:e.coerce)&&t,...O(e)})};class Y extends I{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==a.boolean){let t=this._getOrReturnCtx(e);return m(t,{code:o.invalid_type,expected:a.boolean,received:t.parsedType}),g}return b(e.data)}}Y.create=e=>new Y({typeName:tg.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...O(e)});class X extends I{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==a.date){let t=this._getOrReturnCtx(e);return m(t,{code:o.invalid_type,expected:a.date,received:t.parsedType}),g}if(isNaN(e.data.getTime()))return m(this._getOrReturnCtx(e),{code:o.invalid_date}),g;let r=new y;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(m(t=this._getOrReturnCtx(e,t),{code:o.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(m(t=this._getOrReturnCtx(e,t),{code:o.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):tf.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new X({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:th.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:th.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}X.create=e=>new X({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:tg.ZodDate,...O(e)});class Q extends I{_parse(e){if(this._getType(e)!==a.symbol){let t=this._getOrReturnCtx(e);return m(t,{code:o.invalid_type,expected:a.symbol,received:t.parsedType}),g}return b(e.data)}}Q.create=e=>new Q({typeName:tg.ZodSymbol,...O(e)});class ee extends I{_parse(e){if(this._getType(e)!==a.undefined){let t=this._getOrReturnCtx(e);return m(t,{code:o.invalid_type,expected:a.undefined,received:t.parsedType}),g}return b(e.data)}}ee.create=e=>new ee({typeName:tg.ZodUndefined,...O(e)});class et extends I{_parse(e){if(this._getType(e)!==a.null){let t=this._getOrReturnCtx(e);return m(t,{code:o.invalid_type,expected:a.null,received:t.parsedType}),g}return b(e.data)}}et.create=e=>new et({typeName:tg.ZodNull,...O(e)});class er extends I{constructor(){super(...arguments),this._any=!0}_parse(e){return b(e.data)}}er.create=e=>new er({typeName:tg.ZodAny,...O(e)});class en extends I{constructor(){super(...arguments),this._unknown=!0}_parse(e){return b(e.data)}}en.create=e=>new en({typeName:tg.ZodUnknown,...O(e)});class ea extends I{_parse(e){let t=this._getOrReturnCtx(e);return m(t,{code:o.invalid_type,expected:a.never,received:t.parsedType}),g}}ea.create=e=>new ea({typeName:tg.ZodNever,...O(e)});class ei extends I{_parse(e){if(this._getType(e)!==a.undefined){let t=this._getOrReturnCtx(e);return m(t,{code:o.invalid_type,expected:a.void,received:t.parsedType}),g}return b(e.data)}}ei.create=e=>new ei({typeName:tg.ZodVoid,...O(e)});class eo extends I{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==a.array)return m(t,{code:o.invalid_type,expected:a.array,received:t.parsedType}),g;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,a=t.data.length<n.exactLength.value;(e||a)&&(m(t,{code:e?o.too_big:o.too_small,minimum:a?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(m(t,{code:o.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(m(t,{code:o.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new A(t,e,t.path,r)))).then(e=>y.mergeArray(r,e));let i=[...t.data].map((e,r)=>n.type._parseSync(new A(t,e,t.path,r)));return y.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new eo({...this._def,minLength:{value:e,message:th.toString(t)}})}max(e,t){return new eo({...this._def,maxLength:{value:e,message:th.toString(t)}})}length(e,t){return new eo({...this._def,exactLength:{value:e,message:th.toString(t)}})}nonempty(e){return this.min(1,e)}}function es(e){if(e instanceof el){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=eA.create(es(n))}return new el({...e._def,shape:()=>t})}if(e instanceof eo)return new eo({...e._def,type:es(e.element)});if(e instanceof eA)return eA.create(es(e.unwrap()));if(e instanceof ek)return ek.create(es(e.unwrap()));if(e instanceof eh)return eh.create(e.items.map(e=>es(e)));else return e}eo.create=(e,t)=>new eo({type:e,minLength:null,maxLength:null,exactLength:null,typeName:tg.ZodArray,...O(t)});class el extends I{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=tf.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==a.object){let t=this._getOrReturnCtx(e);return m(t,{code:o.invalid_type,expected:a.object,received:t.parsedType}),g}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),s=[];if(!(this._def.catchall instanceof ea&&"strip"===this._def.unknownKeys))for(let e in r.data)i.includes(e)||s.push(e);let l=[];for(let e of i){let t=n[e],a=r.data[e];l.push({key:{status:"valid",value:e},value:t._parse(new A(r,a,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof ea){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of s)l.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)s.length>0&&(m(r,{code:o.unrecognized_keys,keys:s}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of s){let n=r.data[t];l.push({key:{status:"valid",value:t},value:e._parse(new A(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of l){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>y.mergeObjectSync(t,e)):y.mergeObjectSync(t,l)}get shape(){return this._def.shape()}strict(e){return th.errToObj,new el({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var n,a,i,o;let s=null!=(i=null==(a=(n=this._def).errorMap)?void 0:a.call(n,t,r).message)?i:r.defaultError;return"unrecognized_keys"===t.code?{message:null!=(o=th.errToObj(e).message)?o:s}:{message:s}}}:{}})}strip(){return new el({...this._def,unknownKeys:"strip"})}passthrough(){return new el({...this._def,unknownKeys:"passthrough"})}extend(e){return new el({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new el({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:tg.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new el({...this._def,catchall:e})}pick(e){let t={};return tf.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new el({...this._def,shape:()=>t})}omit(e){let t={};return tf.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new el({...this._def,shape:()=>t})}deepPartial(){return es(this)}partial(e){let t={};return tf.objectKeys(this.shape).forEach(r=>{let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}),new el({...this._def,shape:()=>t})}required(e){let t={};return tf.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof eA;)e=e._def.innerType;t[r]=e}}),new el({...this._def,shape:()=>t})}keyof(){return ew(tf.objectKeys(this.shape))}}el.create=(e,t)=>new el({shape:()=>e,unknownKeys:"strip",catchall:ea.create(),typeName:tg.ZodObject,...O(t)}),el.strictCreate=(e,t)=>new el({shape:()=>e,unknownKeys:"strict",catchall:ea.create(),typeName:tg.ZodObject,...O(t)}),el.lazycreate=(e,t)=>new el({shape:e,unknownKeys:"strip",catchall:ea.create(),typeName:tg.ZodObject,...O(t)});class eu extends I{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function n(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new l(e.ctx.common.issues));return m(t,{code:o.invalid_union,unionErrors:r}),g}if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(n);{let e,n=[];for(let a of r){let r={...t,common:{...t.common,issues:[]},parent:null},i=a._parseSync({data:t.data,path:t.path,parent:r});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let a=n.map(e=>new l(e));return m(t,{code:o.invalid_union,unionErrors:a}),g}}get options(){return this._def.options}}eu.create=(e,t)=>new eu({options:e,typeName:tg.ZodUnion,...O(t)});let ec=e=>{if(e instanceof eb)return ec(e.schema);if(e instanceof ex)return ec(e.innerType());if(e instanceof e_)return[e.value];if(e instanceof e$)return e.options;if(e instanceof eS)return tf.objectValues(e.enum);else if(e instanceof eO)return ec(e._def.innerType);else if(e instanceof ee)return[void 0];else if(e instanceof et)return[null];else if(e instanceof eA)return[void 0,...ec(e.unwrap())];else if(e instanceof ek)return[null,...ec(e.unwrap())];else if(e instanceof eP)return ec(e.unwrap());else if(e instanceof eN)return ec(e.unwrap());else if(e instanceof eI)return ec(e._def.innerType);else return[]};class ed extends I{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==a.object)return m(t,{code:o.invalid_type,expected:a.object,received:t.parsedType}),g;let r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(m(t,{code:o.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),g)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=ec(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of t){if(n.has(a))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);n.set(a,r)}}return new ed({typeName:tg.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...O(r)})}}function ef(e,t){let r=i(e),n=i(t);if(e===t)return{valid:!0,data:e};if(r===a.object&&n===a.object){let r=tf.objectKeys(t),n=tf.objectKeys(e).filter(e=>-1!==r.indexOf(e)),a={...e,...t};for(let r of n){let n=ef(e[r],t[r]);if(!n.valid)return{valid:!1};a[r]=n.data}return{valid:!0,data:a}}if(r===a.array&&n===a.array){if(e.length!==t.length)return{valid:!1};let r=[];for(let n=0;n<e.length;n++){let a=ef(e[n],t[n]);if(!a.valid)return{valid:!1};r.push(a.data)}return{valid:!0,data:r}}if(r===a.date&&n===a.date&&+e==+t)return{valid:!0,data:e};return{valid:!1}}class ep extends I{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(_(e)||_(n))return g;let a=ef(e.value,n.value);return a.valid?((w(e)||w(n))&&t.dirty(),{status:t.value,value:a.data}):(m(r,{code:o.invalid_intersection_types}),g)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ep.create=(e,t,r)=>new ep({left:e,right:t,typeName:tg.ZodIntersection,...O(r)});class eh extends I{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==a.array)return m(r,{code:o.invalid_type,expected:a.array,received:r.parsedType}),g;if(r.data.length<this._def.items.length)return m(r,{code:o.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),g;!this._def.rest&&r.data.length>this._def.items.length&&(m(r,{code:o.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new A(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>y.mergeArray(t,e)):y.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new eh({...this._def,rest:e})}}eh.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new eh({items:e,typeName:tg.ZodTuple,rest:null,...O(t)})};class em extends I{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==a.object)return m(r,{code:o.invalid_type,expected:a.object,received:r.parsedType}),g;let n=[],i=this._def.keyType,s=this._def.valueType;for(let e in r.data)n.push({key:i._parse(new A(r,e,r.path,e)),value:s._parse(new A(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?y.mergeObjectAsync(t,n):y.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new em(t instanceof I?{keyType:e,valueType:t,typeName:tg.ZodRecord,...O(r)}:{keyType:q.create(),valueType:e,typeName:tg.ZodRecord,...O(t)})}}class ey extends I{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==a.map)return m(r,{code:o.invalid_type,expected:a.map,received:r.parsedType}),g;let n=this._def.keyType,i=this._def.valueType,s=[...r.data.entries()].map(([e,t],a)=>({key:n._parse(new A(r,e,r.path,[a,"key"])),value:i._parse(new A(r,t,r.path,[a,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of s){let n=await r.key,a=await r.value;if("aborted"===n.status||"aborted"===a.status)return g;("dirty"===n.status||"dirty"===a.status)&&t.dirty(),e.set(n.value,a.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of s){let n=r.key,a=r.value;if("aborted"===n.status||"aborted"===a.status)return g;("dirty"===n.status||"dirty"===a.status)&&t.dirty(),e.set(n.value,a.value)}return{status:t.value,value:e}}}}ey.create=(e,t,r)=>new ey({valueType:t,keyType:e,typeName:tg.ZodMap,...O(r)});class eg extends I{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==a.set)return m(r,{code:o.invalid_type,expected:a.set,received:r.parsedType}),g;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(m(r,{code:o.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(m(r,{code:o.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let i=this._def.valueType;function s(e){let r=new Set;for(let n of e){if("aborted"===n.status)return g;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let l=[...r.data.values()].map((e,t)=>i._parse(new A(r,e,r.path,t)));return r.common.async?Promise.all(l).then(e=>s(e)):s(l)}min(e,t){return new eg({...this._def,minSize:{value:e,message:th.toString(t)}})}max(e,t){return new eg({...this._def,maxSize:{value:e,message:th.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}eg.create=(e,t)=>new eg({valueType:e,minSize:null,maxSize:null,typeName:tg.ZodSet,...O(t)});class ev extends I{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==a.function)return m(t,{code:o.invalid_type,expected:a.function,received:t.parsedType}),g;function r(e,r){return p({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,f(),u].filter(e=>!!e),issueData:{code:o.invalid_arguments,argumentsError:r}})}function n(e,r){return p({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,f(),u].filter(e=>!!e),issueData:{code:o.invalid_return_type,returnTypeError:r}})}let i={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof eE){let e=this;return b(async function(...t){let a=new l([]),o=await e._def.args.parseAsync(t,i).catch(e=>{throw a.addIssue(r(t,e)),a}),u=await Reflect.apply(s,this,o);return await e._def.returns._def.type.parseAsync(u,i).catch(e=>{throw a.addIssue(n(u,e)),a})})}{let e=this;return b(function(...t){let a=e._def.args.safeParse(t,i);if(!a.success)throw new l([r(t,a.error)]);let o=Reflect.apply(s,this,a.data),u=e._def.returns.safeParse(o,i);if(!u.success)throw new l([n(o,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ev({...this._def,args:eh.create(e).rest(en.create())})}returns(e){return new ev({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new ev({args:e||eh.create([]).rest(en.create()),returns:t||en.create(),typeName:tg.ZodFunction,...O(r)})}}class eb extends I{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}eb.create=(e,t)=>new eb({getter:e,typeName:tg.ZodLazy,...O(t)});class e_ extends I{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return m(t,{received:t.data,code:o.invalid_literal,expected:this._def.value}),g}return{status:"valid",value:e.data}}get value(){return this._def.value}}function ew(e,t){return new e$({values:e,typeName:tg.ZodEnum,...O(t)})}e_.create=(e,t)=>new e_({value:e,typeName:tg.ZodLiteral,...O(t)});class e$ extends I{constructor(){super(...arguments),tm.set(this,void 0)}_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return m(t,{expected:tf.joinValues(r),received:t.parsedType,code:o.invalid_type}),g}if(E(this,tm,"f")||x(this,tm,new Set(this._def.values),"f"),!E(this,tm,"f").has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return m(t,{received:t.data,code:o.invalid_enum_value,options:r}),g}return b(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return e$.create(e,{...this._def,...t})}exclude(e,t=this._def){return e$.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}tm=new WeakMap,e$.create=ew;class eS extends I{constructor(){super(...arguments),ty.set(this,void 0)}_parse(e){let t=tf.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==a.string&&r.parsedType!==a.number){let e=tf.objectValues(t);return m(r,{expected:tf.joinValues(e),received:r.parsedType,code:o.invalid_type}),g}if(E(this,ty,"f")||x(this,ty,new Set(tf.getValidEnumValues(this._def.values)),"f"),!E(this,ty,"f").has(e.data)){let e=tf.objectValues(t);return m(r,{received:r.data,code:o.invalid_enum_value,options:e}),g}return b(e.data)}get enum(){return this._def.values}}ty=new WeakMap,eS.create=(e,t)=>new eS({values:e,typeName:tg.ZodNativeEnum,...O(t)});class eE extends I{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==a.promise&&!1===t.common.async?(m(t,{code:o.invalid_type,expected:a.promise,received:t.parsedType}),g):b((t.parsedType===a.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}eE.create=(e,t)=>new eE({type:e,typeName:tg.ZodPromise,...O(t)});class ex extends I{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===tg.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:e=>{m(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===n.type){let e=n.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return g;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?g:"dirty"===n.status||"dirty"===t.value?v(n.value):n});{if("aborted"===t.value)return g;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?g:"dirty"===n.status||"dirty"===t.value?v(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?g:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?g:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>$(e)?Promise.resolve(n.transform(e.value,a)).then(e=>({status:t.value,value:e})):e);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!$(e))return e;let i=n.transform(e.value,a);if(i instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}tf.assertNever(n)}}ex.create=(e,t,r)=>new ex({schema:e,typeName:tg.ZodEffects,effect:t,...O(r)}),ex.createWithPreprocess=(e,t,r)=>new ex({schema:t,effect:{type:"preprocess",transform:e},typeName:tg.ZodEffects,...O(r)});class eA extends I{_parse(e){return this._getType(e)===a.undefined?b(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eA.create=(e,t)=>new eA({innerType:e,typeName:tg.ZodOptional,...O(t)});class ek extends I{_parse(e){return this._getType(e)===a.null?b(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ek.create=(e,t)=>new ek({innerType:e,typeName:tg.ZodNullable,...O(t)});class eO extends I{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===a.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}eO.create=(e,t)=>new eO({innerType:e,typeName:tg.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...O(t)});class eI extends I{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return S(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new l(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new l(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}eI.create=(e,t)=>new eI({innerType:e,typeName:tg.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...O(t)});class eC extends I{_parse(e){if(this._getType(e)!==a.nan){let t=this._getOrReturnCtx(e);return m(t,{code:o.invalid_type,expected:a.nan,received:t.parsedType}),g}return{status:"valid",value:e.data}}}eC.create=e=>new eC({typeName:tg.ZodNaN,...O(e)});let eT=Symbol("zod_brand");class eP extends I{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class eR extends I{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?g:"dirty"===e.status?(t.dirty(),v(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?g:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new eR({in:e,out:t,typeName:tg.ZodPipeline})}}class eN extends I{_parse(e){let t=this._def.innerType._parse(e),r=e=>($(e)&&(e.value=Object.freeze(e.value)),e);return S(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function ej(e,t={},r){return e?er.create().superRefine((n,a)=>{var i,o;if(!e(n)){let e="function"==typeof t?t(n):"string"==typeof t?{message:t}:t,s=null==(o=null!=(i=e.fatal)?i:r)||o,l="string"==typeof e?{message:e}:e;a.addIssue({code:"custom",...l,fatal:s})}}):er.create()}eN.create=(e,t)=>new eN({innerType:e,typeName:tg.ZodReadonly,...O(t)});let eM={object:el.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(tg||(tg={}));let eL=(e,t={message:`Input not instance of ${e.name}`})=>ej(t=>t instanceof e,t),eD=q.create,eB=G.create,eF=eC.create,ez=J.create,eU=Y.create,eZ=X.create,eH=Q.create,eV=ee.create,eW=et.create,eq=er.create,eK=en.create,eG=ea.create,eJ=ei.create,eY=eo.create,eX=el.create,eQ=el.strictCreate,e0=eu.create,e1=ed.create,e2=ep.create,e3=eh.create,e9=em.create,e4=ey.create,e8=eg.create,e6=ev.create,e5=eb.create,e7=e_.create,te=e$.create,tt=eS.create,tr=eE.create,tn=ex.create,ta=eA.create,ti=ek.create,to=ex.createWithPreprocess,ts=eR.create,tl=()=>eB().optional(),tu=()=>eU().optional(),tc={string:e=>q.create({...e,coerce:!0}),number:e=>G.create({...e,coerce:!0}),boolean:e=>Y.create({...e,coerce:!0}),bigint:e=>J.create({...e,coerce:!0}),date:e=>X.create({...e,coerce:!0})},td=g;var tf,tp,th,tm,ty,tg,tv=Object.freeze({__proto__:null,defaultErrorMap:u,setErrorMap:d,getErrorMap:f,makeIssue:p,EMPTY_PATH:h,addIssueToContext:m,ParseStatus:y,INVALID:g,DIRTY:v,OK:b,isAborted:_,isDirty:w,isValid:$,isAsync:S,get util(){return tf},get objectUtil(){return tp},ZodParsedType:a,getParsedType:i,ZodType:I,datetimeRegex:V,ZodString:q,ZodNumber:G,ZodBigInt:J,ZodBoolean:Y,ZodDate:X,ZodSymbol:Q,ZodUndefined:ee,ZodNull:et,ZodAny:er,ZodUnknown:en,ZodNever:ea,ZodVoid:ei,ZodArray:eo,ZodObject:el,ZodUnion:eu,ZodDiscriminatedUnion:ed,ZodIntersection:ep,ZodTuple:eh,ZodRecord:em,ZodMap:ey,ZodSet:eg,ZodFunction:ev,ZodLazy:eb,ZodLiteral:e_,ZodEnum:e$,ZodNativeEnum:eS,ZodPromise:eE,ZodEffects:ex,ZodTransformer:ex,ZodOptional:eA,ZodNullable:ek,ZodDefault:eO,ZodCatch:eI,ZodNaN:eC,BRAND:eT,ZodBranded:eP,ZodPipeline:eR,ZodReadonly:eN,custom:ej,Schema:I,ZodSchema:I,late:eM,get ZodFirstPartyTypeKind(){return tg},coerce:tc,any:eq,array:eY,bigint:ez,boolean:eU,date:eZ,discriminatedUnion:e1,effect:tn,enum:te,function:e6,instanceof:eL,intersection:e2,lazy:e5,literal:e7,map:e4,nan:eF,nativeEnum:tt,never:eG,null:eW,nullable:ti,number:eB,object:eX,oboolean:tu,onumber:tl,optional:ta,ostring:()=>eD().optional(),pipeline:ts,preprocess:to,promise:tr,record:e9,set:e8,strictObject:eQ,string:eD,symbol:eH,transformer:tn,tuple:e3,undefined:eV,union:e0,unknown:eK,void:eJ,NEVER:td,ZodIssueCode:o,quotelessJson:s,ZodError:l})},31652:e=>{"use strict";e.exports=Object.getOwnPropertyDescriptor},31838:(e,t)=>{t.read=function(e,t,r,n,a){var i,o,s=8*a-n-1,l=(1<<s)-1,u=l>>1,c=-7,d=r?a-1:0,f=r?-1:1,p=e[t+d];for(d+=f,i=p&(1<<-c)-1,p>>=-c,c+=s;c>0;i=256*i+e[t+d],d+=f,c-=8);for(o=i&(1<<-c)-1,i>>=-c,c+=n;c>0;o=256*o+e[t+d],d+=f,c-=8);if(0===i)i=1-u;else{if(i===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),i-=u}return(p?-1:1)*o*Math.pow(2,i-n)},t.write=function(e,t,r,n,a,i){var o,s,l,u=8*i-a-1,c=(1<<u)-1,d=c>>1,f=5960464477539062e-23*(23===a),p=n?0:i-1,h=n?1:-1,m=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(s=+!!isNaN(t),o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?t+=f/l:t+=f*Math.pow(2,1-d),t*l>=2&&(o++,l/=2),o+d>=c?(s=0,o=c):o+d>=1?(s=(t*l-1)*Math.pow(2,a),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,a),o=0));a>=8;e[r+p]=255&s,p+=h,s/=256,a-=8);for(o=o<<a|s,u+=a;u>0;e[r+p]=255&o,p+=h,o/=256,u-=8);e[r+p-h]|=128*m}},32138:(e,t,r)=>{"use strict";let n=r(77721);e.exports=(e,t,r,a,i)=>{"string"==typeof r&&(i=a,a=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,a,i).version}catch(e){return null}}},32236:e=>{"use strict";var t=String.prototype.replace,r=/%20/g,n={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports={default:n.RFC3986,formatters:{RFC1738:function(e){return t.call(e,r,"+")},RFC3986:function(e){return String(e)}},RFC1738:n.RFC1738,RFC3986:n.RFC3986}},32539:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,t.fullWidth=void 0;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=t.fullWidth=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;function o(e){return(0,n.default)(e),i.test(e)}},32942:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=a(r(73909));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var r=(null==t?void 0:t.comparisonDate)||t||Date().toString(),a=(0,n.default)(r),i=(0,n.default)(e);return!!(i&&a&&i>a)}e.exports=t.default,e.exports.default=t.default},32988:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=o(e,i(r)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=o(t,r));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(r=(function(){return a}).apply(t,[]))||(e.exports=r)}()},33923:e=>{"use strict";e.exports=Math.abs},34200:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,t.locales=void 0;var n=i(r(79922)),a=r(21988);function i(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,n.default)(e);var i=e,o=r.ignore;if(o)if(o instanceof RegExp)i=i.replace(o,"");else if("string"==typeof o)i=i.replace(RegExp("[".concat(o.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"");else throw Error("ignore should be instance of a String or RegExp");if(t in a.alpha)return a.alpha[t].test(i);throw Error("Invalid locale '".concat(t,"'"))}t.locales=Object.keys(a.alpha)},34289:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4264);t.ResizeObserverEntry=function(){return function(e){this.target=e,this.contentRect=n.ContentRect(e)}}()},34727:(e,t,r)=>{"use strict";r.d(t,{Ey:()=>eV,K9:()=>eJ,fG:()=>eQ});var n,a,i,o,s,l,u,c,d,f,p,h,m,y,g="vercel.ai.error",v=Symbol.for(g),b=class e extends Error{constructor({name:e,message:t,cause:r}){super(t),this[n]=!0,this.name=e,this.cause=r}static isInstance(t){return e.hasMarker(t,g)}static hasMarker(e,t){let r=Symbol.for(t);return null!=e&&"object"==typeof e&&r in e&&"boolean"==typeof e[r]&&!0===e[r]}};n=v;var _=b,w="AI_APICallError",$=`vercel.ai.error.${w}`,S=Symbol.for($),E=class extends _{constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:i,responseBody:o,cause:s,isRetryable:l=null!=n&&(408===n||409===n||429===n||n>=500),data:u}){super({name:w,message:e,cause:s}),this[a]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=i,this.responseBody=o,this.isRetryable=l,this.data=u}static isInstance(e){return _.hasMarker(e,$)}};a=S;var x="AI_EmptyResponseBodyError",A=`vercel.ai.error.${x}`,k=Symbol.for(A),O=class extends _{constructor({message:e="Empty response body"}={}){super({name:x,message:e}),this[i]=!0}static isInstance(e){return _.hasMarker(e,A)}};function I(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}i=k;var C="AI_InvalidArgumentError",T=`vercel.ai.error.${C}`,P=Symbol.for(T),R=class extends _{constructor({message:e,cause:t,argument:r}){super({name:C,message:e,cause:t}),this[o]=!0,this.argument=r}static isInstance(e){return _.hasMarker(e,T)}};o=P;var N="AI_InvalidPromptError",j=`vercel.ai.error.${N}`,M=Symbol.for(j),L=class extends _{constructor({prompt:e,message:t,cause:r}){super({name:N,message:`Invalid prompt: ${t}`,cause:r}),this[s]=!0,this.prompt=e}static isInstance(e){return _.hasMarker(e,j)}};s=M;var D="AI_InvalidResponseDataError",B=`vercel.ai.error.${D}`,F=Symbol.for(B),z=class extends _{constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:D,message:t}),this[l]=!0,this.data=e}static isInstance(e){return _.hasMarker(e,B)}};l=F;var U="AI_JSONParseError",Z=`vercel.ai.error.${U}`,H=Symbol.for(Z),V=class extends _{constructor({text:e,cause:t}){super({name:U,message:`JSON parsing failed: Text: ${e}.
Error message: ${I(t)}`,cause:t}),this[u]=!0,this.text=e}static isInstance(e){return _.hasMarker(e,Z)}};u=H;var W="AI_LoadAPIKeyError";c=Symbol.for(`vercel.ai.error.${W}`);var q="AI_LoadSettingError";d=Symbol.for(`vercel.ai.error.${q}`);var K="AI_NoContentGeneratedError";f=Symbol.for(`vercel.ai.error.${K}`);var G="AI_NoSuchModelError";p=Symbol.for(`vercel.ai.error.${G}`);var J="AI_TooManyEmbeddingValuesForCallError",Y=`vercel.ai.error.${J}`,X=Symbol.for(Y),Q=class extends _{constructor(e){super({name:J,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[h]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return _.hasMarker(e,Y)}};h=X;var ee="AI_TypeValidationError",et=`vercel.ai.error.${ee}`,er=Symbol.for(et),en=class e extends _{constructor({value:e,cause:t}){super({name:ee,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${I(t)}`,cause:t}),this[m]=!0,this.value=e}static isInstance(e){return _.hasMarker(e,et)}static wrap({value:t,cause:r}){return e.isInstance(r)&&r.value===t?r:new e({value:t,cause:r})}};m=er;var ea=en,ei="AI_UnsupportedFunctionalityError",eo=`vercel.ai.error.${ei}`,es=Symbol.for(eo),el=class extends _{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:ei,message:t}),this[y]=!0,this.functionality=e}static isInstance(e){return _.hasMarker(e,eo)}};function eu(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||(Array.isArray(e)?e.every(eu):"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&eu(t)))}y=es;let ec=(e,t=21)=>(r=t)=>{let n="",a=0|r;for(;a--;)n+=e[Math.random()*e.length|0];return n};var ed=r(29486);function ef(...e){return e.reduce((e,t)=>({...e,...null!=t?t:{}}),{})}function ep(){let e,t,r,n="",a=[];function i(e,t){if(""===e)return void o(t);if(e.startsWith(":"))return;let r=e.indexOf(":");if(-1===r)return void s(e,"");let n=e.slice(0,r),a=r+1;s(n,a<e.length&&" "===e[a]?e.slice(a+1):e.slice(a))}function o(n){a.length>0&&(n.enqueue({event:e,data:a.join("\n"),id:t,retry:r}),a=[],e=void 0,r=void 0)}function s(n,i){switch(n){case"event":e=i;break;case"data":a.push(i);break;case"id":t=i;break;case"retry":let o=parseInt(i,10);isNaN(o)||(r=o)}}return new TransformStream({transform(e,t){let{lines:r,incompleteLine:a}=eh(n,e);n=a;for(let e=0;e<r.length;e++)i(r[e],t)},flush(e){i(n,e),o(e)}})}function eh(e,t){let r=[],n=e;for(let e=0;e<t.length;){let a=t[e++];"\n"===a?(r.push(n),n=""):"\r"===a?(r.push(n),n="","\n"===t[e]&&e++):n+=a}return{lines:r,incompleteLine:n}}function em(e){let t={};return e.headers.forEach((e,r)=>{t[r]=e}),t}r(29143);var ey=(({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let a=ec(r,t);if(null==e)return a;if(r.includes(n))throw new R({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return t=>`${e}${n}${a(t)}`})();function eg(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>null!=t))}function ev(e){return e instanceof Error&&("AbortError"===e.name||"TimeoutError"===e.name)}var eb=Symbol.for("vercel.ai.validator");function e_(e){return{[eb]:!0,validate:e}}function ew(e){return"object"==typeof e&&null!==e&&eb in e&&!0===e[eb]&&"validate"in e}function e$(e){return ew(e)?e:eS(e)}function eS(e){return e_(t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}})}function eE({value:e,schema:t}){let r=ex({value:e,schema:t});if(!r.success)throw ea.wrap({value:e,cause:r.error});return r.value}function ex({value:e,schema:t}){let r=e$(t);try{if(null==r.validate)return{success:!0,value:e};let t=r.validate(e);if(t.success)return t;return{success:!1,error:ea.wrap({value:e,cause:t.error})}}catch(t){return{success:!1,error:ea.wrap({value:e,cause:t})}}}function eA({text:e,schema:t}){try{let r=ed.parse(e);if(null==t)return r;return eE({value:r,schema:t})}catch(t){if(V.isInstance(t)||ea.isInstance(t))throw t;throw new V({text:e,cause:t})}}function ek({text:e,schema:t}){try{let r=ed.parse(e);if(null==t)return{success:!0,value:r,rawValue:r};let n=ex({value:r,schema:t});return n.success?{...n,rawValue:r}:n}catch(t){return{success:!1,error:V.isInstance(t)?t:new V({text:e,cause:t})}}}function eO(e){try{return ed.parse(e),!0}catch(e){return!1}}var eI=()=>globalThis.fetch,eC=async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o})=>eT({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o}),eT=async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:a,abortSignal:i,fetch:o=eI()})=>{try{let s=await o(e,{method:"POST",headers:eg(t),body:r.content,signal:i}),l=em(s);if(!s.ok){let t;try{t=await a({response:s,url:e,requestBodyValues:r.values})}catch(t){if(ev(t)||E.isInstance(t))throw t;throw new E({message:"Failed to process error response",cause:t,statusCode:s.status,url:e,responseHeaders:l,requestBodyValues:r.values})}throw t.value}try{return await n({response:s,url:e,requestBodyValues:r.values})}catch(t){if(t instanceof Error&&(ev(t)||E.isInstance(t)))throw t;throw new E({message:"Failed to process successful response",cause:t,statusCode:s.status,url:e,responseHeaders:l,requestBodyValues:r.values})}}catch(t){if(ev(t))throw t;if(t instanceof TypeError&&"fetch failed"===t.message){let n=t.cause;if(null!=n)throw new E({message:`Cannot connect to API: ${n.message}`,cause:n,url:e,requestBodyValues:r.values,isRetryable:!0})}throw t}},eP=({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:a,requestBodyValues:i})=>{let o=await n.text(),s=em(n);if(""===o.trim())return{responseHeaders:s,value:new E({message:n.statusText,url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,isRetryable:null==r?void 0:r(n)})};try{let l=eA({text:o,schema:e});return{responseHeaders:s,value:new E({message:t(l),url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,data:l,isRetryable:null==r?void 0:r(n,l)})}}catch(e){return{responseHeaders:s,value:new E({message:n.statusText,url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,isRetryable:null==r?void 0:r(n)})}}},eR=e=>async({response:t})=>{let r=em(t);if(null==t.body)throw new O({});return{responseHeaders:r,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(ep()).pipeThrough(new TransformStream({transform({data:t},r){"[DONE]"!==t&&r.enqueue(ek({text:t,schema:e}))}}))}},eN=e=>async({response:t,url:r,requestBodyValues:n})=>{let a=await t.text(),i=ek({text:a,schema:e}),o=em(t);if(!i.success)throw new E({message:"Invalid JSON response",cause:i.error,statusCode:t.status,responseHeaders:o,responseBody:a,url:r,requestBodyValues:n});return{responseHeaders:o,value:i.value,rawValue:i.rawValue}},{btoa:ej,atob:eM}=globalThis;function eL(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return ej(t)}var eD=r(31078);function eB(e){var t,r;return null!=(r=null==(t=null==e?void 0:e.providerMetadata)?void 0:t.openaiCompatible)?r:{}}function eF(e){let t=[];for(let{role:r,content:n,...a}of e){let e=eB({...a});switch(r){case"system":t.push({role:"system",content:n,...e});break;case"user":if(1===n.length&&"text"===n[0].type){t.push({role:"user",content:n[0].text,...eB(n[0])});break}t.push({role:"user",content:n.map(e=>{var t;let r=eB(e);switch(e.type){case"text":return{type:"text",text:e.text,...r};case"image":return{type:"image_url",image_url:{url:e.image instanceof URL?e.image.toString():`data:${null!=(t=e.mimeType)?t:"image/jpeg"};base64,${eL(e.image)}`},...r};case"file":throw new el({functionality:"File content parts in user messages"})}}),...e});break;case"assistant":{let r="",a=[];for(let e of n){let t=eB(e);switch(e.type){case"text":r+=e.text;break;case"tool-call":a.push({id:e.toolCallId,type:"function",function:{name:e.toolName,arguments:JSON.stringify(e.args)},...t})}}t.push({role:"assistant",content:r,tool_calls:a.length>0?a:void 0,...e});break}case"tool":for(let e of n){let r=eB(e);t.push({role:"tool",tool_call_id:e.toolCallId,content:JSON.stringify(e.result),...r})}break;default:{let e=r;throw Error(`Unsupported role: ${e}`)}}}return t}function ez({id:e,model:t,created:r}){return{id:null!=e?e:void 0,modelId:null!=t?t:void 0,timestamp:null!=r?new Date(1e3*r):void 0}}function eU(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var eZ={errorSchema:eD.z.object({error:eD.z.object({message:eD.z.string(),type:eD.z.string().nullish(),param:eD.z.any().nullish(),code:eD.z.union([eD.z.string(),eD.z.number()]).nullish()})}),errorToMessage:e=>e.error.message};function eH({mode:e,structuredOutputs:t}){var r;let n=(null==(r=e.tools)?void 0:r.length)?e.tools:void 0,a=[];if(null==n)return{tools:void 0,tool_choice:void 0,toolWarnings:a};let i=e.toolChoice,o=[];for(let e of n)"provider-defined"===e.type?a.push({type:"unsupported-tool",tool:e}):o.push({type:"function",function:{name:e.name,description:e.description,parameters:e.parameters}});if(null==i)return{tools:o,tool_choice:void 0,toolWarnings:a};let s=i.type;switch(s){case"auto":case"none":case"required":return{tools:o,tool_choice:s,toolWarnings:a};case"tool":return{tools:o,tool_choice:{type:"function",function:{name:i.toolName}},toolWarnings:a};default:{let e=s;throw new el({functionality:`Unsupported tool choice type: ${e}`})}}}var eV=class{constructor(e,t,r){var n,a;this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=r;let i=null!=(n=r.errorStructure)?n:eZ;this.chunkSchema=eK(i.errorSchema),this.failedResponseHandler=eP(i),this.supportsStructuredOutputs=null!=(a=r.supportsStructuredOutputs)&&a}get defaultObjectGenerationMode(){return this.config.defaultObjectGenerationMode}get provider(){return this.config.provider}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}getArgs({mode:e,prompt:t,maxTokens:r,temperature:n,topP:a,topK:i,frequencyPenalty:o,presencePenalty:s,providerMetadata:l,stopSequences:u,responseFormat:c,seed:d}){var f,p,h,m,y;let g=e.type,v=[];null!=i&&v.push({type:"unsupported-setting",setting:"topK"}),(null==c?void 0:c.type)!=="json"||null==c.schema||this.supportsStructuredOutputs||v.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});let b={model:this.modelId,user:this.settings.user,max_tokens:r,temperature:n,top_p:a,frequency_penalty:o,presence_penalty:s,response_format:(null==c?void 0:c.type)==="json"?!0===this.supportsStructuredOutputs&&null!=c.schema?{type:"json_schema",json_schema:{schema:c.schema,name:null!=(f=c.name)?f:"response",description:c.description}}:{type:"json_object"}:void 0,stop:u,seed:d,...null==l?void 0:l[this.providerOptionsName],reasoning_effort:null!=(m=null==(p=null==l?void 0:l[this.providerOptionsName])?void 0:p.reasoningEffort)?m:null==(h=null==l?void 0:l["openai-compatible"])?void 0:h.reasoningEffort,messages:eF(t)};switch(g){case"regular":{let{tools:t,tool_choice:r,toolWarnings:n}=eH({mode:e,structuredOutputs:this.supportsStructuredOutputs});return{args:{...b,tools:t,tool_choice:r},warnings:[...v,...n]}}case"object-json":return{args:{...b,response_format:!0===this.supportsStructuredOutputs&&null!=e.schema?{type:"json_schema",json_schema:{schema:e.schema,name:null!=(y=e.name)?y:"response",description:e.description}}:{type:"json_object"}},warnings:v};case"object-tool":return{args:{...b,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}}]},warnings:v};default:{let e=g;throw Error(`Unsupported type: ${e}`)}}}async doGenerate(e){var t,r,n,a,i,o,s,l,u,c,d;let{args:f,warnings:p}=this.getArgs({...e}),h=JSON.stringify(f),{responseHeaders:m,value:y,rawValue:g}=await eC({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:ef(this.config.headers(),e.headers),body:f,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:eN(eq),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:v,...b}=f,_=y.choices[0],w={[this.providerOptionsName]:{},...null==(r=null==(t=this.config.metadataExtractor)?void 0:t.extractMetadata)?void 0:r.call(t,{parsedBody:g})},$=null==(n=y.usage)?void 0:n.completion_tokens_details,S=null==(a=y.usage)?void 0:a.prompt_tokens_details;return(null==$?void 0:$.reasoning_tokens)!=null&&(w[this.providerOptionsName].reasoningTokens=null==$?void 0:$.reasoning_tokens),(null==$?void 0:$.accepted_prediction_tokens)!=null&&(w[this.providerOptionsName].acceptedPredictionTokens=null==$?void 0:$.accepted_prediction_tokens),(null==$?void 0:$.rejected_prediction_tokens)!=null&&(w[this.providerOptionsName].rejectedPredictionTokens=null==$?void 0:$.rejected_prediction_tokens),(null==S?void 0:S.cached_tokens)!=null&&(w[this.providerOptionsName].cachedPromptTokens=null==S?void 0:S.cached_tokens),{text:null!=(i=_.message.content)?i:void 0,reasoning:null!=(o=_.message.reasoning_content)?o:void 0,toolCalls:null==(s=_.message.tool_calls)?void 0:s.map(e=>{var t;return{toolCallType:"function",toolCallId:null!=(t=e.id)?t:ey(),toolName:e.function.name,args:e.function.arguments}}),finishReason:eU(_.finish_reason),usage:{promptTokens:null!=(u=null==(l=y.usage)?void 0:l.prompt_tokens)?u:NaN,completionTokens:null!=(d=null==(c=y.usage)?void 0:c.completion_tokens)?d:NaN},providerMetadata:w,rawCall:{rawPrompt:v,rawSettings:b},rawResponse:{headers:m,body:g},response:ez(y),warnings:p,request:{body:h}}}async doStream(e){var t;if(this.settings.simulateStreaming){let t=await this.doGenerate(e);return{stream:new ReadableStream({start(e){if(e.enqueue({type:"response-metadata",...t.response}),t.reasoning)if(Array.isArray(t.reasoning))for(let r of t.reasoning)"text"===r.type&&e.enqueue({type:"reasoning",textDelta:r.text});else e.enqueue({type:"reasoning",textDelta:t.reasoning});if(t.text&&e.enqueue({type:"text-delta",textDelta:t.text}),t.toolCalls)for(let r of t.toolCalls)e.enqueue({type:"tool-call",...r});e.enqueue({type:"finish",finishReason:t.finishReason,usage:t.usage,logprobs:t.logprobs,providerMetadata:t.providerMetadata}),e.close()}}),rawCall:t.rawCall,rawResponse:t.rawResponse,warnings:t.warnings}}let{args:r,warnings:n}=this.getArgs({...e}),a={...r,stream:!0,stream_options:this.config.includeUsage?{include_usage:!0}:void 0},i=null==(t=this.config.metadataExtractor)?void 0:t.createStreamExtractor(),{responseHeaders:o,value:s}=await eC({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:ef(this.config.headers(),e.headers),body:a,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:eR(this.chunkSchema),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:l,...u}=r,c=[],d="unknown",f={completionTokens:void 0,completionTokensDetails:{reasoningTokens:void 0,acceptedPredictionTokens:void 0,rejectedPredictionTokens:void 0},promptTokens:void 0,promptTokensDetails:{cachedTokens:void 0}},p=!0,h=this.providerOptionsName;return{stream:s.pipeThrough(new TransformStream({transform(e,t){var r,n,a,o,s,l,u,h,m,y,g,v;if(!e.success){d="error",t.enqueue({type:"error",error:e.error});return}let b=e.value;if(null==i||i.processChunk(e.rawValue),"error"in b){d="error",t.enqueue({type:"error",error:b.error.message});return}if(p&&(p=!1,t.enqueue({type:"response-metadata",...ez(b)})),null!=b.usage){let{prompt_tokens:e,completion_tokens:t,prompt_tokens_details:r,completion_tokens_details:n}=b.usage;f.promptTokens=null!=e?e:void 0,f.completionTokens=null!=t?t:void 0,(null==n?void 0:n.reasoning_tokens)!=null&&(f.completionTokensDetails.reasoningTokens=null==n?void 0:n.reasoning_tokens),(null==n?void 0:n.accepted_prediction_tokens)!=null&&(f.completionTokensDetails.acceptedPredictionTokens=null==n?void 0:n.accepted_prediction_tokens),(null==n?void 0:n.rejected_prediction_tokens)!=null&&(f.completionTokensDetails.rejectedPredictionTokens=null==n?void 0:n.rejected_prediction_tokens),(null==r?void 0:r.cached_tokens)!=null&&(f.promptTokensDetails.cachedTokens=null==r?void 0:r.cached_tokens)}let _=b.choices[0];if((null==_?void 0:_.finish_reason)!=null&&(d=eU(_.finish_reason)),(null==_?void 0:_.delta)==null)return;let w=_.delta;if(null!=w.reasoning_content&&t.enqueue({type:"reasoning",textDelta:w.reasoning_content}),null!=w.content&&t.enqueue({type:"text-delta",textDelta:w.content}),null!=w.tool_calls)for(let e of w.tool_calls){let i=e.index;if(null==c[i]){if("function"!==e.type)throw new z({data:e,message:"Expected 'function' type."});if(null==e.id)throw new z({data:e,message:"Expected 'id' to be a string."});if((null==(r=e.function)?void 0:r.name)==null)throw new z({data:e,message:"Expected 'function.name' to be a string."});c[i]={id:e.id,type:"function",function:{name:e.function.name,arguments:null!=(n=e.function.arguments)?n:""},hasFinished:!1};let l=c[i];(null==(a=l.function)?void 0:a.name)!=null&&(null==(o=l.function)?void 0:o.arguments)!=null&&(l.function.arguments.length>0&&t.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:l.id,toolName:l.function.name,argsTextDelta:l.function.arguments}),eO(l.function.arguments)&&(t.enqueue({type:"tool-call",toolCallType:"function",toolCallId:null!=(s=l.id)?s:ey(),toolName:l.function.name,args:l.function.arguments}),l.hasFinished=!0));continue}let d=c[i];!d.hasFinished&&((null==(l=e.function)?void 0:l.arguments)!=null&&(d.function.arguments+=null!=(h=null==(u=e.function)?void 0:u.arguments)?h:""),t.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:d.id,toolName:d.function.name,argsTextDelta:null!=(m=e.function.arguments)?m:""}),(null==(y=d.function)?void 0:y.name)!=null&&(null==(g=d.function)?void 0:g.arguments)!=null&&eO(d.function.arguments)&&(t.enqueue({type:"tool-call",toolCallType:"function",toolCallId:null!=(v=d.id)?v:ey(),toolName:d.function.name,args:d.function.arguments}),d.hasFinished=!0))}},flush(e){var t,r;let n={[h]:{},...null==i?void 0:i.buildMetadata()};null!=f.completionTokensDetails.reasoningTokens&&(n[h].reasoningTokens=f.completionTokensDetails.reasoningTokens),null!=f.completionTokensDetails.acceptedPredictionTokens&&(n[h].acceptedPredictionTokens=f.completionTokensDetails.acceptedPredictionTokens),null!=f.completionTokensDetails.rejectedPredictionTokens&&(n[h].rejectedPredictionTokens=f.completionTokensDetails.rejectedPredictionTokens),null!=f.promptTokensDetails.cachedTokens&&(n[h].cachedPromptTokens=f.promptTokensDetails.cachedTokens),e.enqueue({type:"finish",finishReason:d,usage:{promptTokens:null!=(t=f.promptTokens)?t:NaN,completionTokens:null!=(r=f.completionTokens)?r:NaN},providerMetadata:n})}})),rawCall:{rawPrompt:l,rawSettings:u},rawResponse:{headers:o},warnings:n,request:{body:JSON.stringify(a)}}}},eW=eD.z.object({prompt_tokens:eD.z.number().nullish(),completion_tokens:eD.z.number().nullish(),prompt_tokens_details:eD.z.object({cached_tokens:eD.z.number().nullish()}).nullish(),completion_tokens_details:eD.z.object({reasoning_tokens:eD.z.number().nullish(),accepted_prediction_tokens:eD.z.number().nullish(),rejected_prediction_tokens:eD.z.number().nullish()}).nullish()}).nullish(),eq=eD.z.object({id:eD.z.string().nullish(),created:eD.z.number().nullish(),model:eD.z.string().nullish(),choices:eD.z.array(eD.z.object({message:eD.z.object({role:eD.z.literal("assistant").nullish(),content:eD.z.string().nullish(),reasoning_content:eD.z.string().nullish(),tool_calls:eD.z.array(eD.z.object({id:eD.z.string().nullish(),type:eD.z.literal("function"),function:eD.z.object({name:eD.z.string(),arguments:eD.z.string()})})).nullish()}),finish_reason:eD.z.string().nullish()})),usage:eW}),eK=e=>eD.z.union([eD.z.object({id:eD.z.string().nullish(),created:eD.z.number().nullish(),model:eD.z.string().nullish(),choices:eD.z.array(eD.z.object({delta:eD.z.object({role:eD.z.enum(["assistant"]).nullish(),content:eD.z.string().nullish(),reasoning_content:eD.z.string().nullish(),tool_calls:eD.z.array(eD.z.object({index:eD.z.number().optional(),id:eD.z.string().nullish(),type:eD.z.literal("function").nullish(),function:eD.z.object({name:eD.z.string().nullish(),arguments:eD.z.string().nullish()})})).nullish()}).nullish(),finish_reason:eD.z.string().nullish()})),usage:eW}),e]);function eG({prompt:e,inputFormat:t,user:r="user",assistant:n="assistant"}){if("prompt"===t&&1===e.length&&"user"===e[0].role&&1===e[0].content.length&&"text"===e[0].content[0].type)return{prompt:e[0].content[0].text};let a="";for(let{role:t,content:i}of("system"===e[0].role&&(a+=`${e[0].content}

`,e=e.slice(1)),e))switch(t){case"system":throw new L({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{let e=i.map(e=>{switch(e.type){case"text":return e.text;case"image":throw new el({functionality:"images"})}}).join("");a+=`${r}:
${e}

`;break}case"assistant":{let e=i.map(e=>{switch(e.type){case"text":return e.text;case"tool-call":throw new el({functionality:"tool-call messages"})}}).join("");a+=`${n}:
${e}

`;break}case"tool":throw new el({functionality:"tool messages"});default:{let e=t;throw Error(`Unsupported role: ${e}`)}}return{prompt:a+=`${n}:
`,stopSequences:[`
${r}:`]}}var eJ=class{constructor(e,t,r){var n;this.specificationVersion="v1",this.defaultObjectGenerationMode=void 0,this.modelId=e,this.settings=t,this.config=r;let a=null!=(n=r.errorStructure)?n:eZ;this.chunkSchema=eX(a.errorSchema),this.failedResponseHandler=eP(a)}get provider(){return this.config.provider}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}getArgs({mode:e,inputFormat:t,prompt:r,maxTokens:n,temperature:a,topP:i,topK:o,frequencyPenalty:s,presencePenalty:l,stopSequences:u,responseFormat:c,seed:d,providerMetadata:f}){var p;let h=e.type,m=[];null!=o&&m.push({type:"unsupported-setting",setting:"topK"}),null!=c&&"text"!==c.type&&m.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});let{prompt:y,stopSequences:g}=eG({prompt:r,inputFormat:t}),v=[...null!=g?g:[],...null!=u?u:[]],b={model:this.modelId,echo:this.settings.echo,logit_bias:this.settings.logitBias,suffix:this.settings.suffix,user:this.settings.user,max_tokens:n,temperature:a,top_p:i,frequency_penalty:s,presence_penalty:l,seed:d,...null==f?void 0:f[this.providerOptionsName],prompt:y,stop:v.length>0?v:void 0};switch(h){case"regular":if(null==(p=e.tools)?void 0:p.length)throw new el({functionality:"tools"});if(e.toolChoice)throw new el({functionality:"toolChoice"});return{args:b,warnings:m};case"object-json":throw new el({functionality:"object-json mode"});case"object-tool":throw new el({functionality:"object-tool mode"});default:{let e=h;throw Error(`Unsupported type: ${e}`)}}}async doGenerate(e){var t,r,n,a;let{args:i,warnings:o}=this.getArgs(e),{responseHeaders:s,value:l,rawValue:u}=await eC({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:ef(this.config.headers(),e.headers),body:i,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:eN(eY),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:c,...d}=i,f=l.choices[0];return{text:f.text,usage:{promptTokens:null!=(r=null==(t=l.usage)?void 0:t.prompt_tokens)?r:NaN,completionTokens:null!=(a=null==(n=l.usage)?void 0:n.completion_tokens)?a:NaN},finishReason:eU(f.finish_reason),rawCall:{rawPrompt:c,rawSettings:d},rawResponse:{headers:s,body:u},response:ez(l),warnings:o,request:{body:JSON.stringify(i)}}}async doStream(e){let{args:t,warnings:r}=this.getArgs(e),n={...t,stream:!0,stream_options:this.config.includeUsage?{include_usage:!0}:void 0},{responseHeaders:a,value:i}=await eC({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:ef(this.config.headers(),e.headers),body:n,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:eR(this.chunkSchema),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:o,...s}=t,l="unknown",u={promptTokens:Number.NaN,completionTokens:Number.NaN},c=!0;return{stream:i.pipeThrough(new TransformStream({transform(e,t){if(!e.success){l="error",t.enqueue({type:"error",error:e.error});return}let r=e.value;if("error"in r){l="error",t.enqueue({type:"error",error:r.error});return}c&&(c=!1,t.enqueue({type:"response-metadata",...ez(r)})),null!=r.usage&&(u={promptTokens:r.usage.prompt_tokens,completionTokens:r.usage.completion_tokens});let n=r.choices[0];(null==n?void 0:n.finish_reason)!=null&&(l=eU(n.finish_reason)),(null==n?void 0:n.text)!=null&&t.enqueue({type:"text-delta",textDelta:n.text})},flush(e){e.enqueue({type:"finish",finishReason:l,usage:u})}})),rawCall:{rawPrompt:o,rawSettings:s},rawResponse:{headers:a},warnings:r,request:{body:JSON.stringify(n)}}}},eY=eD.z.object({id:eD.z.string().nullish(),created:eD.z.number().nullish(),model:eD.z.string().nullish(),choices:eD.z.array(eD.z.object({text:eD.z.string(),finish_reason:eD.z.string()})),usage:eD.z.object({prompt_tokens:eD.z.number(),completion_tokens:eD.z.number()}).nullish()}),eX=e=>eD.z.union([eD.z.object({id:eD.z.string().nullish(),created:eD.z.number().nullish(),model:eD.z.string().nullish(),choices:eD.z.array(eD.z.object({text:eD.z.string(),finish_reason:eD.z.string().nullish(),index:eD.z.number()})),usage:eD.z.object({prompt_tokens:eD.z.number(),completion_tokens:eD.z.number()}).nullish()}),e]),eQ=class{constructor(e,t,r){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return null!=(e=this.config.maxEmbeddingsPerCall)?e:2048}get supportsParallelCalls(){var e;return null==(e=this.config.supportsParallelCalls)||e}async doEmbed({values:e,headers:t,abortSignal:r}){var n;if(e.length>this.maxEmbeddingsPerCall)throw new Q({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let{responseHeaders:a,value:i}=await eC({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:ef(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:this.settings.dimensions,user:this.settings.user},failedResponseHandler:eP(null!=(n=this.config.errorStructure)?n:eZ),successfulResponseHandler:eN(e0),abortSignal:r,fetch:this.config.fetch});return{embeddings:i.data.map(e=>e.embedding),usage:i.usage?{tokens:i.usage.prompt_tokens}:void 0,rawResponse:{headers:a}}}},e0=eD.z.object({data:eD.z.array(eD.z.object({embedding:eD.z.array(eD.z.number())})),usage:eD.z.object({prompt_tokens:eD.z.number()}).nullish()}),e1=eD.z.object({data:eD.z.array(eD.z.object({b64_json:eD.z.string()}))})},35146:(e,t,r)=>{"use strict";var n=r(3140),a=r(54913),i=r(16526),o=r(80510),s=r(72206),l=n("%WeakMap%",!0),u=a("WeakMap.prototype.get",!0),c=a("WeakMap.prototype.set",!0),d=a("WeakMap.prototype.has",!0),f=a("WeakMap.prototype.delete",!0);e.exports=l?function(){var e,t,r={assert:function(e){if(!r.has(e))throw new s("Side channel does not contain "+i(e))},delete:function(r){if(l&&r&&("object"==typeof r||"function"==typeof r)){if(e)return f(e,r)}else if(o&&t)return t.delete(r);return!1},get:function(r){return l&&r&&("object"==typeof r||"function"==typeof r)&&e?u(e,r):t&&t.get(r)},has:function(r){return l&&r&&("object"==typeof r||"function"==typeof r)&&e?d(e,r):!!t&&t.has(r)},set:function(r,n){l&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new l),c(e,r,n)):o&&(t||(t=o()),t.set(r,n))}};return r}:o},35876:(e,t,r)=>{"use strict";var n=r(51642).Buffer,a=r(51642).SlowBuffer;function i(e,t){if(!n.isBuffer(e)||!n.isBuffer(t)||e.length!==t.length)return!1;for(var r=0,a=0;a<e.length;a++)r|=e[a]^t[a];return 0===r}e.exports=i,i.install=function(){n.prototype.equal=a.prototype.equal=function(e){return i(this,e)}};var o=n.prototype.equal,s=a.prototype.equal;i.restore=function(){n.prototype.equal=o,a.prototype.equal=s}},35978:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};function a(e){console&&console.warn&&console.warn(e)}t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=v,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function l(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,r,n){if(l(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=u(e))>0&&s.length>i&&!s.warned){s.warned=!0;var i,o,s,c=Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,a(c)}return e}function d(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},a=d.bind(n);return a.listener=r,n.wrapFn=a,a}function p(e,t,r){var n=e._events;if(void 0===n)return[];var a=n[t];return void 0===a?[]:"function"==typeof a?r?[a.listener||a]:[a]:r?g(a):m(a,a.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function m(e,t){for(var r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function g(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function v(e,t){return new Promise(function(r,n){function a(r){e.removeListener(t,i),n(r)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",a),r([].slice.call(arguments))}_(e,t,i,{once:!0}),"error"!==t&&b(e,a,{once:!0})})}function b(e,t,r){"function"==typeof e.on&&_(e,"error",t,r)}function _(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function a(i){n.once&&e.removeEventListener(t,a),r(i)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var a="error"===e,i=this._events;if(void 0!==i)a=a&&void 0===i.error;else if(!a)return!1;if(a){if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var o,s=Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)n(l,this,t);else for(var u=l.length,c=m(l,u),r=0;r<u;++r)n(c[r],this,t);return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return l(t),this.on(e,f(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,f(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,a,i,o;if(l(t),void 0===(n=this._events)||void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(a=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){o=r[i].listener,a=i;break}if(a<0)return this;0===a?r.shift():y(r,a),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var a,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(a=i[n])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return p(this,e,!0)},o.prototype.rawListeners=function(e){return p(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},36884:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=8,o=14,s=/^(\d{8}|\d{13}|\d{14})$/;function l(e,t){return e===i||e===o?t%2==0?3:1:t%2==0?1:3}function u(e){var t=10-e.slice(0,-1).split("").map(function(t,r){return Number(t)*l(e.length,r)}).reduce(function(e,t){return e+t},0)%10;return t<10?t:0}function c(e){(0,n.default)(e);var t=Number(e.slice(-1));return s.test(e)&&t===u(e)}e.exports=t.default,e.exports.default=t.default},37025:e=>{"use strict";e.exports=Math.max},37304:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=/^[a-f0-9]{32}$/;function o(e){return(0,n.default)(e),i.test(e)}e.exports=t.default,e.exports.default=t.default},37399:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;function o(e){if((0,n.default)(e),!i.test(e))return!1;for(var t=!0,r=0,a=e.length-2;a>=0;a--)if(e[a]>="A"&&e[a]<="Z")for(var o=e[a].charCodeAt(0)-55,s=o%10,l=Math.trunc(o/10),u=0,c=[s,l];u<c.length;u++){var d=c[u];t?d>=5?r+=1+(d-5)*2:r+=2*d:r+=d,t=!t}else{var f=e[a].charCodeAt(0)-48;t?f>=5?r+=1+(f-5)*2:r+=2*f:r+=f,t=!t}var p=10*Math.trunc((r+9)/10)-r;return+e[e.length-1]===p}e.exports=t.default,e.exports.default=t.default},37599:(e,t,r)=>{"use strict";let n=r(38278);e.exports=(e,t,r)=>n(e,t,"<",r)},38123:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=/^[A-Z]{2}[0-9A-Z]{3}\d{2}\d{5}$/;function o(e){return(0,n.default)(e),i.test(e)}e.exports=t.default,e.exports.default=t.default},38164:(e,t,r)=>{"use strict";let n=r(2316);e.exports=(e,t)=>e.sort((e,r)=>n(r,e,t))},38238:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var n=i(r(29203)),a=i(r(79922));function i(e){return e&&e.__esModule?e:{default:e}}var o=/^[A-Z]$/,s=/^[a-z]$/,l=/^[0-9]$/,u=/^[-#!$@£%^&*()_+|~=`{}\[\]:";'<>?,.\/\\ ]$/,c={minLength:8,minLowercase:1,minUppercase:1,minNumbers:1,minSymbols:1,returnScore:!1,pointsPerUnique:1,pointsPerRepeat:.5,pointsForContainingLower:10,pointsForContainingUpper:10,pointsForContainingNumber:10,pointsForContainingSymbol:10};function d(e){var t={};return Array.from(e).forEach(function(e){t[e]?t[e]+=1:t[e]=1}),t}function f(e){var t=d(e),r={length:e.length,uniqueChars:Object.keys(t).length,uppercaseCount:0,lowercaseCount:0,numberCount:0,symbolCount:0};return Object.keys(t).forEach(function(e){o.test(e)?r.uppercaseCount+=t[e]:s.test(e)?r.lowercaseCount+=t[e]:l.test(e)?r.numberCount+=t[e]:u.test(e)&&(r.symbolCount+=t[e])}),r}function p(e,t){var r;return r=0+e.uniqueChars*t.pointsPerUnique+(e.length-e.uniqueChars)*t.pointsPerRepeat,e.lowercaseCount>0&&(r+=t.pointsForContainingLower),e.uppercaseCount>0&&(r+=t.pointsForContainingUpper),e.numberCount>0&&(r+=t.pointsForContainingNumber),e.symbolCount>0&&(r+=t.pointsForContainingSymbol),r}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,a.default)(e);var r=f(e);return(t=(0,n.default)(t||{},c)).returnScore?p(r,t):r.length>=t.minLength&&r.lowercaseCount>=t.minLowercase&&r.uppercaseCount>=t.minUppercase&&r.numberCount>=t.minNumbers&&r.symbolCount>=t.minSymbols}e.exports=t.default,e.exports.default=t.default},38278:(e,t,r)=>{"use strict";let n=r(77721),a=r(50141),{ANY:i}=a,o=r(5074),s=r(8759),l=r(44689),u=r(91526),c=r(72925),d=r(50736);e.exports=(e,t,r,f)=>{let p,h,m,y,g;switch(e=new n(e,f),t=new o(t,f),r){case">":p=l,h=c,m=u,y=">",g=">=";break;case"<":p=u,h=d,m=l,y="<",g="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(s(e,t,f))return!1;for(let r=0;r<t.set.length;++r){let n=t.set[r],o=null,s=null;if(n.forEach(e=>{e.semver===i&&(e=new a(">=0.0.0")),o=o||e,s=s||e,p(e.semver,o.semver,f)?o=e:m(e.semver,s.semver,f)&&(s=e)}),o.operator===y||o.operator===g||(!s.operator||s.operator===y)&&h(e,s.semver)||s.operator===g&&m(e,s.semver))return!1}return!0}},38852:(e,t,r)=>{"use strict";r.d(t,{A:()=>A});var n=r(99410),a=r(1983),i=r(38985);function o(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}function s(e,t){e.classList?e.classList.add(t):o(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function l(e,t){return e.replace(RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function u(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=l(e.className,t):e.setAttribute("class",l(e.className&&e.className.baseVal||"",t))}var c=r(55729),d=r(56760);let f={disabled:!1};var p=r(5440),h=function(e){return e.scrollTop},m="unmounted",y="exited",g="entering",v="entered",b="exiting",_=function(e){function t(t,r){var n,a=e.call(this,t,r)||this,i=r,o=i&&!i.isMounting?t.enter:t.appear;return a.appearStatus=null,t.in?o?(n=y,a.appearStatus=g):n=v:n=t.unmountOnExit||t.mountOnEnter?m:y,a.state={status:n},a.nextCallback=null,a}(0,i.A)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===m?{status:y}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==g&&r!==v&&(t=g):(r===g||r===v)&&(t=b)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===g){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:d.findDOMNode(this);r&&h(r)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===y&&this.setState({status:m})},r.performEnter=function(e){var t=this,r=this.props.enter,n=this.context?this.context.isMounting:e,a=this.props.nodeRef?[n]:[d.findDOMNode(this),n],i=a[0],o=a[1],s=this.getTimeouts(),l=n?s.appear:s.enter;if(!e&&!r||f.disabled)return void this.safeSetState({status:v},function(){t.props.onEntered(i)});this.props.onEnter(i,o),this.safeSetState({status:g},function(){t.props.onEntering(i,o),t.onTransitionEnd(l,function(){t.safeSetState({status:v},function(){t.props.onEntered(i,o)})})})},r.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),n=this.props.nodeRef?void 0:d.findDOMNode(this);if(!t||f.disabled)return void this.safeSetState({status:y},function(){e.props.onExited(n)});this.props.onExit(n),this.safeSetState({status:b},function(){e.props.onExiting(n),e.onTransitionEnd(r.exit,function(){e.safeSetState({status:y},function(){e.props.onExited(n)})})})},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:d.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(!r||n)return void setTimeout(this.nextCallback,0);if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],i=a[0],o=a[1];this.props.addEndListener(i,o)}null!=e&&setTimeout(this.nextCallback,e)},r.render=function(){var e=this.state.status;if(e===m)return null;var t=this.props,r=t.children,n=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,a.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return c.createElement(p.A.Provider,{value:null},"function"==typeof r?r(e,n):c.cloneElement(c.Children.only(r),n))},t}(c.Component);function w(){}_.contextType=p.A,_.propTypes={},_.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:w,onEntering:w,onEntered:w,onExit:w,onExiting:w,onExited:w},_.UNMOUNTED=m,_.EXITED=y,_.ENTERING=g,_.ENTERED=v,_.EXITING=b;let $=_;var S=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return s(e,t)})},E=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return u(e,t)})},x=function(e){function t(){for(var t,r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,r){var n=t.resolveArguments(e,r),a=n[0],i=n[1];t.removeClasses(a,"exit"),t.addClass(a,i?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,r)},t.onEntering=function(e,r){var n=t.resolveArguments(e,r),a=n[0],i=n[1]?"appear":"enter";t.addClass(a,i,"active"),t.props.onEntering&&t.props.onEntering(e,r)},t.onEntered=function(e,r){var n=t.resolveArguments(e,r),a=n[0],i=n[1]?"appear":"enter";t.removeClasses(a,i),t.addClass(a,i,"done"),t.props.onEntered&&t.props.onEntered(e,r)},t.onExit=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"appear"),t.removeClasses(r,"enter"),t.addClass(r,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var r=t.resolveArguments(e)[0];t.addClass(r,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"exit"),t.addClass(r,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,r){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,r]},t.getClassNames=function(e){var r=t.props.classNames,n="string"==typeof r,a=n&&r?r+"-":"",i=n?""+a+e:r[e],o=n?i+"-active":r[e+"Active"],s=n?i+"-done":r[e+"Done"];return{baseClassName:i,activeClassName:o,doneClassName:s}},t}(0,i.A)(t,e);var r=t.prototype;return r.addClass=function(e,t,r){var n=this.getClassNames(t)[r+"ClassName"],a=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===r&&a&&(n+=" "+a),"active"===r&&e&&h(e),n&&(this.appliedClasses[t][r]=n,S(e,n))},r.removeClasses=function(e,t){var r=this.appliedClasses[t],n=r.base,a=r.active,i=r.done;this.appliedClasses[t]={},n&&E(e,n),a&&E(e,a),i&&E(e,i)},r.render=function(){var e=this.props,t=(e.classNames,(0,a.A)(e,["classNames"]));return c.createElement($,(0,n.A)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(c.Component);x.defaultProps={classNames:""},x.propTypes={};let A=x},38985:(e,t,r)=>{"use strict";function n(e,t){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)}r.d(t,{A:()=>a})},39070:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=i(r(79922)),a=i(r(26433));function i(e){return e&&e.__esModule?e:{default:e}}var o=/^\d{1,3}$/,s=32,l=128;function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,n.default)(e);var r=e.split("/");if(2!==r.length||!o.test(r[1])||r[1].length>1&&r[1].startsWith("0")||!(0,a.default)(r[0],t))return!1;var i=null;switch(String(t)){case"4":i=s;break;case"6":i=l;break;default:i=(0,a.default)(r[0],"6")?l:s}return r[1]<=i&&r[1]>=0}e.exports=t.default,e.exports.default=t.default},41167:e=>{"use strict";e.exports=Math.round},41467:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=i(r(79922)),a=i(r(89089));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if((0,n.default)(e),"[object Array]"===Object.prototype.toString.call(t)){var r,i=[];for(r in t)({}).hasOwnProperty.call(t,r)&&(i[r]=(0,a.default)(t[r]));return i.indexOf(e)>=0}return"object"===o(t)?t.hasOwnProperty(e):!!t&&"function"==typeof t.indexOf&&t.indexOf(e)>=0}e.exports=t.default,e.exports.default=t.default},41556:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){(0,n.default)(e);for(var r=e.length-1;r>=0;r--)if(-1===t.indexOf(e[r]))return!1;return!0}e.exports=t.default,e.exports.default=t.default},41605:e=>{"use strict";e.exports=Math.pow},41670:(e,t,r)=>{"use strict";let n=r(26189);e.exports=(e,t)=>n(e,t,!0)},42145:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return(0,n.default)(e),e===e.toLowerCase()}e.exports=t.default,e.exports.default=t.default},42270:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shake256=t.shake128=t.keccak_512=t.keccak_384=t.keccak_256=t.keccak_224=t.sha3_512=t.sha3_384=t.sha3_256=t.sha3_224=t.Keccak=void 0,t.keccakP=b;let n=r(67247),a=r(72274),i=BigInt(0),o=BigInt(1),s=BigInt(2),l=BigInt(7),u=BigInt(256),c=BigInt(113),d=[],f=[],p=[];for(let e=0,t=o,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],d.push(2*(5*n+r)),f.push((e+1)*(e+2)/2%64);let a=i;for(let e=0;e<7;e++)(t=(t<<o^(t>>l)*c)%u)&s&&(a^=o<<(o<<BigInt(e))-o);p.push(a)}let h=(0,n.split)(p,!0),m=h[0],y=h[1],g=(e,t,r)=>r>32?(0,n.rotlBH)(e,t,r):(0,n.rotlSH)(e,t,r),v=(e,t,r)=>r>32?(0,n.rotlBL)(e,t,r):(0,n.rotlSL)(e,t,r);function b(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,a=(t+2)%10,i=r[a],o=r[a+1],s=g(i,o,1)^r[n],l=v(i,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=s,e[t+r+1]^=l}let t=e[2],a=e[3];for(let r=0;r<24;r++){let n=f[r],i=g(t,a,n),o=v(t,a,n),s=d[r];t=e[s],a=e[s+1],e[s]=i,e[s+1]=o}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=m[n],e[1]^=y[n]}(0,a.clean)(r)}class _ extends a.Hash{constructor(e,t,r,n=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,(0,a.anumber)(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,a.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,a.swap32IfBE)(this.state32),b(this.state32,this.rounds),(0,a.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(e){(0,a.aexists)(this),e=(0,a.toBytes)(e),(0,a.abytes)(e);let{blockLen:t,state:r}=this,n=e.length;for(let a=0;a<n;){let i=Math.min(t-this.pos,n-a);for(let t=0;t<i;t++)r[this.pos++]^=e[a++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,a.aexists)(this,!1),(0,a.abytes)(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,a=e.length;n<a;){this.posOut>=r&&this.keccak();let i=Math.min(r-this.posOut,a-n);e.set(t.subarray(this.posOut,this.posOut+i),n),this.posOut+=i,n+=i}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,a.anumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,a.aoutput)(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,a.clean)(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:a,enableXOF:i}=this;return e||(e=new _(t,r,n,i,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=n,e.enableXOF=i,e.destroyed=this.destroyed,e}}t.Keccak=_;let w=(e,t,r)=>(0,a.createHasher)(()=>new _(t,e,r));t.sha3_224=w(6,144,28),t.sha3_256=w(6,136,32),t.sha3_384=w(6,104,48),t.sha3_512=w(6,72,64),t.keccak_224=w(1,144,28),t.keccak_256=w(1,136,32),t.keccak_384=w(1,104,48),t.keccak_512=w(1,72,64);let $=(e,t,r)=>(0,a.createXOFer)((n={})=>new _(t,e,void 0===n.dkLen?r:n.dkLen,!0));t.shake128=$(31,168,16),t.shake256=$(31,136,32)},42463:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var n=i(r(29203)),a=i(r(79922));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){var t="\\d{".concat(e.digits_after_decimal[0],"}");e.digits_after_decimal.forEach(function(e,r){0!==r&&(t="".concat(t,"|\\d{").concat(e,"}"))});var r="(".concat(e.symbol.replace(/\W/,function(e){return"\\".concat(e)}),")").concat(e.require_symbol?"":"?"),n="-?",a=["0","[1-9]\\d*","[1-9]\\d{0,2}(\\".concat(e.thousands_separator,"\\d{3})*")],i="(".concat(a.join("|"),")?"),o="(\\".concat(e.decimal_separator,"(").concat(t,"))").concat(e.require_decimal?"":"?"),s=i+(e.allow_decimal||e.require_decimal?o:"");return e.allow_negatives&&!e.parens_for_negatives&&(e.negative_sign_after_digits?s+=n:e.negative_sign_before_digits&&(s=n+s)),e.allow_negative_sign_placeholder?s="( (?!\\-))?".concat(s):e.allow_space_after_symbol?s=" ?".concat(s):e.allow_space_after_digits&&(s+="( (?!$))?"),e.symbol_after_digits?s+=r:s=r+s,e.allow_negatives&&(e.parens_for_negatives?s="(\\(".concat(s,"\\)|").concat(s,")"):e.negative_sign_before_digits||e.negative_sign_after_digits||(s=n+s)),new RegExp("^(?!-? )(?=.*\\d)".concat(s,"$"))}var s={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_decimal:!0,require_decimal:!1,digits_after_decimal:[2],allow_space_after_digits:!1};function l(e,t){return(0,a.default)(e),o(t=(0,n.default)(t,s)).test(e)}e.exports=t.default,e.exports.default=t.default},42774:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;function o(e){return(0,n.default)(e),i.test(e)}e.exports=t.default,e.exports.default=t.default},43232:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=s(r(67763)),i=s(r(78805)),o=s(r(72643));function s(e){return e&&e.__esModule?e:{default:e}}var l={},u=void 0;t.default={unmount:function(){l={}},register:function(e,t){l[e]=t},unregister:function(e){delete l[e]},get:function(e){return l[e]||document.getElementById(e)||document.getElementsByName(e)[0]||document.getElementsByClassName(e)[0]},setActiveLink:function(e){return u=e},getActiveLink:function(){return u},scrollTo:function(e,t){var r=this.get(e);if(!r)return void console.warn("target Element not found");var s=(t=n({},t,{absolute:!1})).containerId,l=t.container,u=void 0;u=s?document.getElementById(s):l&&l.nodeType?l:document,t.absolute=!0;var c=t.horizontal,d=a.default.scrollOffset(u,r,c)+(t.offset||0);if(!t.smooth){o.default.registered.begin&&o.default.registered.begin(e,r),u===document?t.horizontal?window.scrollTo(d,0):window.scrollTo(0,d):u.scrollTop=d,o.default.registered.end&&o.default.registered.end(e,r);return}i.default.animateTopScroll(d,t,e,r)}}},43339:e=>{"use strict";e.exports=ReferenceError},43528:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var n=o(r(47500)),a=o(r(19692)),i=o(r(79922));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return c(e)||u(e,t)||f(e,t)||l()}function l(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function c(e){if(Array.isArray(e))return e}function d(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=f(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function f(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function h(e){var t=new Set(["subject","body","cc","bcc"]),r={cc:"",bcc:""},n=!1,a=e.split("&");if(a.length>4)return!1;var i,o=d(a);try{for(o.s();!(i=o.n()).done;){var l=i.value.split("="),u=s(l,2),c=u[0],f=u[1];if(c&&!t.has(c)){n=!0;break}f&&("cc"===c||"bcc"===c)&&(r[c]=f),c&&t.delete(c)}}catch(e){o.e(e)}finally{o.f()}return!n&&r}function m(e,t){if((0,i.default)(e),0!==e.indexOf("mailto:"))return!1;var r=s(e.replace("mailto:","").split("?"),2),o=r[0],l=r[1],u=void 0===l?"":l;if(!o&&!u)return!0;var c=h(u);return!!c&&"".concat(o,",").concat(c.cc,",").concat(c.bcc).split(",").every(function(e){return!(e=(0,n.default)(e," "))||(0,a.default)(e,t)})}e.exports=t.default,e.exports.default=t.default},43946:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},44050:(e,t,r)=>{"use strict";var n=r(21667),a=r(96779),i=r(74818),o=r(54913),s=r(27654),l=r(50865),u=o("Object.prototype.toString"),c=r(27721)(),d="undefined"==typeof globalThis?r.g:globalThis,f=a(),p=o("String.prototype.slice"),h=o("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return -1},m={__proto__:null};c&&s&&l?n(f,function(e){var t=new d[e];if(Symbol.toStringTag in t&&l){var r=l(t),n=s(r,Symbol.toStringTag);!n&&r&&(n=s(l(r),Symbol.toStringTag)),m["$"+e]=i(n.get)}}):n(f,function(e){var t=new d[e],r=t.slice||t.set;r&&(m["$"+e]=i(r))});var y=function(e){var t=!1;return n(m,function(r,n){if(!t)try{"$"+r(e)===n&&(t=p(n,1))}catch(e){}}),t},g=function(e){var t=!1;return n(m,function(r,n){if(!t)try{r(e),t=p(n,1)}catch(e){}}),t};e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!c){var t=p(u(e),8,-1);return h(f,t)>-1?t:"Object"===t&&g(e)}return s?y(e):null}},44396:(e,t,r)=>{"use strict";let n=r(77721),a=r(5074),i=r(44689);e.exports=(e,t)=>{e=new a(e,t);let r=new n("0.0.0");if(e.test(r)||(r=new n("0.0.0-0"),e.test(r)))return r;r=null;for(let t=0;t<e.set.length;++t){let a=e.set[t],o=null;a.forEach(e=>{let t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!o||i(t,o))&&(o=t);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${e.operator}`)}}),o&&(!r||i(r,o))&&(r=o)}return r&&e.test(r)?r:null}},44448:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=i(r(79922)),a=i(r(29203));function i(e){return e&&e.__esModule?e:{default:e}}var o=/^[A-Z2-7]+=*$/,s=/^[A-HJKMNP-TV-Z0-9]+$/,l={crockford:!1};function u(e,t){return((0,n.default)(e),(t=(0,a.default)(t,l)).crockford)?s.test(e):!!(e.length%8==0&&o.test(e))}e.exports=t.default,e.exports.default=t.default},44451:e=>{"use strict";e.exports=RangeError},44689:(e,t,r)=>{"use strict";let n=r(26189);e.exports=(e,t,r)=>n(e,t,r)>0},45819:(e,t,r)=>{"use strict";let n,a;function i(e){for(var t=e.constructor.prototype,r=0,n=Object.getOwnPropertyNames(t);r<n.length;r++){var a=n[r];if("constructor"!==a){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,a);i&&"function"==typeof i.value&&(e[a]=e[a].bind(e))}}return e}function o(e,t){return new Promise(function(r,n){var a=setTimeout(function(){n(Error("Promise timed out"))},t);e.then(function(e){return clearTimeout(a),r(e)}).catch(n)})}function s(e){return new Promise(function(t){return setTimeout(t,e)})}function l(e,t,r){var n=function(){try{return Promise.resolve(t(e))}catch(e){return Promise.reject(e)}};return s(r).then(function(){return o(n(),1e3)}).catch(function(t){null==e||e.log("warn","Callback Error",{error:t}),null==e||e.stats.increment("callback_error")}).then(function(){return e})}r.d(t,{j0:()=>t1});var u=function(e,t){return(u=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function c(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var d=function(){return(d=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function f(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function p(e,t,r,n){function a(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):a(e.value).then(o,s)}l((n=n.apply(e,t||[])).next())})}function h(e,t){var r,n,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return l([e,t])}}function l(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}Object.create;function m(e,t,r){if(r||2==arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}Object.create;var y=("function"==typeof SuppressedError&&SuppressedError,function(e){function t(t,r){var n=e.call(this,"".concat(t," ").concat(r))||this;return n.field=t,n}return c(t,e),t}(Error));let g=e=>{if(!e.writeKey)throw new y("writeKey","writeKey is missing.")},v="2.3.0";function b(e){var t=Math.random()+1,r=e.minTimeout,n=void 0===r?500:r,a=e.factor,i=void 0===a?2:a,o=e.attempt,s=e.maxTimeout;return Math.min(t*n*Math.pow(i,o),void 0===s?1/0:s)}let _=e=>e.replace(/\/$/,""),w=(e,t)=>_(new URL(t||"",e).href);for(var $,S=function(){var e,t,r=!1,n=new Promise(function(n,a){e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r=!0,n.apply(void 0,e)},t=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r=!0,a.apply(void 0,e)}});return{resolve:e,reject:t,promise:n,isSettled:function(){return r}}},E=256,x=[];E--;)x[E]=(E+256).toString(16).substring(1);function A(){var e,t=0,r="";if(!$||E+16>256){for($=Array(t=256);t--;)$[t]=256*Math.random()|0;t=E=0}for(;t<16;t++)e=$[E+t],6==t?r+=x[15&e|64]:8==t?r+=x[63&e|128]:r+=x[e],1&t&&t>1&&t<11&&(r+="-");return E++,r}let k=32,O=480;class I{id=A();items=[];sizeInBytes=0;maxEventCount;constructor(e){this.maxEventCount=Math.max(1,e)}tryAdd(e){if(this.length===this.maxEventCount)return{success:!1,message:`Event limit of ${this.maxEventCount} has been exceeded.`};let t=this.calculateSize(e.context);return t>1024*k?{success:!1,message:`Event exceeds maximum event size of ${k} KB`}:this.sizeInBytes+t>1024*O?{success:!1,message:`Event has caused batch size to exceed ${O} KB`}:(this.items.push(e),this.sizeInBytes+=t,{success:!0})}get length(){return this.items.length}calculateSize(e){return encodeURI(JSON.stringify(e.event)).split(/%..|i/).length}getEvents(){return this.items.map(({context:e})=>e.event)}getContexts(){return this.items.map(e=>e.context)}resolveEvents(){this.items.forEach(({resolver:e,context:t})=>e(t))}}let C=crypto,T=e=>e instanceof CryptoKey;class P extends Error{constructor(e,t){super(e,t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}P.code="ERR_JOSE_GENERIC";class R extends P{constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=n,this.payload=t}}R.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class N extends P{constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=n,this.payload=t}}N.code="ERR_JWT_EXPIRED";class j extends P{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}j.code="ERR_JOSE_ALG_NOT_ALLOWED";class M extends P{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}M.code="ERR_JOSE_NOT_SUPPORTED";class L extends P{constructor(e="decryption operation failed",t){super(e,t),this.code="ERR_JWE_DECRYPTION_FAILED"}}L.code="ERR_JWE_DECRYPTION_FAILED";class D extends P{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}D.code="ERR_JWE_INVALID";class B extends P{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}B.code="ERR_JWS_INVALID";class F extends P{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}F.code="ERR_JWT_INVALID";class z extends P{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}z.code="ERR_JWK_INVALID";class U extends P{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}U.code="ERR_JWKS_INVALID";class Z extends P{constructor(e="no applicable key found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_NO_MATCHING_KEY"}}Z.code="ERR_JWKS_NO_MATCHING_KEY";class H extends P{constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}Symbol.asyncIterator,H.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class V extends P{constructor(e="request timed out",t){super(e,t),this.code="ERR_JWKS_TIMEOUT"}}V.code="ERR_JWKS_TIMEOUT";class W extends P{constructor(e="signature verification failed",t){super(e,t),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}W.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";let q=(e,t,r=0)=>{0===r&&(t.unshift(t.length),t.unshift(6));let n=e.indexOf(t[0],r);if(-1===n)return!1;let a=e.subarray(n,n+t.length);return a.length===t.length&&(a.every((e,r)=>e===t[r])||q(e,t,n+1))},K=e=>{switch(!0){case q(e,[42,134,72,206,61,3,1,7]):return"P-256";case q(e,[43,129,4,0,34]):return"P-384";case q(e,[43,129,4,0,35]):return"P-521";case q(e,[43,101,110]):return"X25519";case q(e,[43,101,111]):return"X448";case q(e,[43,101,112]):return"Ed25519";case q(e,[43,101,113]):return"Ed448";default:throw new M("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},G=async(e,t,r,n,a)=>{let i,o,s=new Uint8Array(atob(r.replace(e,"")).split("").map(e=>e.charCodeAt(0))),l="spki"===t;switch(n){case"PS256":case"PS384":case"PS512":i={name:"RSA-PSS",hash:`SHA-${n.slice(-3)}`},o=l?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":i={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${n.slice(-3)}`},o=l?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":i={name:"RSA-OAEP",hash:`SHA-${parseInt(n.slice(-3),10)||1}`},o=l?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":i={name:"ECDSA",namedCurve:"P-256"},o=l?["verify"]:["sign"];break;case"ES384":i={name:"ECDSA",namedCurve:"P-384"},o=l?["verify"]:["sign"];break;case"ES512":i={name:"ECDSA",namedCurve:"P-521"},o=l?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let e=K(s);i=e.startsWith("P-")?{name:"ECDH",namedCurve:e}:{name:e},o=l?[]:["deriveBits"];break}case"Ed25519":i={name:"Ed25519"},o=l?["verify"]:["sign"];break;case"EdDSA":i={name:K(s)},o=l?["verify"]:["sign"];break;default:throw new M('Invalid or unsupported "alg" (Algorithm) value')}return C.subtle.importKey(t,s,i,a?.extractable??!1,o)},J=(e,t,r)=>G(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",e,t,r);function Y(e){let t=[],r=0;for(;r<e.length;){let n=X(e.subarray(r));t.push(n),r+=n.byteLength}return t}function X(e){let t=0,r=31&e[0];if(t++,31===r){for(r=0;e[t]>=128;)r=128*r+e[t]-128,t++;r=128*r+e[t]-128,t++}let n=0;if(e[t]<128)n=e[t],t++;else if(128===n){for(n=0;0!==e[t+n]||0!==e[t+n+1];){if(n>e.byteLength)throw TypeError("invalid indefinite form length");n++}let r=t+n+2;return{byteLength:r,contents:e.subarray(t,t+n),raw:e.subarray(0,r)}}else{let r=127&e[t];t++,n=0;for(let a=0;a<r;a++)n=256*n+e[t],t++}let a=t+n;return{byteLength:a,contents:e.subarray(t,a),raw:e.subarray(0,a)}}async function Q(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PRIVATE KEY-----"))throw TypeError('"pkcs8" must be PKCS#8 formatted string');return J(e,t,r)}let ee=new TextEncoder,et=new TextDecoder,er=null;function en(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t}function ea(e,t,r){if(t<0||t>=er)throw RangeError(`value must be >= 0 and <= ${er-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}let ei=e=>{let t=e;"string"==typeof t&&(t=ee.encode(t));let r=32768,n=[];for(let e=0;e<t.length;e+=r)n.push(String.fromCharCode.apply(null,t.subarray(e,e+r)));return btoa(n.join(""))},eo=e=>ei(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),es=e=>{let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r},el=e=>{let t=e;t instanceof Uint8Array&&(t=et.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return es(t)}catch{throw TypeError("The input to be decoded is not correctly encoded.")}};function eu(e,t){let r=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:t.namedCurve};case"Ed25519":return{name:"Ed25519"};case"EdDSA":return{name:t.name};default:throw new M(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}let ec=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){let{modulusLength:r}=t.algorithm;if("number"!=typeof r||r<2048)throw TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};function ed(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function ef(e,t){return e.name===t}function ep(e){return parseInt(e.name.slice(4),10)}function eh(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}function em(e,t){if(t.length&&!t.some(t=>e.usages.includes(t))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){let r=t.pop();e+=`one of ${t.join(", ")}, or ${r}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw TypeError(e)}}function ey(e,t,...r){switch(t){case"HS256":case"HS384":case"HS512":{if(!ef(e.algorithm,"HMAC"))throw ed("HMAC");let r=parseInt(t.slice(2),10);if(ep(e.algorithm.hash)!==r)throw ed(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!ef(e.algorithm,"RSASSA-PKCS1-v1_5"))throw ed("RSASSA-PKCS1-v1_5");let r=parseInt(t.slice(2),10);if(ep(e.algorithm.hash)!==r)throw ed(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!ef(e.algorithm,"RSA-PSS"))throw ed("RSA-PSS");let r=parseInt(t.slice(2),10);if(ep(e.algorithm.hash)!==r)throw ed(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw ed("Ed25519 or Ed448");break;case"Ed25519":if(!ef(e.algorithm,"Ed25519"))throw ed("Ed25519");break;case"ES256":case"ES384":case"ES512":{if(!ef(e.algorithm,"ECDSA"))throw ed("ECDSA");let r=eh(t);if(e.algorithm.namedCurve!==r)throw ed(r,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}em(e,r)}function eg(e,t,...r){if((r=r.filter(Boolean)).length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}let ev=(e,...t)=>eg("Key must be ",e,...t);function eb(e,t,...r){return eg(`Key for the ${e} algorithm must be `,t,...r)}let e_=e=>!!T(e)||e?.[Symbol.toStringTag]==="KeyObject",ew=["CryptoKey"];function e$(e){return"object"==typeof e&&null!==e}function eS(e){if(!e$(e)||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function eE(e){return eS(e)&&"string"==typeof e.kty}function ex(e){return"oct"!==e.kty&&"string"==typeof e.d}function eA(e){return"oct"!==e.kty&&void 0===e.d}function ek(e){return eE(e)&&"oct"===e.kty&&"string"==typeof e.k}function eO(e){let t,r;switch(e.kty){case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new M('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new M('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(e.alg){case"Ed25519":t={name:"Ed25519"},r=e.d?["sign"]:["verify"];break;case"EdDSA":t={name:e.crv},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new M('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new M('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}let eI=async e=>{if(!e.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:t,keyUsages:r}=eO(e),n=[t,e.ext??!1,e.key_ops??r],a={...e};return delete a.alg,delete a.use,C.subtle.importKey("jwk",a,...n)},eC=e=>el(e),eT=e=>e?.[Symbol.toStringTag]==="KeyObject",eP=async(e,t,r,n,a=!1)=>{let i=e.get(t);if(i?.[n])return i[n];let o=await eI({...r,alg:n});return a&&Object.freeze(t),i?i[n]=o:e.set(t,{[n]:o}),o},eR={normalizePublicKey:(e,t)=>{if(eT(e)){let r=e.export({format:"jwk"});return(delete r.d,delete r.dp,delete r.dq,delete r.p,delete r.q,delete r.qi,r.k)?eC(r.k):(a||(a=new WeakMap),eP(a,e,r,t))}return eE(e)?e.k?el(e.k):(a||(a=new WeakMap),eP(a,e,e,t,!0)):e},normalizePrivateKey:(e,t)=>{if(eT(e)){let r=e.export({format:"jwk"});return r.k?eC(r.k):(n||(n=new WeakMap),eP(n,e,r,t))}return eE(e)?e.k?el(e.k):(n||(n=new WeakMap),eP(n,e,e,t,!0)):e}};async function eN(e,t,r){if("sign"===r&&(t=await eR.normalizePrivateKey(t,e)),"verify"===r&&(t=await eR.normalizePublicKey(t,e)),T(t))return ey(t,e,r),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw TypeError(ev(t,...ew));return C.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[r])}throw TypeError(ev(t,...ew,"Uint8Array","JSON Web Key"))}let ej=async(e,t,r)=>{let n=await eN(e,t,"sign");return ec(e,n),new Uint8Array(await C.subtle.sign(eu(e,n.algorithm),n,r))},eM=(...e)=>{let t,r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0},eL=e=>e?.[Symbol.toStringTag],eD=(e,t,r)=>{if(void 0!==t.use&&"sig"!==t.use)throw TypeError("Invalid key for this operation, when present its use must be sig");if(void 0!==t.key_ops&&t.key_ops.includes?.(r)!==!0)throw TypeError(`Invalid key for this operation, when present its key_ops must include ${r}`);if(void 0!==t.alg&&t.alg!==e)throw TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0},eB=(e,t,r,n)=>{if(!(t instanceof Uint8Array)){if(n&&eE(t)){if(ek(t)&&eD(e,t,r))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!e_(t))throw TypeError(eb(e,t,...ew,"Uint8Array",n?"JSON Web Key":null));if("secret"!==t.type)throw TypeError(`${eL(t)} instances for symmetric algorithms must be of type "secret"`)}},eF=(e,t,r,n)=>{if(n&&eE(t))switch(r){case"sign":if(ex(t)&&eD(e,t,r))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(eA(t)&&eD(e,t,r))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!e_(t))throw TypeError(eb(e,t,...ew,n?"JSON Web Key":null));if("secret"===t.type)throw TypeError(`${eL(t)} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===r&&"public"===t.type)throw TypeError(`${eL(t)} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===r&&"public"===t.type)throw TypeError(`${eL(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===r&&"private"===t.type)throw TypeError(`${eL(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===r&&"private"===t.type)throw TypeError(`${eL(t)} instances for asymmetric algorithm encryption must be of type "public"`)};function ez(e,t,r,n){t.startsWith("HS")||"dir"===t||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?eB(t,r,n,e):eF(t,r,n,e)}ez.bind(void 0,!1);let eU=ez.bind(void 0,!0),eZ=function(e,t,r,n,a){let i;if(void 0!==a.crit&&n?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let o of(i=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,n.crit)){if(!i.has(o))throw new M(`Extension Header Parameter "${o}" is not recognized`);if(void 0===a[o])throw new e(`Extension Header Parameter "${o}" is missing`);if(i.get(o)&&void 0===n[o])throw new e(`Extension Header Parameter "${o}" MUST be integrity protected`)}return new Set(n.crit)};class eH{constructor(e){if(!(e instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,t){let r;if(!this._protectedHeader&&!this._unprotectedHeader)throw new B("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!eM(this._protectedHeader,this._unprotectedHeader))throw new B("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let n={...this._protectedHeader,...this._unprotectedHeader},a=eZ(B,new Map([["b64",!0]]),t?.crit,this._protectedHeader,n),i=!0;if(a.has("b64")&&"boolean"!=typeof(i=this._protectedHeader.b64))throw new B('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:o}=n;if("string"!=typeof o||!o)throw new B('JWS "alg" (Algorithm) Header Parameter missing or invalid');eU(o,e,"sign");let s=this._payload;i&&(s=ee.encode(eo(s)));let l=en(r=this._protectedHeader?ee.encode(eo(JSON.stringify(this._protectedHeader))):ee.encode(""),ee.encode("."),s),u={signature:eo(await ej(o,e,l)),payload:""};return i&&(u.payload=et.decode(s)),this._unprotectedHeader&&(u.header=this._unprotectedHeader),this._protectedHeader&&(u.protected=et.decode(r)),u}}class eV{constructor(e){this._flattened=new eH(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,t){let r=await this._flattened.sign(e,t);if(void 0===r.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}let eW=e=>Math.floor(e.getTime()/1e3),eq=60,eK=3600,eG=86400,eJ=604800,eY=0x1e187e0,eX=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,eQ=e=>{let t,r=eX.exec(e);if(!r||r[4]&&r[1])throw TypeError("Invalid time period format");let n=parseFloat(r[2]);switch(r[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(n*eq);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(n*eK);break;case"day":case"days":case"d":t=Math.round(n*eG);break;case"week":case"weeks":case"w":t=Math.round(n*eJ);break;default:t=Math.round(n*eY)}return"-"===r[1]||"ago"===r[4]?-t:t};function e0(e,t){if(!Number.isFinite(t))throw TypeError(`Invalid ${e} input`);return t}class e1{constructor(e={}){if(!eS(e))throw TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:e0("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:e0("setNotBefore",eW(e))}:this._payload={...this._payload,nbf:eW(new Date)+eQ(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:e0("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:e0("setExpirationTime",eW(e))}:this._payload={...this._payload,exp:eW(new Date)+eQ(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:eW(new Date)}:e instanceof Date?this._payload={...this._payload,iat:e0("setIssuedAt",eW(e))}:"string"==typeof e?this._payload={...this._payload,iat:e0("setIssuedAt",eW(new Date)+eQ(e))}:this._payload={...this._payload,iat:e0("setIssuedAt",e)},this}}class e2 extends e1{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,t){let r=new eV(ee.encode(JSON.stringify(this._payload)));if(r.setProtectedHeader(this._protectedHeader),Array.isArray(this._protectedHeader?.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new F("JWTs MUST NOT use unencoded payload");return r.sign(e,t)}}var e3=function(){function e(e){var t;this.callbacks={},this.warned=!1,this.maxListeners=null!=(t=null==e?void 0:e.maxListeners)?t:10}return e.prototype.warnIfPossibleMemoryLeak=function(e){!this.warned&&this.maxListeners&&this.callbacks[e].length>this.maxListeners&&(console.warn("Event Emitter: Possible memory leak detected; ".concat(String(e)," has exceeded ").concat(this.maxListeners," listeners.")),this.warned=!0)},e.prototype.on=function(e,t){return this.callbacks[e]?(this.callbacks[e].push(t),this.warnIfPossibleMemoryLeak(e)):this.callbacks[e]=[t],this},e.prototype.once=function(e,t){var r=this,n=function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];r.off(e,n),t.apply(r,a)};return this.on(e,n),this},e.prototype.off=function(e,t){var r,n=(null!=(r=this.callbacks[e])?r:[]).filter(function(e){return e!==t});return this.callbacks[e]=n,this},e.prototype.emit=function(e){for(var t,r=this,n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return(null!=(t=this.callbacks[e])?t:[]).forEach(function(e){e.apply(r,n)}),this},e}();let e9=e=>!!(e&&"object"==typeof e&&"access_token"in e&&"expires_in"in e&&"string"==typeof e.access_token&&"number"==typeof e.expires_in),e4=e=>"function"==typeof e.text;function e8(e){let t={};if(!e)return{};if(e6(e)){for(let[r,n]of e.entries())t[r.toLowerCase()]=n;return t}for(let[r,n]of Object.entries(e))t[r.toLowerCase()]=n;return t}function e6(e){return!!("object"==typeof e&&null!==e&&"entries"in Object(e))&&"function"==typeof Object(e).entries}class e5{alg="RS256";grantType="client_credentials";clientAssertionType="urn:ietf:params:oauth:client-assertion-type:jwt-bearer";clientId;clientKey;keyId;scope;authServer;httpClient;maxRetries;clockSkewInSeconds=0;accessToken;tokenEmitter=new e3;retryCount;pollerTimer;constructor(e){this.keyId=e.keyId,this.clientId=e.clientId,this.clientKey=e.clientKey,this.authServer=e.authServer??"https://oauth2.segment.io",this.scope=e.scope??"tracking_api:write",this.httpClient=e.httpClient,this.maxRetries=e.maxRetries,this.tokenEmitter.on("access_token",e=>{"token"in e&&(this.accessToken=e.token)}),this.retryCount=0}stopPoller(){clearTimeout(this.pollerTimer)}async pollerLoop(){let e,t=25;try{e=await this.requestAccessToken()}catch(e){return this.handleTransientError({error:e})}if(!e4(e))return this.handleInvalidCustomResponse();let r=e8(e.headers);if(r.date&&this.updateClockSkew(Date.parse(r.date)),200===e.status)try{let r=await e.text(),n=JSON.parse(r);if(!e9(n))throw Error("Response did not contain a valid access_token and expires_in");return n.expires_at=Math.round(Date.now()/1e3)+n.expires_in,this.tokenEmitter.emit("access_token",{token:n}),this.retryCount=0,t=n.expires_in/2*1e3,this.queueNextPoll(t)}catch(e){return this.handleTransientError({error:e,forceEmitError:!0})}return 429===e.status?await this.handleRateLimited(e,r,t):[400,401,415].includes(e.status)?this.handleUnrecoverableErrors(e):this.handleTransientError({error:Error(`[${e.status}] ${e.statusText}`)})}handleTransientError({error:e,forceEmitError:t}){this.incrementRetries({error:e,forceEmitError:t});let r=b({attempt:this.retryCount,minTimeout:25,maxTimeout:1e3});this.queueNextPoll(r)}handleInvalidCustomResponse(){this.tokenEmitter.emit("access_token",{error:Error("HTTPClient does not implement response.text method")})}async handleRateLimited(e,t,r){if(this.incrementRetries({error:Error(`[${e.status}] ${e.statusText}`)}),t["x-ratelimit-reset"]){let e=parseInt(t["x-ratelimit-reset"],10);r=isFinite(e)?e-Date.now()+1e3*this.clockSkewInSeconds:5e3,await s(r),r=0}this.queueNextPoll(r)}handleUnrecoverableErrors(e){this.retryCount=0,this.tokenEmitter.emit("access_token",{error:Error(`[${e.status}] ${e.statusText}`)}),this.stopPoller()}updateClockSkew(e){this.clockSkewInSeconds=(Date.now()-e)/1e3}incrementRetries({error:e,forceEmitError:t}){this.retryCount++,(t||this.retryCount%this.maxRetries==0)&&(this.retryCount=0,this.tokenEmitter.emit("access_token",{error:e}))}queueNextPoll(e){this.pollerTimer=setTimeout(()=>this.pollerLoop(),e),this.pollerTimer.unref&&this.pollerTimer.unref()}async requestAccessToken(){let e=5,t=55,r=A(),n=Math.round(Date.now()/1e3)-this.clockSkewInSeconds,a={iss:this.clientId,sub:this.clientId,aud:this.authServer,iat:n-e,exp:n+t,jti:r},i=await Q(this.clientKey,"RS256"),o=await new e2(a).setProtectedHeader({alg:this.alg,kid:this.keyId,typ:"JWT"}).sign(i),s=`grant_type=${this.grantType}&client_assertion_type=${this.clientAssertionType}&client_assertion=${o}&scope=${this.scope}`,l={method:"POST",url:`${this.authServer}/token`,body:s,headers:{"Content-Type":"application/x-www-form-urlencoded"},httpRequestTimeout:1e4};return this.httpClient.makeRequest(l)}async getAccessToken(){return this.isValidToken(this.accessToken)?this.accessToken:(this.stopPoller(),this.pollerLoop().catch(()=>{}),new Promise((e,t)=>{this.tokenEmitter.once("access_token",r=>{"token"in r?e(r.token):t(r.error)})}))}clearToken(){this.accessToken=void 0}isValidToken(e){return null!=e&&e.expires_in<Date.now()/1e3}}function e7(e){return new Promise(t=>setTimeout(t,e))}function te(){}class tt{pendingFlushTimeout;_batch;_flushInterval;_flushAt;_maxRetries;_url;_flushPendingItemsCount;_httpRequestTimeout;_emitter;_disable;_httpClient;_writeKey;_tokenManager;constructor({host:e,path:t,maxRetries:r,flushAt:n,flushInterval:a,writeKey:i,httpRequestTimeout:o,httpClient:s,disable:l,oauthSettings:u},c){this._emitter=c,this._maxRetries=r,this._flushAt=Math.max(n,1),this._flushInterval=a,this._url=w(e??"https://api.segment.io",t??"/v1/batch"),this._httpRequestTimeout=o??1e4,this._disable=!!l,this._httpClient=s,this._writeKey=i,u&&(this._tokenManager=new e5({...u,httpClient:u.httpClient??s,maxRetries:u.maxRetries??r}))}createBatch(){this.pendingFlushTimeout&&clearTimeout(this.pendingFlushTimeout);let e=new I(this._flushAt);return this._batch=e,this.pendingFlushTimeout=setTimeout(()=>{e===this._batch&&(this._batch=void 0),this.pendingFlushTimeout=void 0,e.length&&this.send(e).catch(te)},this._flushInterval),e}clearBatch(){this.pendingFlushTimeout&&clearTimeout(this.pendingFlushTimeout),this._batch=void 0}flush(e){if(!e){this._tokenManager&&this._tokenManager.stopPoller();return}this._flushPendingItemsCount=e,this._batch&&this._batch.length===e&&(this.send(this._batch).catch(te).finally(()=>{this._tokenManager&&this._tokenManager.stopPoller()}),this.clearBatch())}enqueue(e){let t=this._batch??this.createBatch(),{promise:r,resolve:n}=S(),a={context:e,resolver:n};if(t.tryAdd(a).success){let e=t.length===this._flushPendingItemsCount;return(t.length===this._flushAt||e)&&(this.send(t).catch(te),this.clearBatch()),r}t.length&&(this.send(t).catch(te),this.clearBatch());let i=this.createBatch(),o=i.tryAdd(a);return o.success?(i.length===this._flushPendingItemsCount&&(this.send(i).catch(te),this.clearBatch()),r):(e.setFailedDelivery({reason:Error(o.message)}),Promise.resolve(e))}async send(e){this._flushPendingItemsCount&&(this._flushPendingItemsCount-=e.length);let t=e.getEvents(),r=this._maxRetries+1,n=0;for(;n<r;){let a,i;n++;try{let r;if(this._disable)return e.resolveEvents();if(this._tokenManager){let e=await this._tokenManager.getAccessToken();e&&e.access_token&&(r=`Bearer ${e.access_token}`)}let n={"Content-Type":"application/json","User-Agent":"analytics-node-next/latest",...r?{Authorization:r}:{}},o={url:this._url,method:"POST",headers:n,body:JSON.stringify({batch:t,writeKey:this._writeKey,sentAt:new Date}),httpRequestTimeout:this._httpRequestTimeout};this._emitter.emit("http_request",{body:o.body,method:o.method,url:o.url,headers:o.headers});let s=await this._httpClient.makeRequest(o);if(s.status>=200&&s.status<300)return void e.resolveEvents();if(this._tokenManager&&(400===s.status||401===s.status||403===s.status))this._tokenManager.clearToken(),i=Error(`[${s.status}] ${s.statusText}`);else if(400===s.status)return void tr(e,Error(`[${s.status}] ${s.statusText}`));else if(429===s.status){if(s.headers&&"x-ratelimit-reset"in s.headers){let e=parseInt(s.headers["x-ratelimit-reset"],10);isFinite(e)&&(a=e-Date.now())}i=Error(`[${s.status}] ${s.statusText}`)}else i=Error(`[${s.status}] ${s.statusText}`)}catch(e){i=e}if(n===r)return void tr(e,i);await e7(a||b({attempt:n,minTimeout:25,maxTimeout:1e3}))}}}function tr(e,t){e.getContexts().forEach(e=>e.setFailedDelivery({reason:t})),e.resolveEvents()}var tn=r(29143);let ta=()=>"object"==typeof tn&&tn&&"object"==typeof tn.env&&tn.env&&"string"==typeof tn.version?"node":"object"==typeof window?"browser":"undefined"!=typeof WebSocketPair?"cloudflare-worker":"string"==typeof EdgeRuntime?"vercel-edge":"undefined"!=typeof WorkerGlobalScope&&"function"==typeof importScripts?"web-worker":"unknown";var ti=r(29143);function to(e){e.updateEvent("context.library.name","@segment/analytics-node"),e.updateEvent("context.library.version",v);let t=ta();"node"===t&&e.updateEvent("_metadata.nodeVersion",ti.version),e.updateEvent("_metadata.jsRuntime",t)}function ts(e){function t(t){return to(t),e.enqueue(t)}return{name:"Segment.io",type:"destination",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),alias:t,group:t,identify:t,page:t,screen:t,track:t}}let tl=(e,t)=>{let r=new tt(e,t);return{publisher:r,plugin:ts(r)}};function tu(e,t,r){t.split&&(t=t.split("."));for(var n,a,i=0,o=t.length,s=e;i<o&&"__proto__"!=(a=""+t[i++])&&"constructor"!==a&&"prototype"!==a;)s=s[a]=i===o?r:typeof(n=s[a])==typeof t?n:0*t[i]!=0||~(""+t[i]).indexOf(".")?{}:[]}var tc=function(e,t){return Object.keys(e).filter(function(r){return t(r,e[r])}).reduce(function(t,r){return t[r]=e[r],t},{})};function td(e){return"string"==typeof e}function tf(e){return null!=e}function tp(e){return"object"===Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}var th="is not a string",tm="is not an object",ty="is nil";function tg(e){var t=".userId/anonymousId/previousId/groupId",r=function(e){var t,r,n;return null!=(n=null!=(r=null!=(t=e.userId)?t:e.anonymousId)?r:e.groupId)?n:e.previousId}(e);if(tf(r)){if(!td(r))throw new y(t,th)}else throw new y(t,ty)}function tv(e){if(!tf(e))throw new y("Event",ty);if("object"!=typeof e)throw new y("Event",tm)}function tb(e){if(!td(e.type))throw new y(".type",th)}function t_(e){if(!td(e.event))throw new y(".event",th)}function tw(e){if(!tp(e.properties))throw new y(".properties",tm)}function t$(e){if(!tp(e.traits))throw new y(".traits",tm)}function tS(e){if(!td(e.messageId))throw new y(".messageId",th)}function tE(e){tv(e),tb(e),tS(e),"track"===e.type&&(t_(e),tw(e)),["group","identify"].includes(e.type)&&t$(e)}var tx=function(){return function(e){var t,r;this.settings=e,this.createMessageId=e.createMessageId,this.onEventMethodCall=null!=(t=e.onEventMethodCall)?t:function(){},this.onFinishedEvent=null!=(r=e.onFinishedEvent)?r:function(){}}}(),tA=function(){function e(e){this.settings=new tx(e)}return e.prototype.track=function(e,t,r,n){return this.settings.onEventMethodCall({type:"track",options:r}),this.normalize(d(d({},this.baseEvent()),{event:e,type:"track",properties:null!=t?t:{},options:d({},r),integrations:d({},n)}))},e.prototype.page=function(e,t,r,n,a){this.settings.onEventMethodCall({type:"page",options:n});var i,o={type:"page",properties:d({},r),options:d({},n),integrations:d({},a)};return null!==e&&(o.category=e,o.properties=null!=(i=o.properties)?i:{},o.properties.category=e),null!==t&&(o.name=t),this.normalize(d(d({},this.baseEvent()),o))},e.prototype.screen=function(e,t,r,n,a){this.settings.onEventMethodCall({type:"screen",options:n});var i={type:"screen",properties:d({},r),options:d({},n),integrations:d({},a)};return null!==e&&(i.category=e),null!==t&&(i.name=t),this.normalize(d(d({},this.baseEvent()),i))},e.prototype.identify=function(e,t,r,n){return this.settings.onEventMethodCall({type:"identify",options:r}),this.normalize(d(d({},this.baseEvent()),{type:"identify",userId:e,traits:null!=t?t:{},options:d({},r),integrations:n}))},e.prototype.group=function(e,t,r,n){return this.settings.onEventMethodCall({type:"group",options:r}),this.normalize(d(d({},this.baseEvent()),{type:"group",traits:null!=t?t:{},options:d({},r),integrations:d({},n),groupId:e}))},e.prototype.alias=function(e,t,r,n){this.settings.onEventMethodCall({type:"alias",options:r});var a={userId:e,type:"alias",options:d({},r),integrations:d({},n)};return(null!==t&&(a.previousId=t),void 0===e)?this.normalize(d(d({},a),this.baseEvent())):this.normalize(d(d({},this.baseEvent()),a))},e.prototype.baseEvent=function(){return{integrations:{},options:{}}},e.prototype.context=function(e){var t,r=["userId","anonymousId","timestamp","messageId"];delete e.integrations;var n=Object.keys(e),a=null!=(t=e.context)?t:{},i={};return n.forEach(function(t){"context"!==t&&(r.includes(t)?tu(i,t,e[t]):tu(a,t,e[t]))}),[a,i]},e.prototype.normalize=function(e){var t,r,n=Object.keys(null!=(t=e.integrations)?t:{}).reduce(function(t,r){var n,a;return d(d({},t),((n={})[r]=!!(null==(a=e.integrations)?void 0:a[r]),n))},{});e.options=tc(e.options||{},function(e,t){return void 0!==t});var a=d(d({},n),null==(r=e.options)?void 0:r.integrations),i=e.options?this.context(e.options):[],o=i[0],s=i[1],l=e.options,u=f(e,["options"]),c=d(d(d(d({timestamp:new Date},u),{context:o,integrations:a}),s),{messageId:l.messageId||this.settings.createMessageId()});return this.settings.onFinishedEvent(c),tE(c),c},e}();let tk=()=>`node-next-${Date.now()}-${A()}`;class tO extends tA{constructor(){super({createMessageId:tk,onFinishedEvent:e=>{tg(e)}})}}var tI=function(e,t){return Math.max((null!=t?t:300)-(Date.now()-e),0)};function tC(e,t,r,n){return p(this,void 0,void 0,function(){var a,i;return h(this,function(o){switch(o.label){case 0:if(r.emit("dispatch_start",e),a=Date.now(),!t.isEmpty())return[3,2];return[4,t.dispatchSingle(e)];case 1:return i=o.sent(),[3,4];case 2:return[4,t.dispatch(e)];case 3:i=o.sent(),o.label=4;case 4:if(!(null==n?void 0:n.callback))return[3,6];return[4,l(i,n.callback,tI(a,n.timeout))];case 5:i=o.sent(),o.label=6;case 6:return(null==n?void 0:n.debug)&&i.flush(),[2,i]}})})}var tT=function(){function e(){this._logs=[]}return e.prototype.log=function(e,t,r){var n=new Date;this._logs.push({level:e,message:t,time:n,extras:r})},Object.defineProperty(e.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),e.prototype.flush=function(){if(this.logs.length>1){var e=this._logs.reduce(function(e,t){var r,n,a,i=d(d({},t),{json:JSON.stringify(t.extras,null," "),extras:t.extras});delete i.time;var o=null!=(a=null==(n=t.time)?void 0:n.toISOString())?a:"";return e[o]&&(o="".concat(o,"-").concat(Math.random())),d(d({},e),((r={})[o]=i,r))},{});console.table?console.table(e):console.log(e)}else this.logs.forEach(function(e){var t=e.level,r=e.message,n=e.extras;"info"===t||"debug"===t?console.log(r,null!=n?n:""):console[t](r,null!=n?n:"")});this._logs=[]},e}(),tP=function(e){return({gauge:"g",counter:"c"})[e]},tR=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.gauge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.increment=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.flush=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.serialize=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return[]},t}(function(){function e(){this.metrics=[]}return e.prototype.increment=function(e,t,r){void 0===t&&(t=1),this.metrics.push({metric:e,value:t,tags:null!=r?r:[],type:"counter",timestamp:Date.now()})},e.prototype.gauge=function(e,t,r){this.metrics.push({metric:e,value:t,tags:null!=r?r:[],type:"gauge",timestamp:Date.now()})},e.prototype.flush=function(){var e=this.metrics.map(function(e){return d(d({},e),{tags:e.tags.join(",")})});console.table?console.table(e):console.log(e),this.metrics=[]},e.prototype.serialize=function(){return this.metrics.map(function(e){return{m:e.metric,v:e.value,t:e.tags,k:tP(e.type),e:e.timestamp}})},e}()),tN=function(){return function(e){var t,r,n;this.retry=null==(t=e.retry)||t,this.type=null!=(r=e.type)?r:"plugin Error",this.reason=null!=(n=e.reason)?n:""}}(),tj=function(){function e(e,t,r,n){void 0===t&&(t=A()),void 0===r&&(r=new tR),void 0===n&&(n=new tT),this.attempts=0,this.event=e,this._id=t,this.logger=n,this.stats=r}return e.system=function(){},e.prototype.isSame=function(e){return e.id===this.id},e.prototype.cancel=function(e){if(e)throw e;throw new tN({reason:"Context Cancel"})},e.prototype.log=function(e,t,r){this.logger.log(e,t,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),e.prototype.updateEvent=function(e,t){var r;if("integrations"===e.split(".")[0]){var n=e.split(".")[1];if((null==(r=this.event.integrations)?void 0:r[n])===!1)return this.event}return tu(this.event,e,t),this.event},e.prototype.failedDelivery=function(){return this._failedDelivery},e.prototype.setFailedDelivery=function(e){this._failedDelivery=e},e.prototype.logs=function(){return this.logger.logs},e.prototype.flush=function(){this.logger.flush(),this.stats.flush()},e.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},e}();class tM extends tj{static system(){return new this({type:"track",event:"system"})}}let tL=e=>t=>{let r=t.failedDelivery();return r?e(r.reason,t):e(void 0,t)},tD=async(e,t,r,n)=>{try{let a=new tM(e),i=await tC(a,t,r,{...n?{callback:tL(n)}:{}}),o=i.failedDelivery();o?r.emit("error",{code:"delivery_failure",reason:o.reason,ctx:i}):r.emit(e.type,i)}catch(e){r.emit("error",{code:"unknown",reason:e})}};class tB extends e3{}var tF="onRemoveFromFuture",tz=function(e){function t(t,r,n){var a=e.call(this)||this;return a.future=[],a.maxAttempts=t,a.queue=r,a.seen=null!=n?n:{},a}return c(t,e),t.prototype.push=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t.map(function(t){return!(e.updateAttempts(t)>e.maxAttempts||e.includes(t))&&(e.queue.push(t),!0)});return this.queue=this.queue.sort(function(t,r){return e.getAttempts(t)-e.getAttempts(r)}),n},t.prototype.pushWithBackoff=function(e,t){var r=this;if(void 0===t&&(t=0),0==t&&0===this.getAttempts(e))return this.push(e)[0];var n=this.updateAttempts(e);if(n>this.maxAttempts||this.includes(e))return!1;var a=b({attempt:n-1});return t>0&&a<t&&(a=t),setTimeout(function(){r.queue.push(e),r.future=r.future.filter(function(t){return t.id!==e.id}),r.emit(tF)},a),this.future.push(e),!0},t.prototype.getAttempts=function(e){var t;return null!=(t=this.seen[e.id])?t:0},t.prototype.updateAttempts=function(e){return this.seen[e.id]=this.getAttempts(e)+1,this.getAttempts(e)},t.prototype.includes=function(e){return this.queue.includes(e)||this.future.includes(e)||!!this.queue.find(function(t){return t.id===e.id})||!!this.future.find(function(t){return t.id===e.id})},t.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(t.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),t}(e3);function tU(e,t){var r={};return e.forEach(function(e){var n,a=void 0;if("string"==typeof t){var i=e[t];a="string"!=typeof i?JSON.stringify(i):i}else t instanceof Function&&(a=t(e));void 0!==a&&(r[a]=m(m([],null!=(n=r[a])?n:[],!0),[e],!1))}),r}var tZ=function(e){return"object"==typeof e&&null!==e&&"then"in e&&"function"==typeof e.then},tH=function(){var e,t,r=0;return{done:function(){return e},run:function(n){var a=n();return tZ(a)&&(1==++r&&(e=new Promise(function(e){return t=e})),a.finally(function(){return 0==--r&&t()})),a}}};function tV(e){return p(this,void 0,void 0,function(){return h(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e()];case 1:return[2,t.sent()];case 2:return[2,Promise.reject(t.sent())];case 3:return[2]}})})}function tW(e,t){e.log("debug","plugin",{plugin:t.name});var r=new Date().getTime(),n=t[e.event.type];return void 0===n?Promise.resolve(e):tV(function(){return n.apply(t,[e])}).then(function(e){var n=new Date().getTime()-r;return e.stats.gauge("plugin_time",n,["plugin:".concat(t.name)]),e}).catch(function(r){if(r instanceof tN&&"middleware_cancellation"===r.type)throw r;return r instanceof tN?e.log("warn",r.type,{plugin:t.name,error:r}):(e.log("error","plugin Error",{plugin:t.name,error:r}),e.stats.increment("plugin_error",1,["plugin:".concat(t.name)])),r})}function tq(e,t){return tW(e,t).then(function(t){if(t instanceof tj)return t;e.log("debug","Context canceled"),e.stats.increment("context_canceled"),e.cancel(t)})}var tK=function(e){function t(t){var r=e.call(this)||this;return r.criticalTasks=tH(),r.plugins=[],r.failedInitializations=[],r.flushing=!1,r.queue=t,r.queue.on(tF,function(){r.scheduleFlush(0)}),r}return c(t,e),t.prototype.register=function(e,t,r){return p(this,void 0,void 0,function(){var n,a,i=this;return h(this,function(o){switch(o.label){case 0:if(this.plugins.push(t),n=function(r){i.failedInitializations.push(t.name),i.emit("initialization_failure",t),console.warn(t.name,r),e.log("warn","Failed to load destination",{plugin:t.name,error:r}),i.plugins=i.plugins.filter(function(e){return e!==t})},"destination"!==t.type||"Segment.io"===t.name)return[3,1];return t.load(e,r).catch(n),[3,4];case 1:return o.trys.push([1,3,,4]),[4,t.load(e,r)];case 2:return o.sent(),[3,4];case 3:return a=o.sent(),n(a),[3,4];case 4:return[2]}})})},t.prototype.deregister=function(e,t,r){return p(this,void 0,void 0,function(){var n;return h(this,function(a){switch(a.label){case 0:if(a.trys.push([0,3,,4]),!t.unload)return[3,2];return[4,Promise.resolve(t.unload(e,r))];case 1:a.sent(),a.label=2;case 2:return this.plugins=this.plugins.filter(function(e){return e.name!==t.name}),[3,4];case 3:return n=a.sent(),e.log("warn","Failed to unload destination",{plugin:t.name,error:n}),[3,4];case 4:return[2]}})})},t.prototype.dispatch=function(e){return p(this,void 0,void 0,function(){var t;return h(this,function(r){return e.log("debug","Dispatching"),e.stats.increment("message_dispatched"),this.queue.push(e),t=this.subscribeToDelivery(e),this.scheduleFlush(0),[2,t]})})},t.prototype.subscribeToDelivery=function(e){return p(this,void 0,void 0,function(){var t=this;return h(this,function(r){return[2,new Promise(function(r){var n=function(a,i){a.isSame(e)&&(t.off("flush",n),r(a))};t.on("flush",n)})]})})},t.prototype.dispatchSingle=function(e){return p(this,void 0,void 0,function(){var t=this;return h(this,function(r){return e.log("debug","Dispatching"),e.stats.increment("message_dispatched"),this.queue.updateAttempts(e),e.attempts=1,[2,this.deliver(e).catch(function(r){return t.enqueuRetry(r,e)?t.subscribeToDelivery(e):(e.setFailedDelivery({reason:r}),e)})]})})},t.prototype.isEmpty=function(){return 0===this.queue.length},t.prototype.scheduleFlush=function(e){var t=this;void 0===e&&(e=500),this.flushing||(this.flushing=!0,setTimeout(function(){t.flush().then(function(){setTimeout(function(){t.flushing=!1,t.queue.length&&t.scheduleFlush(0)},0)})},e))},t.prototype.deliver=function(e){return p(this,void 0,void 0,function(){var t,r,n,a;return h(this,function(i){switch(i.label){case 0:return[4,this.criticalTasks.done()];case 1:i.sent(),t=Date.now(),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,this.flushOne(e)];case 3:return e=i.sent(),r=Date.now()-t,this.emit("delivery_success",e),e.stats.gauge("delivered",r),e.log("debug","Delivered",e.event),[2,e];case 4:throw a=n=i.sent(),e.log("error","Failed to deliver",a),this.emit("delivery_failure",e,a),e.stats.increment("delivery_failed"),n;case 5:return[2]}})})},t.prototype.enqueuRetry=function(e,t){return!!(!(e instanceof tN)||e.retry)&&this.queue.pushWithBackoff(t)},t.prototype.flush=function(){return p(this,void 0,void 0,function(){var e,t;return h(this,function(r){switch(r.label){case 0:if(0===this.queue.length||!(e=this.queue.pop()))return[2,[]];e.attempts=this.queue.getAttempts(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.deliver(e)];case 2:return e=r.sent(),this.emit("flush",e,!0),[3,4];case 3:return t=r.sent(),this.enqueuRetry(t,e)||(e.setFailedDelivery({reason:t}),this.emit("flush",e,!1)),[2,[]];case 4:return[2,[e]]}})})},t.prototype.isReady=function(){return!0},t.prototype.availableExtensions=function(e){var t=tU(this.plugins.filter(function(t){if("destination"!==t.type&&"Segment.io"!==t.name)return!0;var r,n,a,i=void 0;return null==(r=t.alternativeNames)||r.forEach(function(t){void 0!==e[t]&&(i=e[t])}),null!=(a=null!=(n=e[t.name])?n:i)?a:!1!==("Segment.io"===t.name||e.All)}),"type"),r=t.before,n=void 0===r?[]:r,a=t.enrichment,i=void 0===a?[]:a,o=t.destination,s=void 0===o?[]:o,l=t.after;return{before:n,enrichment:i,destinations:s,after:void 0===l?[]:l}},t.prototype.flushOne=function(e){var t,r;return p(this,void 0,void 0,function(){var n,a,i,o,s,l,u,c,d,f,p,m,y;return h(this,function(h){switch(h.label){case 0:if(!this.isReady())throw Error("Not ready");e.attempts>1&&this.emit("delivery_retry",e),a=(n=this.availableExtensions(null!=(t=e.event.integrations)?t:{})).before,i=n.enrichment,o=0,s=a,h.label=1;case 1:if(!(o<s.length))return[3,4];return l=s[o],[4,tq(e,l)];case 2:(u=h.sent())instanceof tj&&(e=u),this.emit("message_enriched",e,l),h.label=3;case 3:return o++,[3,1];case 4:c=0,d=i,h.label=5;case 5:if(!(c<d.length))return[3,8];return f=d[c],[4,tW(e,f)];case 6:(u=h.sent())instanceof tj&&(e=u),this.emit("message_enriched",e,f),h.label=7;case 7:return c++,[3,5];case 8:return m=(p=this.availableExtensions(null!=(r=e.event.integrations)?r:{})).destinations,y=p.after,[4,new Promise(function(t,r){setTimeout(function(){Promise.all(m.map(function(t){return tW(e,t)})).then(t).catch(r)},0)})];case 9:return h.sent(),e.stats.increment("message_delivered"),this.emit("message_delivered",e),[4,Promise.all(y.map(function(t){return tW(e,t)}))];case 10:return h.sent(),[2,e]}})})},t}(e3);class tG extends tz{constructor(){super(1,[])}getAttempts(e){return e.attempts??0}updateAttempts(e){return e.attempts=this.getAttempts(e)+1,this.getAttempts(e)}}class tJ extends tK{constructor(){super(new tG)}}class AbortSignal{onabort=null;aborted=!1;eventEmitter=new e3;toString(){return"[object AbortSignal]"}get[Symbol.toStringTag](){return"AbortSignal"}removeEventListener(...e){this.eventEmitter.off(...e)}addEventListener(...e){this.eventEmitter.on(...e)}dispatchEvent(e){let t={type:e,target:this},r=`on${e}`;"function"==typeof this[r]&&this[r](t),this.eventEmitter.emit(e,t)}}class tY{signal=new AbortSignal;abort(){this.signal.aborted||(this.signal.aborted=!0,this.signal.dispatchEvent("abort"))}toString(){return"[object AbortController]"}get[Symbol.toStringTag](){return"AbortController"}}let tX=e=>{if("cloudflare-worker"===ta())return[];let t=new(globalThis.AbortController||tY),r=setTimeout(()=>{t.abort()},e);return r?.unref?.(),[t.signal,r]},tQ=async(...e)=>{if(globalThis.fetch)return globalThis.fetch(...e);if("string"!=typeof EdgeRuntime)return(await r.e(81).then(r.t.bind(r,33081,23))).default(...e);throw Error("Invariant: an edge runtime that does not support fetch should not exist")};class t0{_fetch;constructor(e){this._fetch=e??tQ}async makeRequest(e){let[t,r]=tX(e.httpRequestTimeout),n={url:e.url,method:e.method,headers:e.headers,body:e.body,signal:t};return this._fetch(e.url,n).finally(()=>clearTimeout(r))}}class t1 extends tB{_eventFactory;_isClosed=!1;_pendingEvents=0;_closeAndFlushDefaultTimeout;_publisher;_isFlushing=!1;_queue;ready;constructor(e){super(),g(e),this._eventFactory=new tO,this._queue=new tJ;let t=e.flushInterval??1e4;this._closeAndFlushDefaultTimeout=1.25*t;let{plugin:r,publisher:n}=tl({writeKey:e.writeKey,host:e.host,path:e.path,maxRetries:e.maxRetries??3,flushAt:e.flushAt??e.maxEventsInBatch??15,httpRequestTimeout:e.httpRequestTimeout,disable:e.disable,flushInterval:t,httpClient:"function"==typeof e.httpClient?new t0(e.httpClient):e.httpClient??new t0,oauthSettings:e.oauthSettings},this);this._publisher=n,this.ready=this.register(r).then(()=>void 0),this.emit("initialize",e),i(this)}get VERSION(){return v}closeAndFlush({timeout:e=this._closeAndFlushDefaultTimeout}={}){return this.flush({timeout:e,close:!0})}async flush({timeout:e,close:t=!1}={}){if(this._isFlushing)return void console.warn("Overlapping flush calls detected. Please wait for the previous flush to finish before calling .flush again");this._isFlushing=!0,t&&(this._isClosed=!0),this._publisher.flush(this._pendingEvents);let r=new Promise(e=>{this._pendingEvents?this.once("drained",()=>{e()}):e()}).finally(()=>{this._isFlushing=!1});return e?o(r,e).catch(()=>void 0):r}_dispatch(e,t){if(this._isClosed)return void this.emit("call_after_close",e);this._pendingEvents++,tD(e,this._queue,this,t).catch(e=>e).finally(()=>{this._pendingEvents--,this._pendingEvents||this.emit("drained")})}alias({userId:e,previousId:t,context:r,timestamp:n,integrations:a,messageId:i},o){let s=this._eventFactory.alias(e,t,{context:r,integrations:a,timestamp:n,messageId:i});this._dispatch(s,o)}group({timestamp:e,groupId:t,userId:r,anonymousId:n,traits:a={},context:i,integrations:o,messageId:s},l){let u=this._eventFactory.group(t,a,{context:i,anonymousId:n,userId:r,timestamp:e,integrations:o,messageId:s});this._dispatch(u,l)}identify({userId:e,anonymousId:t,traits:r={},context:n,timestamp:a,integrations:i,messageId:o},s){let l=this._eventFactory.identify(e,r,{context:n,anonymousId:t,userId:e,timestamp:a,integrations:i,messageId:o});this._dispatch(l,s)}page({userId:e,anonymousId:t,category:r,name:n,properties:a,context:i,timestamp:o,integrations:s,messageId:l},u){let c=this._eventFactory.page(r??null,n??null,a,{context:i,anonymousId:t,userId:e,timestamp:o,integrations:s,messageId:l});this._dispatch(c,u)}screen({userId:e,anonymousId:t,category:r,name:n,properties:a,context:i,timestamp:o,integrations:s,messageId:l},u){let c=this._eventFactory.screen(r??null,n??null,a,{context:i,anonymousId:t,userId:e,timestamp:o,integrations:s,messageId:l});this._dispatch(c,u)}track({userId:e,anonymousId:t,event:r,properties:n,context:a,timestamp:i,integrations:o,messageId:s},l){let u=this._eventFactory.track(r,n,{context:a,userId:e,anonymousId:t,timestamp:i,integrations:o,messageId:s});this._dispatch(u,l)}register(...e){return this._queue.criticalTasks.run(async()=>{let t=tM.system(),r=e.map(e=>this._queue.register(t,e,this));await Promise.all(r),this.emit("register",e.map(e=>e.name))})}async deregister(...e){let t=tM.system(),r=e.map(e=>{let r=this._queue.plugins.find(t=>t.name===e);if(r)return this._queue.deregister(t,r,this);t.log("warn",`plugin ${e} not found`)});await Promise.all(r),this.emit("deregister",e)}}},46440:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(78619)),a=r(9354);function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:66;return(0,n.default)(e,t)},s={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(e,t){if(e){var r=o(function(t){s.scrollHandler(e)},t);s.scrollSpyContainers.push(e),(0,a.addPassiveEventListener)(e,"scroll",r)}},isMounted:function(e){return -1!==s.scrollSpyContainers.indexOf(e)},currentPositionX:function(e){if(e!==document)return e.scrollLeft;var t=void 0!==window.pageYOffset,r="CSS1Compat"===(document.compatMode||"");return t?window.pageXOffset:r?document.documentElement.scrollLeft:document.body.scrollLeft},currentPositionY:function(e){if(e!==document)return e.scrollTop;var t=void 0!==window.pageXOffset,r="CSS1Compat"===(document.compatMode||"");return t?window.pageYOffset:r?document.documentElement.scrollTop:document.body.scrollTop},scrollHandler:function(e){(s.scrollSpyContainers[s.scrollSpyContainers.indexOf(e)].spyCallbacks||[]).forEach(function(t){return t(s.currentPositionX(e),s.currentPositionY(e))})},addStateHandler:function(e){s.spySetState.push(e)},addSpyHandler:function(e,t){var r=s.scrollSpyContainers[s.scrollSpyContainers.indexOf(t)];r.spyCallbacks||(r.spyCallbacks=[]),r.spyCallbacks.push(e),e(s.currentPositionX(t),s.currentPositionY(t))},updateStates:function(){s.spySetState.forEach(function(e){return e()})},unmount:function(e,t){s.scrollSpyContainers.forEach(function(e){return e.spyCallbacks&&e.spyCallbacks.length&&e.spyCallbacks.indexOf(t)>-1&&e.spyCallbacks.splice(e.spyCallbacks.indexOf(t),1)}),s.spySetState&&s.spySetState.length&&s.spySetState.indexOf(e)>-1&&s.spySetState.splice(s.spySetState.indexOf(e),1),document.removeEventListener("scroll",s.scrollHandler)},update:function(){return s.scrollSpyContainers.forEach(function(e){return s.scrollHandler(e)})}};t.default=s},46608:(e,t,r)=>{"use strict";r.d(t,{F:()=>eI});var n,a,i,o,s,l,u,c,d,f,p,h,m,y,g=r(34727),v="vercel.ai.error",b=Symbol.for(v),_=class e extends Error{constructor({name:e,message:t,cause:r}){super(t),this[n]=!0,this.name=e,this.cause=r}static isInstance(t){return e.hasMarker(t,v)}static hasMarker(e,t){let r=Symbol.for(t);return null!=e&&"object"==typeof e&&r in e&&"boolean"==typeof e[r]&&!0===e[r]}};n=b;var w=_,$="AI_APICallError",S=`vercel.ai.error.${$}`,E=Symbol.for(S),x=class extends w{constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:i,responseBody:o,cause:s,isRetryable:l=null!=n&&(408===n||409===n||429===n||n>=500),data:u}){super({name:$,message:e,cause:s}),this[a]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=i,this.responseBody=o,this.isRetryable=l,this.data=u}static isInstance(e){return w.hasMarker(e,S)}};a=E;var A="AI_EmptyResponseBodyError";function k(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}i=Symbol.for(`vercel.ai.error.${A}`);var O="AI_InvalidArgumentError",I=`vercel.ai.error.${O}`,C=Symbol.for(I),T=class extends w{constructor({message:e,cause:t,argument:r}){super({name:O,message:e,cause:t}),this[o]=!0,this.argument=r}static isInstance(e){return w.hasMarker(e,I)}};o=C;var P="AI_InvalidPromptError";s=Symbol.for(`vercel.ai.error.${P}`);var R="AI_InvalidResponseDataError";l=Symbol.for(`vercel.ai.error.${R}`);var N="AI_JSONParseError",j=`vercel.ai.error.${N}`,M=Symbol.for(j),L=class extends w{constructor({text:e,cause:t}){super({name:N,message:`JSON parsing failed: Text: ${e}.
Error message: ${k(t)}`,cause:t}),this[u]=!0,this.text=e}static isInstance(e){return w.hasMarker(e,j)}};u=M;var D="AI_LoadAPIKeyError",B=`vercel.ai.error.${D}`,F=Symbol.for(B),z=class extends w{constructor({message:e}){super({name:D,message:e}),this[c]=!0}static isInstance(e){return w.hasMarker(e,B)}};c=F;var U="AI_LoadSettingError";d=Symbol.for(`vercel.ai.error.${U}`);var Z="AI_NoContentGeneratedError";f=Symbol.for(`vercel.ai.error.${Z}`);var H="AI_NoSuchModelError";p=Symbol.for(`vercel.ai.error.${H}`);var V="AI_TooManyEmbeddingValuesForCallError";h=Symbol.for(`vercel.ai.error.${V}`);var W="AI_TypeValidationError",q=`vercel.ai.error.${W}`,K=Symbol.for(q),G=class e extends w{constructor({value:e,cause:t}){super({name:W,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${k(t)}`,cause:t}),this[m]=!0,this.value=e}static isInstance(e){return w.hasMarker(e,q)}static wrap({value:t,cause:r}){return e.isInstance(r)&&r.value===t?r:new e({value:t,cause:r})}};m=K;var J=G,Y="AI_UnsupportedFunctionalityError";function X(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||(Array.isArray(e)?e.every(X):"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&X(t)))}y=Symbol.for(`vercel.ai.error.${Y}`);let Q=(e,t=21)=>(r=t)=>{let n="",a=0|r;for(;a--;)n+=e[Math.random()*e.length|0];return n};var ee=r(29486),et=r(29143);function er(...e){return e.reduce((e,t)=>({...e,...null!=t?t:{}}),{})}function en(e,t){let r=[],n=e;for(let e=0;e<t.length;){let a=t[e++];"\n"===a?(r.push(n),n=""):"\r"===a?(r.push(n),n="","\n"===t[e]&&e++):n+=a}return{lines:r,incompleteLine:n}}function ea(e){let t={};return e.headers.forEach((e,r)=>{t[r]=e}),t}function ei(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>null!=t))}function eo(e){return e instanceof Error&&("AbortError"===e.name||"TimeoutError"===e.name)}(({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let a=Q(r,t);if(null!=e){if(r.includes(n))throw new T({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return t=>`${e}${n}${a(t)}`}})();function es({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if("string"==typeof e)return e;if(null!=e)throw new z({message:`${n} API key must be a string.`});if(void 0===et)throw new z({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(null==(e=et.env[t]))throw new z({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if("string"!=typeof e)throw new z({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}var el=Symbol.for("vercel.ai.validator");function eu(e){return{[el]:!0,validate:e}}function ec(e){return"object"==typeof e&&null!==e&&el in e&&!0===e[el]&&"validate"in e}function ed(e){return ec(e)?e:ef(e)}function ef(e){return eu(t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}})}function ep({value:e,schema:t}){let r=eh({value:e,schema:t});if(!r.success)throw J.wrap({value:e,cause:r.error});return r.value}function eh({value:e,schema:t}){let r=ed(t);try{if(null==r.validate)return{success:!0,value:e};let t=r.validate(e);if(t.success)return t;return{success:!1,error:J.wrap({value:e,cause:t.error})}}catch(t){return{success:!1,error:J.wrap({value:e,cause:t})}}}function em({text:e,schema:t}){try{let r=ee.parse(e);if(null==t)return r;return ep({value:r,schema:t})}catch(t){if(L.isInstance(t)||J.isInstance(t))throw t;throw new L({text:e,cause:t})}}function ey({text:e,schema:t}){try{let r=ee.parse(e);if(null==t)return{success:!0,value:r,rawValue:r};let n=eh({value:r,schema:t});return n.success?{...n,rawValue:r}:n}catch(t){return{success:!1,error:L.isInstance(t)?t:new L({text:e,cause:t})}}}var eg=()=>globalThis.fetch,ev=async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o})=>eb({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o}),eb=async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:a,abortSignal:i,fetch:o=eg()})=>{try{let s=await o(e,{method:"POST",headers:ei(t),body:r.content,signal:i}),l=ea(s);if(!s.ok){let t;try{t=await a({response:s,url:e,requestBodyValues:r.values})}catch(t){if(eo(t)||x.isInstance(t))throw t;throw new x({message:"Failed to process error response",cause:t,statusCode:s.status,url:e,responseHeaders:l,requestBodyValues:r.values})}throw t.value}try{return await n({response:s,url:e,requestBodyValues:r.values})}catch(t){if(t instanceof Error&&(eo(t)||x.isInstance(t)))throw t;throw new x({message:"Failed to process successful response",cause:t,statusCode:s.status,url:e,responseHeaders:l,requestBodyValues:r.values})}}catch(t){if(eo(t))throw t;if(t instanceof TypeError&&"fetch failed"===t.message){let n=t.cause;if(null!=n)throw new x({message:`Cannot connect to API: ${n.message}`,cause:n,url:e,requestBodyValues:r.values,isRetryable:!0})}throw t}},e_=({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:a,requestBodyValues:i})=>{let o=await n.text(),s=ea(n);if(""===o.trim())return{responseHeaders:s,value:new x({message:n.statusText,url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,isRetryable:null==r?void 0:r(n)})};try{let l=em({text:o,schema:e});return{responseHeaders:s,value:new x({message:t(l),url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,data:l,isRetryable:null==r?void 0:r(n,l)})}}catch(e){return{responseHeaders:s,value:new x({message:n.statusText,url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,isRetryable:null==r?void 0:r(n)})}}},ew=e=>async({response:t,url:r,requestBodyValues:n})=>{let a=await t.text(),i=ey({text:a,schema:e}),o=ea(t);if(!i.success)throw new x({message:"Invalid JSON response",cause:i.error,statusCode:t.status,responseHeaders:o,responseBody:a,url:r,requestBodyValues:n});return{responseHeaders:o,value:i.value,rawValue:i.rawValue}},{btoa:e$,atob:eS}=globalThis;function eE(e){return null==e?void 0:e.replace(/\/$/,"")}var ex=r(31078),eA=class{constructor(e,t,r){this.modelId=e,this.settings=t,this.config=r,this.specificationVersion="v1"}get provider(){return this.config.provider}get maxImagesPerCall(){var e;return null!=(e=this.settings.maxImagesPerCall)?e:1}async doGenerate({prompt:e,n:t,size:r,seed:n,providerOptions:a,headers:i,abortSignal:o}){var s,l,u,c;let d=[];null!=r&&d.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support the `aspectRatio` option. Use `size` instead."});let f=null!=(u=null==(l=null==(s=this.config._internal)?void 0:s.currentDate)?void 0:l.call(s))?u:new Date,p=null==r?void 0:r.split("x"),{value:h,responseHeaders:m}=await ev({url:`${this.config.baseURL}/images/generations`,headers:er(this.config.headers(),i),body:{model:this.modelId,prompt:e,seed:n,n:t,...p&&{width:parseInt(p[0]),height:parseInt(p[1])},response_format:"base64",...null!=(c=a.togetherai)?c:{}},failedResponseHandler:e_({errorSchema:eO,errorToMessage:e=>e.error.message}),successfulResponseHandler:ew(ek),abortSignal:o,fetch:this.config.fetch});return{images:h.data.map(e=>e.b64_json),warnings:d,response:{timestamp:f,modelId:this.modelId,headers:m}}}},ek=ex.z.object({data:ex.z.array(ex.z.object({b64_json:ex.z.string()}))}),eO=ex.z.object({error:ex.z.object({message:ex.z.string()})});function eI(e={}){var t;let r=eE(null!=(t=e.baseURL)?t:"https://api.together.xyz/v1/"),n=()=>({Authorization:`Bearer ${es({apiKey:e.apiKey,environmentVariableName:"TOGETHER_AI_API_KEY",description:"TogetherAI"})}`,...e.headers}),a=t=>({provider:`togetherai.${t}`,url:({path:e})=>`${r}${e}`,headers:n,fetch:e.fetch}),i=(e,t={})=>new g.Ey(e,t,{...a("chat"),defaultObjectGenerationMode:"tool"}),o=(e,t={})=>new g.fG(e,t,a("embedding")),s=(e,t={})=>new eA(e,t,{...a("image"),baseURL:null!=r?r:"https://api.together.xyz/v1/"}),l=(e,t)=>i(e,t);return l.completionModel=(e,t={})=>new g.K9(e,t,a("completion")),l.languageModel=i,l.chatModel=i,l.textEmbeddingModel=o,l.image=s,l.imageModel=s,l}eI()},46994:(e,t,r)=>{var n="/",a=r(29143);!function(){var t={782:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},646:function(e){"use strict";let t={};function r(e,r,n){function a(e,t,n){return"string"==typeof r?r:r(e,t,n)}n||(n=Error);class i extends n{constructor(e,t,r){super(a(e,t,r))}}i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(!Array.isArray(e))return`of ${t} ${String(e)}`;{let r=e.length;return(e=e.map(e=>String(e)),r>2)?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}}function a(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function i(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function o(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}r("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(e,t,r){let s,l;if("string"==typeof t&&a(t,"not ")?(s="must not be",t=t.replace(/^not /,"")):s="must be",i(e," argument"))l=`The ${e} ${s} ${n(t,"type")}`;else{let r=o(e,".")?"property":"argument";l=`The "${e}" ${r} ${s} ${n(t,"type")}`}return l+`. Received type ${typeof r}`},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},403:function(e,t,r){"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=c;var i=r(709),o=r(337);r(782)(c,i);for(var s=n(o.prototype),l=0;l<s.length;l++){var u=s[l];c.prototype[u]||(c.prototype[u]=o.prototype[u])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||a.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},889:function(e,t,r){"use strict";e.exports=a;var n=r(170);function a(e){if(!(this instanceof a))return new a(e);n.call(this,e)}r(782)(a,n),a.prototype._transform=function(e,t,r){r(null,e)}},709:function(e,t,n){"use strict";e.exports=I,I.ReadableState=O,n(361).EventEmitter;var i,o,s,l,u,c=function(e,t){return e.listeners(t).length},d=n(678),f=n(300).Buffer,p=r.g.Uint8Array||function(){};function h(e){return f.from(e)}function m(e){return f.isBuffer(e)||e instanceof p}var y=n(837);o=y&&y.debuglog?y.debuglog("stream"):function(){};var g=n(379),v=n(25),b=n(776).getHighWaterMark,_=n(646).q,w=_.ERR_INVALID_ARG_TYPE,$=_.ERR_STREAM_PUSH_AFTER_EOF,S=_.ERR_METHOD_NOT_IMPLEMENTED,E=_.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(782)(I,d);var x=v.errorOrDestroy,A=["error","close","destroy","pause","resume"];function k(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}function O(e,t,r){i=i||n(403),e=e||{},"boolean"!=typeof r&&(r=t instanceof i),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=b(this,e,"readableHighWaterMark",r),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(s||(s=n(704).s),this.decoder=new s(e.encoding),this.encoding=e.encoding)}function I(e){if(i=i||n(403),!(this instanceof I))return new I(e);var t=this instanceof i;this._readableState=new O(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),d.call(this)}function C(e,t,r,n,a){o("readableAddChunk",t);var i,s=e._readableState;if(null===t)s.reading=!1,M(e,s);else if(a||(i=P(s,t)),i)x(e,i);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===f.prototype||(t=h(t)),n)s.endEmitted?x(e,new E):T(e,s,t,!0);else if(s.ended)x(e,new $);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?T(e,s,t,!1):B(e,s)):T(e,s,t,!1)}else n||(s.reading=!1,B(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function T(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&L(e)),B(e,t)}function P(e,t){var r;return m(t)||"string"==typeof t||void 0===t||e.objectMode||(r=new w("chunk",["string","Buffer","Uint8Array"],t)),r}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),I.prototype.destroy=v.destroy,I.prototype._undestroy=v.undestroy,I.prototype._destroy=function(e,t){t(e)},I.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=f.from(e,t),t=""),r=!0),C(this,e,t,!1,r)},I.prototype.unshift=function(e){return C(this,e,null,!0,!1)},I.prototype.isPaused=function(){return!1===this._readableState.flowing},I.prototype.setEncoding=function(e){s||(s=n(704).s);var t=new s(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,a="";null!==r;)a+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==a&&this._readableState.buffer.push(a),this._readableState.length=a.length,this};var R=0x40000000;function N(e){return e>=R?e=R:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function j(e,t){if(e<=0||0===t.length&&t.ended)return 0;if(t.objectMode)return 1;if(e!=e)if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length;return(e>t.highWaterMark&&(t.highWaterMark=N(e)),e<=t.length)?e:t.ended?t.length:(t.needReadable=!0,0)}function M(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?L(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,D(e)))}}function L(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,a.nextTick(D,e))}function D(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,W(e)}function B(e,t){t.readingMore||(t.readingMore=!0,a.nextTick(F,e,t))}function F(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(o("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function z(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&c(e,"data")&&(t.flowing=!0,W(e))}}function U(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function Z(e){o("readable nexttick read 0"),e.read(0)}function H(e,t){t.resumeScheduled||(t.resumeScheduled=!0,a.nextTick(V,e,t))}function V(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),W(e),t.flowing&&!t.reading&&e.read(0)}function W(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function q(e,t){var r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function K(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,a.nextTick(G,t,e))}function G(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function J(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1}I.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t,r=this._readableState,n=e;if(0!==e&&(r.emittedReadable=!1),0===e&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return o("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?K(this):L(this),null;if(0===(e=j(e,r))&&r.ended)return 0===r.length&&K(this),null;var a=r.needReadable;return o("need readable",a),(0===r.length||r.length-e<r.highWaterMark)&&o("length less than watermark",a=!0),r.ended||r.reading?o("reading or ended",a=!1):a&&(o("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=j(n,r))),null===(t=e>0?q(e,r):null)?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.awaitDrain=0),0===r.length&&(r.ended||(r.needReadable=!0),n!==e&&r.ended&&K(this)),null!==t&&this.emit("data",t),t},I.prototype._read=function(e){x(this,new S("_read()"))},I.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,o("pipe count=%d opts=%j",n.pipesCount,t);var i=t&&!1===t.end||e===a.stdout||e===a.stderr?g:l;function s(e,t){o("onunpipe"),e===r&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,f())}function l(){o("onend"),e.end()}n.endEmitted?a.nextTick(i):r.once("end",i),e.on("unpipe",s);var u=z(r);e.on("drain",u);var d=!1;function f(){o("cleanup"),e.removeListener("close",m),e.removeListener("finish",y),e.removeListener("drain",u),e.removeListener("error",h),e.removeListener("unpipe",s),r.removeListener("end",l),r.removeListener("end",g),r.removeListener("data",p),d=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&u()}function p(t){o("ondata");var a=e.write(t);o("dest.write",a),!1===a&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==J(n.pipes,e))&&!d&&(o("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function h(t){o("onerror",t),g(),e.removeListener("error",h),0===c(e,"error")&&x(e,t)}function m(){e.removeListener("finish",y),g()}function y(){o("onfinish"),e.removeListener("close",m),g()}function g(){o("unpipe"),r.unpipe(e)}return r.on("data",p),k(e,"error",h),e.once("close",m),e.once("finish",y),e.emit("pipe",r),n.flowing||(o("pipe resume"),r.resume()),e},I.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,a=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<a;i++)n[i].emit("unpipe",this,{hasUnpiped:!1});return this}var o=J(t.pipes,e);return -1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},I.prototype.on=function(e,t){var r=d.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"!==e||n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,o("on readable",n.length,n.reading),n.length?L(this):n.reading||a.nextTick(Z,this)),r},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(e,t){var r=d.prototype.removeListener.call(this,e,t);return"readable"===e&&a.nextTick(U,this),r},I.prototype.removeAllListeners=function(e){var t=d.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&a.nextTick(U,this),t},I.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,H(this,e)),e.paused=!1,this},I.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},I.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var a in e.on("end",function(){if(o("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(a){if(o("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!r.objectMode||null!=a)(r.objectMode||a&&a.length)&&(t.push(a)||(n=!0,e.pause()))}),e)void 0===this[a]&&"function"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var i=0;i<A.length;i++)e.on(A[i],this.emit.bind(this,A[i]));return this._read=function(t){o("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(I.prototype[Symbol.asyncIterator]=function(){return void 0===l&&(l=n(871)),l(this)}),Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(I.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(I.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),I._fromList=q,Object.defineProperty(I.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(I.from=function(e,t){return void 0===u&&(u=n(727)),u(I,e,t)})},170:function(e,t,r){"use strict";e.exports=c;var n=r(646).q,a=n.ERR_METHOD_NOT_IMPLEMENTED,i=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,l=r(403);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new i);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function c(e){if(!(this instanceof c))return new c(e);l.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(t,r){f(e,t,r)})}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new o;return e.push(null)}r(782)(c,l),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){r(new a("_transform()"))},c.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,function(e){t(e)})}},337:function(e,t,n){"use strict";function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){V(t,e)}}e.exports=O,O.WritableState=k;var o,s,l={deprecate:n(769)},u=n(678),c=n(300).Buffer,d=r.g.Uint8Array||function(){};function f(e){return c.from(e)}function p(e){return c.isBuffer(e)||e instanceof d}var h=n(25),m=n(776).getHighWaterMark,y=n(646).q,g=y.ERR_INVALID_ARG_TYPE,v=y.ERR_METHOD_NOT_IMPLEMENTED,b=y.ERR_MULTIPLE_CALLBACK,_=y.ERR_STREAM_CANNOT_PIPE,w=y.ERR_STREAM_DESTROYED,$=y.ERR_STREAM_NULL_VALUES,S=y.ERR_STREAM_WRITE_AFTER_END,E=y.ERR_UNKNOWN_ENCODING,x=h.errorOrDestroy;function A(){}function k(e,t,r){o=o||n(403),e=e||{},"boolean"!=typeof r&&(r=t instanceof o),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=m(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){M(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function O(e){var t=this instanceof(o=o||n(403));if(!t&&!s.call(O,this))return new O(e);this._writableState=new k(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function I(e,t){var r=new S;x(e,r),a.nextTick(t,r)}function C(e,t,r,n){var i;return null===r?i=new $:"string"==typeof r||t.objectMode||(i=new g("chunk",["string","Buffer"],r)),!i||(x(e,i),a.nextTick(n,i),!1)}function T(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r)),t}function P(e,t,r,n,a,i){if(!r){var o=T(t,n,a);n!==o&&(r=!0,a="buffer",n=o)}var s=t.objectMode?1:n.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:a,isBuf:r,callback:i,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else R(e,t,!1,s,n,a,i);return l}function R(e,t,r,n,a,i,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new w("write")):r?e._writev(a,t.onwrite):e._write(a,i,t.onwrite),t.sync=!1}function N(e,t,r,n,i){--t.pendingcb,r?(a.nextTick(i,n),a.nextTick(Z,e,t),e._writableState.errorEmitted=!0,x(e,n)):(i(n),e._writableState.errorEmitted=!0,x(e,n),Z(e,t))}function j(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function M(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new b;if(j(r),t)N(e,r,n,t,i);else{var o=F(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||B(e,r),n?a.nextTick(L,e,r,o,i):L(e,r,o,i)}}function L(e,t,r,n){r||D(e,t),t.pendingcb--,n(),Z(e,t)}function D(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function B(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=Array(t.bufferedRequestCount),a=t.corkedRequestsFree;a.entry=r;for(var o=0,s=!0;r;)n[o]=r,r.isBuf||(s=!1),r=r.next,o+=1;n.allBuffers=s,R(e,t,!0,t.length,n,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,u=r.encoding,c=r.callback,d=t.objectMode?1:l.length;if(R(e,t,!1,d,l,u,c),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function F(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function z(e,t){e._final(function(r){t.pendingcb--,r&&x(e,r),t.prefinished=!0,e.emit("prefinish"),Z(e,t)})}function U(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,a.nextTick(z,e,t)))}function Z(e,t){var r=F(t);if(r&&(U(e,t),0===t.pendingcb)&&(t.finished=!0,e.emit("finish"),t.autoDestroy)){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}function H(e,t,r){t.ending=!0,Z(e,t),r&&(t.finished?a.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function V(e,t,r){var n=e.entry;for(e.entry=null;n;){var a=n.callback;t.pendingcb--,a(r),n=n.next}t.corkedRequestsFree.next=e}n(782)(O,u),k.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(k.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(O,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===O&&e&&e._writableState instanceof k}})):s=function(e){return e instanceof this},O.prototype.pipe=function(){x(this,new _)},O.prototype.write=function(e,t,r){var n=this._writableState,a=!1,i=!n.objectMode&&p(e);return i&&!c.isBuffer(e)&&(e=f(e)),"function"==typeof t&&(r=t,t=null),i?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=A),n.ending?I(this,r):(i||C(this,n,e,r))&&(n.pendingcb++,a=P(this,n,i,e,t,r)),a},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||B(this,e))},O.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new E(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(O.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(O.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),O.prototype._write=function(e,t,r){r(new v("_write()"))},O.prototype._writev=null,O.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||H(this,n,r),this},Object.defineProperty(O.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),O.prototype.destroy=h.destroy,O.prototype._undestroy=h.undestroy,O.prototype._destroy=function(e,t){t(e)}},871:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i,o=r(698),s=Symbol("lastResolve"),l=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),d=Symbol("lastPromise"),f=Symbol("handlePromise"),p=Symbol("stream");function h(e,t){return{value:e,done:t}}function m(e){var t=e[s];if(null!==t){var r=e[p].read();null!==r&&(e[d]=null,e[s]=null,e[l]=null,t(h(r,!1)))}}function y(e){a.nextTick(m,e)}function g(e,t){return function(r,n){e.then(function(){if(t[c])return void r(h(void 0,!0));t[f](r,n)},n)}}var v=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf((n(i={get stream(){return this[p]},next:function(){var e,t=this,r=this[u];if(null!==r)return Promise.reject(r);if(this[c])return Promise.resolve(h(void 0,!0));if(this[p].destroyed)return new Promise(function(e,r){a.nextTick(function(){t[u]?r(t[u]):e(h(void 0,!0))})});var n=this[d];if(n)e=new Promise(g(n,this));else{var i=this[p].read();if(null!==i)return Promise.resolve(h(i,!1));e=new Promise(this[f])}return this[d]=e,e}},Symbol.asyncIterator,function(){return this}),n(i,"return",function(){var e=this;return new Promise(function(t,r){e[p].destroy(null,function(e){if(e)return void r(e);t(h(void 0,!0))})})}),i),v);e.exports=function(e){var t,r=Object.create(b,(n(t={},p,{value:e,writable:!0}),n(t,s,{value:null,writable:!0}),n(t,l,{value:null,writable:!0}),n(t,u,{value:null,writable:!0}),n(t,c,{value:e._readableState.endEmitted,writable:!0}),n(t,f,{value:function(e,t){var n=r[p].read();n?(r[d]=null,r[s]=null,r[l]=null,e(h(n,!1))):(r[s]=e,r[l]=t)},writable:!0}),t));return r[d]=null,o(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[l];null!==t&&(r[d]=null,r[s]=null,r[l]=null,t(e)),r[u]=e;return}var n=r[s];null!==n&&(r[d]=null,r[s]=null,r[l]=null,n(h(void 0,!0))),r[c]=!0}),e.on("readable",y.bind(null,r)),r}},379:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){i(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}var u=r(300).Buffer,c=r(837).inspect,d=c&&c.custom||"inspect";function f(e,t,r){u.prototype.copy.call(e,t,r)}e.exports=function(){function e(){o(this,e),this.head=null,this.tail=null,this.length=0}return l(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return u.alloc(0);for(var t=u.allocUnsafe(e>>>0),r=this.head,n=0;r;)f(r.data,t,n),n+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var a=t.data,i=e>a.length?a.length:e;if(i===a.length?n+=a:n+=a.slice(0,e),0==(e-=i)){i===a.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=a.slice(i));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=u.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var a=r.data,i=e>a.length?a.length:e;if(a.copy(t,t.length-e,0,i),0==(e-=i)){i===a.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=a.slice(i));break}++n}return this.length-=n,t}},{key:d,value:function(e,t){return c(this,a({},t,{depth:0,customInspect:!1}))}}]),e}()},25:function(e){"use strict";function t(e,t){n(e,t),r(e)}function r(e){(!e._writableState||e._writableState.emitClose)&&(!e._readableState||e._readableState.emitClose)&&e.emit("close")}function n(e,t){e.emit("error",t)}e.exports={destroy:function(e,i){var o=this,s=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return s||l?i?i(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(n,this,e)):a.nextTick(n,this,e)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!i&&e?o._writableState?o._writableState.errorEmitted?a.nextTick(r,o):(o._writableState.errorEmitted=!0,a.nextTick(t,o,e)):a.nextTick(t,o,e):i?(a.nextTick(r,o),i(e)):a.nextTick(r,o)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},698:function(e,t,r){"use strict";var n=r(646).q.ERR_STREAM_PREMATURE_CLOSE;function a(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];e.apply(this,n)}}}function i(){}function o(e){return e.setHeader&&"function"==typeof e.abort}function s(e,t,r){if("function"==typeof t)return s(e,null,t);t||(t={}),r=a(r||i);var l=t.readable||!1!==t.readable&&e.readable,u=t.writable||!1!==t.writable&&e.writable,c=function(){e.writable||f()},d=e._writableState&&e._writableState.finished,f=function(){u=!1,d=!0,l||r.call(e)},p=e._readableState&&e._readableState.endEmitted,h=function(){l=!1,p=!0,u||r.call(e)},m=function(t){r.call(e,t)},y=function(){var t;return l&&!p?(e._readableState&&e._readableState.ended||(t=new n),r.call(e,t)):u&&!d?(e._writableState&&e._writableState.ended||(t=new n),r.call(e,t)):void 0},g=function(){e.req.on("finish",f)};return o(e)?(e.on("complete",f),e.on("abort",y),e.req?g():e.on("request",g)):u&&!e._writableState&&(e.on("end",c),e.on("close",c)),e.on("end",h),e.on("finish",f),!1!==t.error&&e.on("error",m),e.on("close",y),function(){e.removeListener("complete",f),e.removeListener("abort",y),e.removeListener("request",g),e.req&&e.req.removeListener("finish",f),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",f),e.removeListener("end",h),e.removeListener("error",m),e.removeListener("close",y)}}e.exports=s},727:function(e,t,r){"use strict";function n(e,t,r,n,a,i,o){try{var s=e[i](o),l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise(function(a,i){var o=e.apply(t,r);function s(e){n(o,a,i,s,l,"next",e)}function l(e){n(o,a,i,s,l,"throw",e)}s(void 0)})}}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=r(646).q.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,r){if(t&&"function"==typeof t.next)n=t;else if(t&&t[Symbol.asyncIterator])n=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])n=t[Symbol.iterator]();else throw new l("iterable",["Iterable"],t);var n,i=new e(o({objectMode:!0},r)),s=!1;function u(){return c.apply(this,arguments)}function c(){return(c=a(function*(){try{var e=yield n.next(),t=e.value;e.done?i.push(null):i.push((yield t))?u():s=!1}catch(e){i.destroy(e)}})).apply(this,arguments)}return i._read=function(){s||(s=!0,u())},i}},442:function(e,t,r){"use strict";function n(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var a,i=r(646).q,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function l(e){if(e)throw e}function u(e){return e.setHeader&&"function"==typeof e.abort}function c(e,t,i,o){o=n(o);var l=!1;e.on("close",function(){l=!0}),void 0===a&&(a=r(698)),a(e,{readable:t,writable:i},function(e){if(e)return o(e);l=!0,o()});var c=!1;return function(t){if(!l&&!c){if(c=!0,u(e))return e.abort();if("function"==typeof e.destroy)return e.destroy();o(t||new s("pipe"))}}}function d(e){e()}function f(e,t){return e.pipe(t)}function p(e){return e.length&&"function"==typeof e[e.length-1]?e.pop():l}e.exports=function(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=p(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new o("streams");var i=r.map(function(t,n){var o=n<r.length-1;return c(t,o,n>0,function(t){e||(e=t),t&&i.forEach(d),o||(i.forEach(d),a(e))})});return r.reduce(f)}},776:function(e,t,r){"use strict";var n=r(646).q.ERR_INVALID_OPT_VALUE;function a(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}e.exports={getHighWaterMark:function(e,t,r,i){var o=a(t,i,r);if(null!=o){if(!(isFinite(o)&&Math.floor(o)===o)||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},678:function(e,t,r){e.exports=r(781)},55:function(e,t,r){var n=r(300),a=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return a(e,t,r)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=o),o.prototype=Object.create(a.prototype),i(a,o),o.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return a(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=a(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return a(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},173:function(e,t,r){e.exports=a;var n=r(361).EventEmitter;function a(){n.call(this)}r(782)(a,n),a.Readable=r(709),a.Writable=r(337),a.Duplex=r(403),a.Transform=r(170),a.PassThrough=r(889),a.finished=r(698),a.pipeline=r(442),a.Stream=a,a.prototype.pipe=function(e,t){var r=this;function a(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",a),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",l));var o=!1;function s(){o||(o=!0,e.end())}function l(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(c(),0===n.listenerCount(this,"error"))throw e}function c(){r.removeListener("data",a),e.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",l),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return r.on("error",u),e.on("error",u),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e}},704:function(e,t,r){"use strict";var n=r(55).Buffer,a=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function o(e){var t=i(e);if("string"!=typeof t&&(n.isEncoding===a||!a(e)))throw Error("Unknown encoding: "+e);return t||e}function s(e){var t;switch(this.encoding=o(e),this.encoding){case"utf16le":this.text=h,this.end=m,t=4;break;case"utf8":this.fillLast=d,t=4;break;case"base64":this.text=y,this.end=g,t=3;break;default:this.write=v,this.end=b;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function l(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function u(e,t,r){var n=t.length-1;if(n<r)return 0;var a=l(t[n]);return a>=0?(a>0&&(e.lastNeed=a-1),a):--n<r||-2===a?0:(a=l(t[n]))>=0?(a>0&&(e.lastNeed=a-2),a):--n<r||-2===a?0:(a=l(t[n]))>=0?(a>0&&(2===a?a=0:e.lastNeed=a-3),a):0}function c(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,"�"}}function d(e){var t=this.lastTotal-this.lastNeed,r=c(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function f(e,t){var r=u(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function p(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function h(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function m(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function y(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function g(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function v(e){return e.toString(this.encoding)}function b(e){return e&&e.length?this.write(e):""}t.s=s,s.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=p,s.prototype.text=f,s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},769:function(e){function t(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function e(e,r){if(t("noDeprecation"))return e;var n=!1;return function(){if(!n){if(t("throwDeprecation"))throw Error(r);t("traceDeprecation")?console.trace(r):console.warn(r),n=!0}return e.apply(this,arguments)}}},300:function(e){"use strict";e.exports=r(51642)},361:function(e){"use strict";e.exports=r(35978)},781:function(e){"use strict";e.exports=r(35978).EventEmitter},837:function(e){"use strict";e.exports=r(84864)}},i={};function o(e){var r=i[e];if(void 0!==r)return r.exports;var n=i[e]={exports:{}},a=!0;try{t[e](n,n.exports,o),a=!1}finally{a&&delete i[e]}return n.exports}o.ab=n+"/",e.exports=o(173)}()},47500:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=i(r(2166)),a=i(r(13108));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return(0,n.default)((0,a.default)(e,t),t)}e.exports=t.default,e.exports.default=t.default},47684:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;var n=42;for(var a in e[t]=n,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==n||!0!==o.enumerable)return!1}return!0}},47694:(e,t,r)=>{"use strict";r.d(t,{P:()=>e_});var n,a,i,o,s,l,u,c,d,f,p,h,m,y,g=r(34727),v="vercel.ai.error",b=Symbol.for(v),_=class e extends Error{constructor({name:e,message:t,cause:r}){super(t),this[n]=!0,this.name=e,this.cause=r}static isInstance(t){return e.hasMarker(t,v)}static hasMarker(e,t){let r=Symbol.for(t);return null!=e&&"object"==typeof e&&r in e&&"boolean"==typeof e[r]&&!0===e[r]}};n=b;var w=_,$="AI_APICallError";a=Symbol.for(`vercel.ai.error.${$}`);var S="AI_EmptyResponseBodyError";function E(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}i=Symbol.for(`vercel.ai.error.${S}`);var x="AI_InvalidArgumentError",A=`vercel.ai.error.${x}`,k=Symbol.for(A),O=class extends w{constructor({message:e,cause:t,argument:r}){super({name:x,message:e,cause:t}),this[o]=!0,this.argument=r}static isInstance(e){return w.hasMarker(e,A)}};o=k;var I="AI_InvalidPromptError";s=Symbol.for(`vercel.ai.error.${I}`);var C="AI_InvalidResponseDataError";l=Symbol.for(`vercel.ai.error.${C}`);var T="AI_JSONParseError";u=Symbol.for(`vercel.ai.error.${T}`);var P="AI_LoadAPIKeyError",R=`vercel.ai.error.${P}`,N=Symbol.for(R),j=class extends w{constructor({message:e}){super({name:P,message:e}),this[c]=!0}static isInstance(e){return w.hasMarker(e,R)}};c=N;var M="AI_LoadSettingError";d=Symbol.for(`vercel.ai.error.${M}`);var L="AI_NoContentGeneratedError";f=Symbol.for(`vercel.ai.error.${L}`);var D="AI_NoSuchModelError",B=`vercel.ai.error.${D}`,F=Symbol.for(B),z=class extends w{constructor({errorName:e=D,modelId:t,modelType:r,message:n=`No such ${r}: ${t}`}){super({name:e,message:n}),this[p]=!0,this.modelId=t,this.modelType=r}static isInstance(e){return w.hasMarker(e,B)}};p=F;var U="AI_TooManyEmbeddingValuesForCallError";h=Symbol.for(`vercel.ai.error.${U}`);var Z="AI_TypeValidationError",H=`vercel.ai.error.${Z}`,V=Symbol.for(H),W=class e extends w{constructor({value:e,cause:t}){super({name:Z,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${E(t)}`,cause:t}),this[m]=!0,this.value=e}static isInstance(e){return w.hasMarker(e,H)}static wrap({value:t,cause:r}){return e.isInstance(r)&&r.value===t?r:new e({value:t,cause:r})}};m=V;var q=W,K="AI_UnsupportedFunctionalityError";function G(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||(Array.isArray(e)?e.every(G):"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&G(t)))}y=Symbol.for(`vercel.ai.error.${K}`);let J=(e,t=21)=>(r=t)=>{let n="",a=0|r;for(;a--;)n+=e[Math.random()*e.length|0];return n};r(29486);var Y=r(29143);function X(e,t){let r=[],n=e;for(let e=0;e<t.length;){let a=t[e++];"\n"===a?(r.push(n),n=""):"\r"===a?(r.push(n),n="","\n"===t[e]&&e++):n+=a}return{lines:r,incompleteLine:n}}function Q(e){let t={};return e.headers.forEach((e,r)=>{t[r]=e}),t}function ee(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>null!=t))}function et(e){return e instanceof Error&&("AbortError"===e.name||"TimeoutError"===e.name)}(({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let a=J(r,t);if(null!=e){if(r.includes(n))throw new O({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return t=>`${e}${n}${a(t)}`}})();function er({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if("string"==typeof e)return e;if(null!=e)throw new j({message:`${n} API key must be a string.`});if(void 0===Y)throw new j({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(null==(e=Y.env[t]))throw new j({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if("string"!=typeof e)throw new j({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}var en=Symbol.for("vercel.ai.validator");function ea(e){return{[en]:!0,validate:e}}function ei(e){return"object"==typeof e&&null!==e&&en in e&&!0===e[en]&&"validate"in e}function eo(e){return ei(e)?e:es(e)}function es(e){return ea(t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}})}function el({value:e,schema:t}){let r=eu({value:e,schema:t});if(!r.success)throw TypeValidationError.wrap({value:e,cause:r.error});return r.value}function eu({value:e,schema:t}){let r=eo(t);try{if(null==r.validate)return{success:!0,value:e};let t=r.validate(e);if(t.success)return t;return{success:!1,error:q.wrap({value:e,cause:t.error})}}catch(t){return{success:!1,error:q.wrap({value:e,cause:t})}}}var ec=()=>globalThis.fetch,{btoa:ed,atob:ef}=globalThis;function ep(e){return null==e?void 0:e.replace(/\/$/,"")}var eh=r(31078),em=e=>{var t,r;return null==e?void 0:{deepseek:{promptCacheHitTokens:null!=(t=e.prompt_cache_hit_tokens)?t:NaN,promptCacheMissTokens:null!=(r=e.prompt_cache_miss_tokens)?r:NaN}}},ey={extractMetadata:({parsedBody:e})=>{let t=eu({value:e,schema:ev});return t.success&&null!=t.value.usage?em(t.value.usage):void 0},createStreamExtractor:()=>{let e;return{processChunk:t=>{var r,n;let a=eu({value:t,schema:eb});a.success&&(null==(n=null==(r=a.value.choices)?void 0:r[0])?void 0:n.finish_reason)==="stop"&&a.value.usage&&(e=a.value.usage)},buildMetadata:()=>em(e)}}},eg=eh.z.object({prompt_cache_hit_tokens:eh.z.number().nullish(),prompt_cache_miss_tokens:eh.z.number().nullish()}),ev=eh.z.object({usage:eg.nullish()}),eb=eh.z.object({choices:eh.z.array(eh.z.object({finish_reason:eh.z.string().nullish()})).nullish(),usage:eg.nullish()});function e_(e={}){var t;let r=ep(null!=(t=e.baseURL)?t:"https://api.deepseek.com/v1"),n=()=>({Authorization:`Bearer ${er({apiKey:e.apiKey,environmentVariableName:"DEEPSEEK_API_KEY",description:"DeepSeek API key"})}`,...e.headers}),a=(t,a={})=>new g.Ey(t,a,{provider:"deepseek.chat",url:({path:e})=>`${r}${e}`,headers:n,fetch:e.fetch,defaultObjectGenerationMode:"json",metadataExtractor:ey}),i=(e,t)=>a(e,t);return i.languageModel=a,i.chat=a,i.textEmbeddingModel=e=>{throw new z({modelId:e,modelType:"textEmbeddingModel"})},i}e_()},47701:(e,t,r)=>{var n=r(9823).Buffer,a=r(15618),i=r(3347),o=r(46994),s=r(21175),l=r(84864);function u(e,t){return n.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function c(e,t,r){r=r||"utf8";var n=u(s(e),"binary"),a=u(s(t),r);return l.format("%s.%s",n,a)}function d(e){var t=e.header,r=e.payload,n=e.secret||e.privateKey,a=e.encoding,o=i(t.alg),s=c(t,r,a),u=o.sign(s,n);return l.format("%s.%s",s,u)}function f(e){var t=new a(e.secret||e.privateKey||e.key);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=t,this.payload=new a(e.payload),this.secret.once("close",(function(){!this.payload.writable&&this.readable&&this.sign()}).bind(this)),this.payload.once("close",(function(){!this.secret.writable&&this.readable&&this.sign()}).bind(this))}l.inherits(f,o),f.prototype.sign=function(){try{var e=d({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},f.sign=d,e.exports=f},47824:(e,t,r)=>{"use strict";var n=r(54913),a=r(80454),i=n("RegExp.prototype.exec"),o=r(72206);e.exports=function(e){if(!a(e))throw new o("`regex` must be a RegExp");return function(t){return null!==i(e,t)}}},47967:(e,t,r)=>{"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function i(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function s(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=r(55729);r(56760),r(67763);var u=r(46440),c=r(43232),d=r(56121),f=r(11538),p={to:d.string.isRequired,containerId:d.string,container:d.object,activeClass:d.string,spy:d.bool,smooth:d.oneOfType([d.bool,d.string]),offset:d.number,delay:d.number,isDynamic:d.bool,onClick:d.func,duration:d.oneOfType([d.number,d.func]),absolute:d.bool,onSetActive:d.func,onSetInactive:d.func,ignoreCancelEvents:d.bool,hashSpy:d.bool,spyThrottle:d.number};e.exports={Scroll:function(e,t){console.warn("Helpers.Scroll is deprecated since v1.7.0");var r=t||c,d=function(t){function c(e){i(this,c);var t=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return h.call(t),t.state={active:!1},t}return s(c,t),a(c,[{key:"getScrollSpyContainer",value:function(){var e=this.props.containerId,t=this.props.container;return e?document.getElementById(e):t&&t.nodeType?t:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var e=this.getScrollSpyContainer();u.isMounted(e)||u.mount(e,this.props.spyThrottle),this.props.hashSpy&&(f.isMounted()||f.mount(r),f.mapContainer(this.props.to,e)),this.props.spy&&u.addStateHandler(this.stateHandler),u.addSpyHandler(this.spyHandler,e),this.setState({container:e})}}},{key:"componentWillUnmount",value:function(){u.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var t="";t=this.state&&this.state.active?((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():this.props.className;var r=n({},this.props);for(var a in p)r.hasOwnProperty(a)&&delete r[a];return r.className=t,r.onClick=this.handleClick,l.createElement(e,r)}}]),c}(l.Component),h=function(){var e=this;this.scrollTo=function(t,a){r.scrollTo(t,n({},e.state,a))},this.handleClick=function(t){e.props.onClick&&e.props.onClick(t),t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),e.scrollTo(e.props.to,e.props)},this.stateHandler=function(){r.getActiveLink()!==e.props.to&&(null!==e.state&&e.state.active&&e.props.onSetInactive&&e.props.onSetInactive(),e.setState({active:!1}))},this.spyHandler=function(t){var n=e.getScrollSpyContainer();if(!f.isMounted()||f.isInitialized()){var a=e.props.to,i=null,o=0,s=0,l=0;if(n.getBoundingClientRect&&(l=n.getBoundingClientRect().top),!i||e.props.isDynamic){if(!(i=r.get(a)))return;var c=i.getBoundingClientRect();s=(o=c.top-l+t)+c.height}var d=t-e.props.offset,p=d>=Math.floor(o)&&d<Math.floor(s),h=d<Math.floor(o)||d>=Math.floor(s),m=r.getActiveLink();if(h)return a===m&&r.setActiveLink(void 0),e.props.hashSpy&&f.getHash()===a&&f.changeHash(),e.props.spy&&e.state.active&&(e.setState({active:!1}),e.props.onSetInactive&&e.props.onSetInactive()),u.updateStates();if(p&&m!==a)return r.setActiveLink(a),e.props.hashSpy&&f.changeHash(a),e.props.spy&&(e.setState({active:!0}),e.props.onSetActive&&e.props.onSetActive(a)),u.updateStates()}}};return d.propTypes=p,d.defaultProps={offset:0},d},Element:function(e){console.warn("Helpers.Element is deprecated since v1.7.0");var t=function(t){function r(e){i(this,r);var t=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.childBindings={domNode:null},t}return s(r,t),a(r,[{key:"componentDidMount",value:function(){if("undefined"==typeof window)return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(e){this.props.name!==e.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if("undefined"==typeof window)return!1;c.unregister(this.props.name)}},{key:"registerElems",value:function(e){c.register(e,this.childBindings.domNode)}},{key:"render",value:function(){return l.createElement(e,n({},this.props,{parentBindings:this.childBindings}))}}]),r}(l.Component);return t.propTypes={name:d.string,id:d.string},t}}},48033:(e,t,r)=>{"use strict";var n=r(27721)(),a=r(54913)("Object.prototype.toString"),i=function(e){return(!n||!e||"object"!=typeof e||!(Symbol.toStringTag in e))&&"[object Arguments]"===a(e)},o=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"length"in e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==a(e)&&"callee"in e&&"[object Function]"===a(e.callee)},s=function(){return i(arguments)}();i.isLegacyArguments=o,e.exports=s?i:o},48479:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(,(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}(,((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?))?\)$/i,o=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(\s(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}\s?(\/\s((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?)\s?)?\)$/i;function s(e){(0,n.default)(e);var t=e.replace(/\s+/g," ").replace(/\s?(hsla?\(|\)|,)\s?/ig,"$1");return -1!==t.indexOf(",")?i.test(t):o.test(t)}e.exports=t.default,e.exports.default=t.default},48983:(e,t)=>{"use strict";t.byteLength=u,t.toByteArray=d,t.fromByteArray=h;for(var r=[],n=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,s=i.length;o<s;++o)r[o]=i[o],n[i.charCodeAt(o)]=o;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function u(e){var t=l(e),r=t[0],n=t[1];return(r+n)*3/4-n}function c(e,t,r){return(t+r)*3/4-r}function d(e){var t,r,i=l(e),o=i[0],s=i[1],u=new a(c(e,o,s)),d=0,f=s>0?o-4:o;for(r=0;r<f;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[d++]=t>>16&255,u[d++]=t>>8&255,u[d++]=255&t;return 2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[d++]=255&t),1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[d++]=t>>8&255,u[d++]=255&t),u}function f(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function p(e,t,r){for(var n=[],a=t;a<r;a+=3)n.push(f((e[a]<<16&0xff0000)+(e[a+1]<<8&65280)+(255&e[a+2])));return n.join("")}function h(e){for(var t,n=e.length,a=n%3,i=[],o=16383,s=0,l=n-a;s<l;s+=o)i.push(p(e,s,s+o>l?l:s+o));return 1===a?i.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===a&&i.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),i.join("")}n[45]=62,n[95]=63},49059:(e,t,r)=>{"use strict";let n=r(77721),a=r(26829),{safeRe:i,t:o}=r(8887);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let n,a=t.includePrerelease?i[o.COERCERTLFULL]:i[o.COERCERTL];for(;(n=a.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&n.index+n[0].length===r.index+r[0].length||(r=n),a.lastIndex=n.index+n[1].length+n[2].length;a.lastIndex=-1}else r=e.match(t.includePrerelease?i[o.COERCEFULL]:i[o.COERCE]);if(null===r)return null;let s=r[2],l=r[3]||"0",u=r[4]||"0",c=t.includePrerelease&&r[5]?`-${r[5]}`:"",d=t.includePrerelease&&r[6]?`+${r[6]}`:"";return a(`${s}.${l}.${u}${c}${d}`,t)}},49512:(e,t,r)=>{"use strict";let n=r(26829);e.exports=(e,t)=>{let r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},49600:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=o(r(79922)),a=r(32539),i=r(25247);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return(0,n.default)(e),a.fullWidth.test(e)&&i.halfWidth.test(e)}e.exports=t.default,e.exports.default=t.default},49694:e=>{"use strict";let t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},50141:(e,t,r)=>{"use strict";let n=Symbol("SemVer ANY");class a{static get ANY(){return n}constructor(e,t){if(t=i(t),e instanceof a)if(!!t.loose===e.loose)return e;else e=e.value;u("comparator",e=e.trim().split(/\s+/).join(" "),t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(e){let t=this.options.loose?o[s.COMPARATORLOOSE]:o[s.COMPARATOR],r=e.match(t);if(!r)throw TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new c(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(u("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof a))throw TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):!((t=i(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">"))}}e.exports=a;let i=r(49694),{safeRe:o,t:s}=r(8887),l=r(94762),u=r(77909),c=r(77721),d=r(5074)},50553:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var n=o(r(79922)),a=o(r(89089)),i=o(r(29203));function o(e){return e&&e.__esModule?e:{default:e}}var s={ignoreCase:!1,minOccurrences:1};function l(e,t,r){return((0,n.default)(e),(r=(0,i.default)(r,s)).ignoreCase)?e.toLowerCase().split((0,a.default)(t).toLowerCase()).length>r.minOccurrences:e.split((0,a.default)(t)).length>r.minOccurrences}e.exports=t.default,e.exports.default=t.default},50560:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,o=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,s=function(e){var t=e.match(/^(\d{4})-?(\d{3})([ T]{1}\.*|$)/);if(t){var r=Number(t[1]),n=Number(t[2]);return r%4==0&&r%100!=0||r%400==0?n<=366:n<=365}var a=e.match(/(\d{4})-?(\d{0,2})-?(\d*)/).map(Number),i=a[1],o=a[2],s=a[3],l=o?"0".concat(o).slice(-2):o,u=s?"0".concat(s).slice(-2):s,c=new Date("".concat(i,"-").concat(l||"01","-").concat(u||"01"));return!o||!s||c.getUTCFullYear()===i&&c.getUTCMonth()+1===o&&c.getUTCDate()===s};function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,n.default)(e);var r=t.strictSeparator?o.test(e):i.test(e);return r&&t.strict?s(e):r}e.exports=t.default,e.exports.default=t.default},50736:(e,t,r)=>{"use strict";let n=r(26189);e.exports=(e,t,r)=>n(e,t,r)>=0},50865:(e,t,r)=>{"use strict";var n=r(92709),a=r(61429),i=r(21093);e.exports=n?function(e){return n(e)}:a?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw TypeError("getProto: not an object");return a(e)}:i?function(e){return i(e)}:null},50892:(e,t,r)=>{"use strict";let n=r(77721);e.exports=(e,t)=>new n(e,t).patch},51429:(e,t,r)=>{e.exports={decode:r(63809),verify:r(68750),sign:r(86246),JsonWebTokenError:r(16076),NotBeforeError:r(57759),TokenExpiredError:r(75657)}},51513:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var n=s(r(79922)),a=s(r(74499)),i=s(r(26433)),o=s(r(29203));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return p(e)||f(e,t)||c(e,t)||u()}function u(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function p(e){if(Array.isArray(e))return e}var h={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},m=/^\[([^\]]+)\](?::([0-9]+))?$/;function y(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(e===n||y(n)&&n.test(e))return!0}return!1}function v(e,t){if((0,n.default)(e),!e||/[\s<>]/.test(e)||0===e.indexOf("mailto:")||(t=(0,o.default)(t,h)).validate_length&&e.length>=2083||!t.allow_fragments&&e.includes("#")||!t.allow_query_components&&(e.includes("?")||e.includes("&")))return!1;if((p=(e=(p=(e=(p=e.split("#")).shift()).split("?")).shift()).split("://")).length>1){if(r=p.shift().toLowerCase(),t.require_valid_protocol&&-1===t.protocols.indexOf(r))return!1}else if(t.require_protocol)return!1;else if("//"===e.slice(0,2)){if(!t.allow_protocol_relative_urls)return!1;p[0]=e.slice(2)}if(""===(e=p.join("://")))return!1;if(""===(e=(p=e.split("/")).shift())&&!t.require_host)return!0;if((p=e.split("@")).length>1){if(t.disallow_auth||""===p[0]||(s=p.shift()).indexOf(":")>=0&&s.split(":").length>2)return!1;var r,s,u,c,d,f,p,y,v=l(s.split(":"),2),b=v[0],_=v[1];if(""===b&&""===_)return!1}c=p.join("@"),f=null,y=null;var w=c.match(m);if(w?(u="",y=w[1],f=w[2]||null):(u=(p=c.split(":")).shift(),p.length&&(f=p.join(":"))),null!==f&&f.length>0){if(d=parseInt(f,10),!/^[0-9]+$/.test(f)||d<=0||d>65535)return!1}else if(t.require_port)return!1;return t.host_whitelist?g(u,t.host_whitelist):""===u&&!t.require_host||(!!(0,i.default)(u)||!!(0,a.default)(u,t)||!!y&&!!(0,i.default)(y,6))&&(u=u||y,!(t.host_blacklist&&g(u,t.host_blacklist)))}e.exports=t.default,e.exports.default=t.default},51642:(e,t,r)=>{"use strict";let n=r(48983),a=r(31838),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=_,t.INSPECT_MAX_BYTES=50;let o=0x7fffffff;function s(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}function l(e){if(e>o)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return p(e)}return c(e,t,r)}function c(e,t,r){if("string"==typeof e)return h(e,t);if(ArrayBuffer.isView(e))return y(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(eo(e,ArrayBuffer)||e&&eo(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(eo(e,SharedArrayBuffer)||e&&eo(e.buffer,SharedArrayBuffer)))return g(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,r);let a=v(e);if(a)return a;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function d(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function f(e,t,r){return(d(e),e<=0)?l(e):void 0!==t?"string"==typeof r?l(e).fill(t,r):l(e).fill(t):l(e)}function p(e){return d(e),l(e<0?0:0|b(e))}function h(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!u.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=0|w(e,t),n=l(r),a=n.write(e,t);return a!==r&&(n=n.slice(0,a)),n}function m(e){let t=e.length<0?0:0|b(e.length),r=l(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function y(e){if(eo(e,Uint8Array)){let t=new Uint8Array(e);return g(t.buffer,t.byteOffset,t.byteLength)}return m(e)}function g(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),u.prototype),n}function v(e){if(u.isBuffer(e)){let t=0|b(e.length),r=l(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||es(e.length)?l(0):m(e):"Buffer"===e.type&&Array.isArray(e.data)?m(e.data):void 0}function b(e){if(e>=o)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function _(e){return+e!=e&&(e=0),u.alloc(+e)}function w(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||eo(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let a=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return et(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return ea(e).length;default:if(a)return n?-1:et(e).length;t=(""+t).toLowerCase(),a=!0}}function $(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return L(this,t,r);case"utf8":case"utf-8":return P(this,t,r);case"ascii":return j(this,t,r);case"latin1":case"binary":return M(this,t,r);case"base64":return T(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,r);default:if(n)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function S(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function E(e,t,r,n,a){if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),es(r*=1)&&(r=a?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(a)return -1;else r=e.length-1;else if(r<0)if(!a)return -1;else r=0;if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:x(e,t,r,n,a);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(a)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return x(e,[t],r,n,a)}throw TypeError("val must be string, number or Buffer")}function x(e,t,r,n,a){let i,o=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;o=2,s/=2,l/=2,r/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(a){let n=-1;for(i=r;i<s;i++)if(u(e,i)===u(t,-1===n?0:i-n)){if(-1===n&&(n=i),i-n+1===l)return n*o}else -1!==n&&(i-=i-n),n=-1}else for(r+l>s&&(r=s-l),i=r;i>=0;i--){let r=!0;for(let n=0;n<l;n++)if(u(e,i+n)!==u(t,n)){r=!1;break}if(r)return i}return -1}function A(e,t,r,n){let a;r=Number(r)||0;let i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;let o=t.length;for(n>o/2&&(n=o/2),a=0;a<n;++a){let n=parseInt(t.substr(2*a,2),16);if(es(n))break;e[r+a]=n}return a}function k(e,t,r,n){return ei(et(t,e.length-r),e,r,n)}function O(e,t,r,n){return ei(er(t),e,r,n)}function I(e,t,r,n){return ei(ea(t),e,r,n)}function C(e,t,r,n){return ei(en(t,e.length-r),e,r,n)}function T(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function P(e,t,r){r=Math.min(e.length,r);let n=[],a=t;for(;a<r;){let t=e[a],i=null,o=t>239?4:t>223?3:t>191?2:1;if(a+o<=r){let r,n,s,l;switch(o){case 1:t<128&&(i=t);break;case 2:(192&(r=e[a+1]))==128&&(l=(31&t)<<6|63&r)>127&&(i=l);break;case 3:r=e[a+1],n=e[a+2],(192&r)==128&&(192&n)==128&&(l=(15&t)<<12|(63&r)<<6|63&n)>2047&&(l<55296||l>57343)&&(i=l);break;case 4:r=e[a+1],n=e[a+2],s=e[a+3],(192&r)==128&&(192&n)==128&&(192&s)==128&&(l=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s)>65535&&l<1114112&&(i=l)}}null===i?(i=65533,o=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i),a+=o}return N(n)}t.kMaxLength=0x7fffffff,u.TYPED_ARRAY_SUPPORT=s(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,r){return f(e,t,r)},u.allocUnsafe=function(e){return p(e)},u.allocUnsafeSlow=function(e){return p(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(eo(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),eo(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let a=0,i=Math.min(r,n);a<i;++a)if(e[a]!==t[a]){r=e[a],n=t[a];break}return r<n?-1:+(n<r)},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let n=u.allocUnsafe(t),a=0;for(r=0;r<e.length;++r){let t=e[r];if(eo(t,Uint8Array))a+t.length>n.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(n,a)):Uint8Array.prototype.set.call(n,t,a);else if(u.isBuffer(t))t.copy(n,a);else throw TypeError('"list" argument must be an Array of Buffers');a+=t.length}return n},u.byteLength=w,u.prototype._isBuffer=!0,u.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)S(this,t,t+1);return this},u.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)S(this,t,t+3),S(this,t+1,t+2);return this},u.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)S(this,t,t+7),S(this,t+1,t+6),S(this,t+2,t+5),S(this,t+3,t+4);return this},u.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?P(this,0,e):$.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(e,t,r,n,a){if(eo(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===a&&(a=this.length),t<0||r>e.length||n<0||a>this.length)throw RangeError("out of range index");if(n>=a&&t>=r)return 0;if(n>=a)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,a>>>=0,this===e)return 0;let i=a-n,o=r-t,s=Math.min(i,o),l=this.slice(n,a),c=e.slice(t,r);for(let e=0;e<s;++e)if(l[e]!==c[e]){i=l[e],o=c[e];break}return i<o?-1:+(o<i)},u.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return E(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return E(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let a=this.length-t;if((void 0===r||r>a)&&(r=a),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let i=!1;for(;;)switch(n){case"hex":return A(this,e,t,r);case"utf8":case"utf-8":return k(this,e,t,r);case"ascii":case"latin1":case"binary":return O(this,e,t,r);case"base64":return I(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,r);default:if(i)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};let R=4096;function N(e){let t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=R));return r}function j(e,t,r){let n="";r=Math.min(e.length,r);for(let a=t;a<r;++a)n+=String.fromCharCode(127&e[a]);return n}function M(e,t,r){let n="";r=Math.min(e.length,r);for(let a=t;a<r;++a)n+=String.fromCharCode(e[a]);return n}function L(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let a="";for(let n=t;n<r;++n)a+=el[e[n]];return a}function D(e,t,r){let n=e.slice(t,r),a="";for(let e=0;e<n.length-1;e+=2)a+=String.fromCharCode(n[e]+256*n[e+1]);return a}function B(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function F(e,t,r,n,a,i){if(!u.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<i)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function z(e,t,r,n,a){J(t,n,a,e,r,7);let i=Number(t&BigInt(0xffffffff));e[r++]=i,i>>=8,e[r++]=i,i>>=8,e[r++]=i,i>>=8,e[r++]=i;let o=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function U(e,t,r,n,a){J(t,n,a,e,r,7);let i=Number(t&BigInt(0xffffffff));e[r+7]=i,i>>=8,e[r+6]=i,i>>=8,e[r+5]=i,i>>=8,e[r+4]=i;let o=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function Z(e,t,r,n,a,i){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function H(e,t,r,n,i){return t*=1,r>>>=0,i||Z(e,t,r,4,34028234663852886e22,-34028234663852886e22),a.write(e,t,r,n,23,4),r+4}function V(e,t,r,n,i){return t*=1,r>>>=0,i||Z(e,t,r,8,17976931348623157e292,-17976931348623157e292),a.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);let n=this[e],a=1,i=0;for(;++i<t&&(a*=256);)n+=this[e+i]*a;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);let n=this[e+--t],a=1;for(;t>0&&(a*=256);)n+=this[e+--t]*a;return n},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=eu(function(e){Y(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&X(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],a=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*r;return BigInt(n)+(BigInt(a)<<BigInt(32))}),u.prototype.readBigUInt64BE=eu(function(e){Y(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&X(e,this.length-8);let n=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],a=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(a)}),u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);let n=this[e],a=1,i=0;for(;++i<t&&(a*=256);)n+=this[e+i]*a;return n>=(a*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);let n=t,a=1,i=this[e+--n];for(;n>0&&(a*=256);)i+=this[e+--n]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return(e>>>=0,t||B(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||B(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||B(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=eu(function(e){Y(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&X(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),u.prototype.readBigInt64BE=eu(function(e){Y(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&X(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r)}),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||B(e,4,this.length),a.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||B(e,4,this.length),a.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||B(e,8,this.length),a.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||B(e,8,this.length),a.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;F(this,e,t,r,n,0)}let a=1,i=0;for(this[t]=255&e;++i<r&&(a*=256);)this[t+i]=e/a&255;return t+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;F(this,e,t,r,n,0)}let a=r-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||F(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||F(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||F(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||F(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||F(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=eu(function(e,t=0){return z(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=eu(function(e,t=0){return U(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t>>>=0,!n){let n=Math.pow(2,8*r-1);F(this,e,t,r,n-1,-n)}let a=0,i=1,o=0;for(this[t]=255&e;++a<r&&(i*=256);)e<0&&0===o&&0!==this[t+a-1]&&(o=1),this[t+a]=(e/i|0)-o&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t>>>=0,!n){let n=Math.pow(2,8*r-1);F(this,e,t,r,n-1,-n)}let a=r-1,i=1,o=0;for(this[t+a]=255&e;--a>=0&&(i*=256);)e<0&&0===o&&0!==this[t+a+1]&&(o=1),this[t+a]=(e/i|0)-o&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||F(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||F(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||F(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||F(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||F(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=eu(function(e,t=0){return z(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=eu(function(e,t=0){return U(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeFloatLE=function(e,t,r){return H(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return H(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return V(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return V(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let a=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),a},u.prototype.fill=function(e,t,r,n){let a;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{let i=u.isBuffer(e)?e:u.from(e,n),o=i.length;if(0===o)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-t;++a)this[a+t]=i[a%o]}return this};let W={};function q(e,t,r){W[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function K(e){let t="",r=e.length,n=+("-"===e[0]);for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function G(e,t,r){Y(t,"offset"),(void 0===e[t]||void 0===e[t+r])&&X(t,e.length-(r+1))}function J(e,t,r,n,a,i){if(e>r||e<t){let n,a="bigint"==typeof t?"n":"";throw n=i>3?0===t||t===BigInt(0)?`>= 0${a} and < 2${a} ** ${(i+1)*8}${a}`:`>= -(2${a} ** ${(i+1)*8-1}${a}) and < 2 ** ${(i+1)*8-1}${a}`:`>= ${t}${a} and <= ${r}${a}`,new W.ERR_OUT_OF_RANGE("value",n,e)}G(n,a,i)}function Y(e,t){if("number"!=typeof e)throw new W.ERR_INVALID_ARG_TYPE(t,"number",e)}function X(e,t,r){if(Math.floor(e)!==e)throw Y(e,r),new W.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new W.ERR_BUFFER_OUT_OF_BOUNDS;throw new W.ERR_OUT_OF_RANGE(r||"offset",`>= ${+!!r} and <= ${t}`,e)}q("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),q("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),q("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,a=r;return Number.isInteger(r)&&Math.abs(r)>0x100000000?a=K(String(r)):"bigint"==typeof r&&(a=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(a=K(a)),a+="n"),n+=` It must be ${t}. Received ${a}`},RangeError);let Q=/[^+/0-9A-Za-z-_]/g;function ee(e){if((e=(e=e.split("=")[0]).trim().replace(Q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function et(e,t){let r;t=t||1/0;let n=e.length,a=null,i=[];for(let o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!a){if(r>56319||o+1===n){(t-=3)>-1&&i.push(239,191,189);continue}a=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),a=r;continue}r=(a-55296<<10|r-56320)+65536}else a&&(t-=3)>-1&&i.push(239,191,189);if(a=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return i}function er(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function en(e,t){let r,n,a=[];for(let i=0;i<e.length&&!((t-=2)<0);++i)n=(r=e.charCodeAt(i))>>8,a.push(r%256),a.push(n);return a}function ea(e){return n.toByteArray(ee(e))}function ei(e,t,r,n){let a;for(a=0;a<n&&!(a+r>=t.length)&&!(a>=e.length);++a)t[a+r]=e[a];return a}function eo(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function es(e){return e!=e}let el=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let a=0;a<16;++a)t[n+a]=e[r]+e[a]}return t}();function eu(e){return"undefined"==typeof BigInt?ec:e}function ec(){throw Error("BigInt not supported")}},52175:(e,t,r)=>{"use strict";let n,a,i,o,s,l,u,c,d,f;r.d(t,{z4:()=>nd,Ay:()=>nf});let p="RFC3986",h={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},m="RFC1738",y=(Object.prototype.hasOwnProperty,Array.isArray),g=(()=>{let e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),v=1024,b=(e,t,r,n,a)=>{if(0===e.length)return e;let i=e;if("symbol"==typeof e?i=Symbol.prototype.toString.call(e):"string"!=typeof e&&(i=String(e)),"iso-8859-1"===r)return escape(i).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});let o="";for(let e=0;e<i.length;e+=v){let t=i.length>=v?i.slice(e,e+v):i,r=[];for(let e=0;e<t.length;++e){let n=t.charCodeAt(e);if(45===n||46===n||95===n||126===n||n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122||a===m&&(40===n||41===n)){r[r.length]=t.charAt(e);continue}if(n<128){r[r.length]=g[n];continue}if(n<2048){r[r.length]=g[192|n>>6]+g[128|63&n];continue}if(n<55296||n>=57344){r[r.length]=g[224|n>>12]+g[128|n>>6&63]+g[128|63&n];continue}e+=1,n=65536+((1023&n)<<10|1023&t.charCodeAt(e)),r[r.length]=g[240|n>>18]+g[128|n>>12&63]+g[128|n>>6&63]+g[128|63&n]}o+=r.join("")}return o};function _(e){return!!e&&"object"==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function w(e,t){if(y(e)){let r=[];for(let n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)}let $=Object.prototype.hasOwnProperty,S={brackets:e=>String(e)+"[]",comma:"comma",indices:(e,t)=>String(e)+"["+t+"]",repeat:e=>String(e)},E=Array.isArray,x=Array.prototype.push,A=function(e,t){x.apply(e,E(t)?t:[t])},k=Date.prototype.toISOString,O={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:b,encodeValuesOnly:!1,format:p,formatter:h[p],indices:!1,serializeDate:e=>k.call(e),skipNulls:!1,strictNullHandling:!1};function I(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e||"bigint"==typeof e}let C={};function T(e,t,r,n,a,i,o,s,l,u,c,d,f,p,h,m,y,g){let v,b=e,$=g,S=0,x=!1;for(;void 0!==($=$.get(C))&&!x;){let t=$.get(e);if(S+=1,void 0!==t)if(t===S)throw RangeError("Cyclic object value");else x=!0;void 0===$.get(C)&&(S=0)}if("function"==typeof u?b=u(t,b):b instanceof Date?b=f?.(b):"comma"===r&&E(b)&&(b=w(b,function(e){return e instanceof Date?f?.(e):e})),null===b){if(i)return l&&!m?l(t,O.encoder,y,"key",p):t;b=""}if(I(b)||_(b)){if(l){let e=m?t:l(t,O.encoder,y,"key",p);return[h?.(e)+"="+h?.(l(b,O.encoder,y,"value",p))]}return[h?.(t)+"="+h?.(String(b))]}let k=[];if(void 0===b)return k;if("comma"===r&&E(b))m&&l&&(b=w(b,l)),v=[{value:b.length>0?b.join(",")||null:void 0}];else if(E(u))v=u;else{let e=Object.keys(b);v=c?e.sort(c):e}let P=s?String(t).replace(/\./g,"%2E"):String(t),R=n&&E(b)&&1===b.length?P+"[]":P;if(a&&E(b)&&0===b.length)return R+"[]";for(let t=0;t<v.length;++t){let _=v[t],w="object"==typeof _&&void 0!==_.value?_.value:b[_];if(o&&null===w)continue;let $=d&&s?_.replace(/\./g,"%2E"):_,x=E(b)?"function"==typeof r?r(R,$):R:R+(d?"."+$:"["+$+"]");g.set(e,S);let O=new WeakMap;O.set(C,g),A(k,T(w,x,r,n,a,i,o,s,"comma"===r&&m&&E(b)?null:l,u,c,d,f,p,h,m,y,O))}return k}function P(e=O){let t;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw TypeError("Encoder has to be a function.");let r=e.charset||O.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=p;if(void 0!==e.format){if(!$.call(h,e.format))throw TypeError("Unknown format option provided.");n=e.format}let a=h[n],i=O.filter;if(("function"==typeof e.filter||E(e.filter))&&(i=e.filter),t=e.arrayFormat&&e.arrayFormat in S?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":O.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw TypeError("`commaRoundTrip` must be a boolean, or absent");let o=void 0===e.allowDots?!0==!!e.encodeDotInKeys||O.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:O.addQueryPrefix,allowDots:o,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:O.allowEmptyArrays,arrayFormat:t,charset:r,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:O.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?O.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:O.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:O.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:O.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:O.encodeValuesOnly,filter:i,format:n,formatter:a,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:O.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:O.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:O.strictNullHandling}}function R(e,t={}){let r,n,a=e,i=P(t);"function"==typeof i.filter?a=(n=i.filter)("",a):E(i.filter)&&(r=n=i.filter);let o=[];if("object"!=typeof a||null===a)return"";let s=S[i.arrayFormat],l="comma"===s&&i.commaRoundTrip;r||(r=Object.keys(a)),i.sort&&r.sort(i.sort);let u=new WeakMap;for(let e=0;e<r.length;++e){let t=r[e];i.skipNulls&&null===a[t]||A(o,T(a[t],t,s,l,i.allowEmptyArrays,i.strictNullHandling,i.skipNulls,i.encodeDotInKeys,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,u))}let c=o.join(i.delimiter),d=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&("iso-8859-1"===i.charset?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),c.length>0?d+c:""}let N="4.81.0",j=!1,M=null,L=null,D=null,B=null;function F(e,t={auto:!1}){if(j)throw Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(a)throw Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${a}'\``);j=t.auto,a=e.kind,i=e.fetch,M=e.Request,L=e.Response,D=e.Headers,o=e.FormData,B=e.Blob,s=e.File,l=e.ReadableStream,u=e.getMultipartRequestOptions,c=e.getDefaultAgent,d=e.fileFromPath,f=e.isFsReadStream}class z{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function U({manuallyImported:e}={}){let t,r,n,a,i=e?"You may need to use polyfills":`Add one of these imports before your first \`import … from 'openai'\`:
- \`import 'openai/shims/node'\` (if you're running on Node)
- \`import 'openai/shims/web'\` (otherwise)
`;try{t=fetch,r=Request,n=Response,a=Headers}catch(e){throw Error(`this environment is missing the following Web Fetch API type: ${e.message}. ${i}`)}return{kind:"web",fetch:t,Request:r,Response:n,Headers:a,FormData:"undefined"!=typeof FormData?FormData:class{constructor(){throw Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${i}`)}},Blob:"undefined"!=typeof Blob?Blob:class{constructor(){throw Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${i}`)}},File:"undefined"!=typeof File?File:class{constructor(){throw Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${i}`)}},ReadableStream:"undefined"!=typeof ReadableStream?ReadableStream:class{constructor(){throw Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${i}`)}},getMultipartRequestOptions:async(e,t)=>({...t,body:new z(e)}),getDefaultAgent:e=>void 0,fileFromPath:()=>{throw Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:e=>!1}}a||F(U(),{auto:!0});class Z extends Error{}class H extends Z{constructor(e,t,r,n){super(`${H.makeMessage(e,t,r)}`),this.status=e,this.headers=n,this.request_id=n?.["x-request-id"],this.error=t;let a=t;this.code=a?.code,this.param=a?.param,this.type=a?.type}static makeMessage(e,t,r){let n=t?.message?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):r;return e&&n?`${e} ${n}`:e?`${e} status code (no body)`:n||"(no status code or body)"}static generate(e,t,r,n){if(!e||!n)return new W({message:r,cause:tV(t)});let a=t?.error;return 400===e?new K(e,a,r,n):401===e?new G(e,a,r,n):403===e?new J(e,a,r,n):404===e?new Y(e,a,r,n):409===e?new X(e,a,r,n):422===e?new Q(e,a,r,n):429===e?new ee(e,a,r,n):e>=500?new et(e,a,r,n):new H(e,a,r,n)}}class V extends H{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class W extends H{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class q extends W{constructor({message:e}={}){super({message:e??"Request timed out."})}}class K extends H{}class G extends H{}class J extends H{}class Y extends H{}class X extends H{}class Q extends H{}class ee extends H{}class et extends H{}class er extends Z{constructor(){super("Could not parse response content as the length limit was reached")}}class en extends Z{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var ea,ei,eo,es,el,eu,ec,ed,ef,ep,eh,em,ey,eg,ev,eb,e_,ew,e$,eS,eE,ex,eA,ek,eO,eI,eC,eT,eP,eR,eN,ej,eM,eL,eD,eB,eF,ez,eU,eZ,eH,eV,eW,eq,eK,eG,eJ,eY,eX,eQ,e0,e1,e2,e3,e9,e4,e8,e6=r(51642).Buffer;class e5{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let t=this.decodeText(e);if(this.trailingCR&&(t="\r"+t,this.trailingCR=!1),t.endsWith("\r")&&(this.trailingCR=!0,t=t.slice(0,-1)),!t)return[];let r=e5.NEWLINE_CHARS.has(t[t.length-1]||""),n=t.split(e5.NEWLINE_REGEXP);return(r&&n.pop(),1!==n.length||r)?(this.buffer.length>0&&(n=[this.buffer.join("")+n[0],...n.slice(1)],this.buffer=[]),r||(this.buffer=[n.pop()||""]),n):(this.buffer.push(n[0]),[])}decodeText(e){if(null==e)return"";if("string"==typeof e)return e;if(void 0!==e6){if(e instanceof e6)return e.toString();if(e instanceof Uint8Array)return e6.from(e).toString();throw new Z(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if("undefined"!=typeof TextDecoder){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new Z(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new Z("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];let e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}function e7(e){if(e[Symbol.asyncIterator])return e;let t=e.getReader();return{async next(){try{let e=await t.read();return e?.done&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){let e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}e5.NEWLINE_CHARS=new Set(["\n","\r"]),e5.NEWLINE_REGEXP=/\r\n|[\n\r]/g;class te{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let r=!1;return new te(async function*(){if(r)throw Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let n=!1;try{for await(let r of tt(e,t))if(!n){if(r.data.startsWith("[DONE]")){n=!0;continue}if(null===r.event){let e;try{e=JSON.parse(r.data)}catch(e){throw console.error("Could not parse message into JSON:",r.data),console.error("From chunk:",r.raw),e}if(e&&e.error)throw new H(void 0,e.error,void 0,void 0);yield e}else{let e;try{e=JSON.parse(r.data)}catch(e){throw console.error("Could not parse message into JSON:",r.data),console.error("From chunk:",r.raw),e}if("error"==r.event)throw new H(void 0,e.error,e.message,void 0);yield{event:r.event,data:e}}}n=!0}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;throw e}finally{n||t.abort()}},t)}static fromReadableStream(e,t){let r=!1;async function*n(){let t=new e5;for await(let r of e7(e))for(let e of t.decode(r))yield e;for(let e of t.flush())yield e}return new te(async function*(){if(r)throw Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let e=!1;try{for await(let t of n())!e&&t&&(yield JSON.parse(t));e=!0}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;throw e}finally{e||t.abort()}},t)}[Symbol.asyncIterator](){return this.iterator()}tee(){let e=[],t=[],r=this.iterator(),n=n=>({next:()=>{if(0===n.length){let n=r.next();e.push(n),t.push(n)}return n.shift()}});return[new te(()=>n(e),this.controller),new te(()=>n(t),this.controller)]}toReadableStream(){let e,t=this,r=new TextEncoder;return new l({async start(){e=t[Symbol.asyncIterator]()},async pull(t){try{let{value:n,done:a}=await e.next();if(a)return t.close();let i=r.encode(JSON.stringify(n)+"\n");t.enqueue(i)}catch(e){t.error(e)}},async cancel(){await e.return?.()}})}}async function*tt(e,t){if(!e.body)throw t.abort(),new Z("Attempted to iterate over a response with no body");let r=new ta,n=new e5;for await(let t of tr(e7(e.body)))for(let e of n.decode(t)){let t=r.decode(e);t&&(yield t)}for(let e of n.flush()){let t=r.decode(e);t&&(yield t)}}async function*tr(e){let t=new Uint8Array;for await(let r of e){let e;if(null==r)continue;let n=r instanceof ArrayBuffer?new Uint8Array(r):"string"==typeof r?new TextEncoder().encode(r):r,a=new Uint8Array(t.length+n.length);for(a.set(t),a.set(n,t.length),t=a;-1!==(e=tn(t));)yield t.slice(0,e),t=t.slice(e)}t.length>0&&(yield t)}function tn(e){let t=10,r=13;for(let n=0;n<e.length-2;n++){if(e[n]===t&&e[n+1]===t||e[n]===r&&e[n+1]===r)return n+2;if(e[n]===r&&e[n+1]===t&&n+3<e.length&&e[n+2]===r&&e[n+3]===t)return n+4}return -1}class ta{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,r,n]=ti(e,":");return n.startsWith(" ")&&(n=n.substring(1)),"event"===t?this.event=n:"data"===t&&this.data.push(n),null}}function ti(e,t){let r=e.indexOf(t);return -1!==r?[e.substring(0,r),t,e.substring(r+t.length)]:[e,"",""]}var to=r(51642).Buffer;let ts=e=>null!=e&&"object"==typeof e&&"string"==typeof e.url&&"function"==typeof e.blob,tl=e=>null!=e&&"object"==typeof e&&"string"==typeof e.name&&"number"==typeof e.lastModified&&tu(e),tu=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer,tc=e=>tl(e)||ts(e)||f(e);async function td(e,t,r){if(tl(e=await e))return e;if(ts(e)){let n=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");let a=tu(n)?[await n.arrayBuffer()]:[n];return new s(a,t,r)}let n=await tf(e);if(t||(t=th(e)??"unknown_file"),!r?.type){let e=n[0]?.type;"string"==typeof e&&(r={...r,type:e})}return new s(n,t,r)}async function tf(e){let t=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(tu(e))t.push(await e.arrayBuffer());else if(ty(e))for await(let r of e)t.push(r);else throw Error(`Unexpected data type: ${typeof e}; constructor: ${e?.constructor?.name}; props: ${tp(e)}`);return t}function tp(e){let t=Object.getOwnPropertyNames(e);return`[${t.map(e=>`"${e}"`).join(", ")}]`}function th(e){return tm(e.name)||tm(e.filename)||tm(e.path)?.split(/[\\/]/).pop()}let tm=e=>"string"==typeof e?e:void 0!==to&&e instanceof to?String(e):void 0,ty=e=>null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator],tg=e=>e&&"object"==typeof e&&e.body&&"MultipartBody"===e[Symbol.toStringTag],tv=async e=>{let t=await tb(e.body);return u(t,e)},tb=async e=>{let t=new o;return await Promise.all(Object.entries(e||{}).map(([e,r])=>tw(t,e,r))),t},t_=e=>{if(tc(e))return!0;if(Array.isArray(e))return e.some(t_);if(e&&"object"==typeof e){for(let t in e)if(t_(e[t]))return!0}return!1},tw=async(e,t,r)=>{if(void 0!==r){if(null==r)throw TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if("string"==typeof r||"number"==typeof r||"boolean"==typeof r)e.append(t,String(r));else if(tc(r)){let n=await td(r);e.append(t,n)}else if(Array.isArray(r))await Promise.all(r.map(r=>tw(e,t+"[]",r)));else if("object"==typeof r)await Promise.all(Object.entries(r).map(([r,n])=>tw(e,`${t}[${r}]`,n)));else throw TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}};var t$=r(51642).Buffer,tS=r(29143),tE=function(e,t,r,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r},tx=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};async function tA(e){let{response:t}=e;if(e.options.stream)return(tY("response",t.status,t.url,t.headers,t.body),e.options.__streamClass)?e.options.__streamClass.fromSSEResponse(t,e.controller):te.fromSSEResponse(t,e.controller);if(204===t.status)return null;if(e.options.__binaryResponse)return t;let r=t.headers.get("content-type");if(r?.includes("application/json")||r?.includes("application/vnd.api+json")){let e=await t.json();return tY("response",t.status,t.url,t.headers,e),tk(e,t)}let n=await t.text();return tY("response",t.status,t.url,t.headers,n),n}function tk(e,t){return!e||"object"!=typeof e||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class tO extends Promise{constructor(e,t=tA){super(e=>{e(null)}),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new tO(this.responsePromise,async t=>tk(e(await this.parseResponse(t),t),t.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class tI{constructor({baseURL:e,maxRetries:t=2,timeout:r=6e5,httpAgent:n,fetch:a}){this.baseURL=e,this.maxRetries=tH("maxRetries",t),this.timeout=tH("timeout",r),this.httpAgent=n,this.fetch=a??i}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...tB(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${tX()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,r){return this.request(Promise.resolve(r).then(async r=>{let n=r&&tu(r?.body)?new DataView(await r.body.arrayBuffer()):r?.body instanceof DataView?r.body:r?.body instanceof ArrayBuffer?new DataView(r.body):r&&ArrayBuffer.isView(r?.body)?new DataView(r.body.buffer):r?.body;return{method:e,path:t,...r,body:n}}))}getAPIList(e,t,r){return this.requestAPIList(t,{method:"get",path:e,...r})}calculateContentLength(e){if("string"==typeof e){if(void 0!==t$)return t$.byteLength(e,"utf8").toString();if("undefined"!=typeof TextEncoder)return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:t=0}={}){let{method:r,path:n,query:a,headers:i={}}=e,o=ArrayBuffer.isView(e.body)||e.__binaryRequest&&"string"==typeof e.body?e.body:tg(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,s=this.calculateContentLength(o),l=this.buildURL(n,a);"timeout"in e&&tH("timeout",e.timeout);let u=e.timeout??this.timeout,d=e.httpAgent??this.httpAgent??c(l),f=u+1e3;"number"==typeof d?.options?.timeout&&f>(d.options.timeout??0)&&(d.options.timeout=f),this.idempotencyHeader&&"get"!==r&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);let p=this.buildHeaders({options:e,headers:i,contentLength:s,retryCount:t});return{req:{method:r,...o&&{body:o},headers:p,...d&&{agent:d},signal:e.signal??null},url:l,timeout:u}}buildHeaders({options:e,headers:t,contentLength:r,retryCount:n}){let i={};r&&(i["content-length"]=r);let o=this.defaultHeaders(e);return tG(i,o),tG(i,t),tg(e.body)&&"node"!==a&&delete i["content-type"],void 0===t1(o,"x-stainless-retry-count")&&void 0===t1(t,"x-stainless-retry-count")&&(i["x-stainless-retry-count"]=String(n)),this.validateHeaders(i,t),i}async prepareOptions(e){}async prepareRequest(e,{url:t,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(e=>[...e])):{...e}:{}}makeStatusError(e,t,r,n){return H.generate(e,t,r,n)}request(e,t=null){return new tO(this.makeRequest(e,t))}async makeRequest(e,t){let r=await e,n=r.maxRetries??this.maxRetries;null==t&&(t=n),await this.prepareOptions(r);let{req:a,url:i,timeout:o}=this.buildRequest(r,{retryCount:n-t});if(await this.prepareRequest(a,{url:i,options:r}),tY("request",i,r,a.headers),r.signal?.aborted)throw new V;let s=new AbortController,l=await this.fetchWithTimeout(i,a,o,s).catch(tV);if(l instanceof Error){if(r.signal?.aborted)throw new V;if(t)return this.retryRequest(r,t);if("AbortError"===l.name)throw new q;throw new W({cause:l})}let u=tP(l.headers);if(!l.ok){if(t&&this.shouldRetry(l)){let e=`retrying, ${t} attempts remaining`;return tY(`response (error; ${e})`,l.status,i,u),this.retryRequest(r,t,u)}let e=await l.text().catch(e=>tV(e).message),n=tF(e),a=n?void 0:e,o=t?"(error; no more retries left)":"(error; not retryable)";throw tY(`response (error; ${o})`,l.status,i,u,a),this.makeStatusError(l.status,n,a,u)}return{response:l,options:r,controller:s}}requestAPIList(e,t){return new tT(this,this.makeRequest(t,null),e)}buildURL(e,t){let r=new URL(tU(e)?e:this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),n=this.defaultQuery();return tq(n)||(t={...n,...t}),"object"==typeof t&&t&&!Array.isArray(t)&&(r.search=this.stringifyQuery(t)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([e,t])=>void 0!==t).map(([e,t])=>{if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;if(null===t)return`${encodeURIComponent(e)}=`;throw new Z(`Cannot stringify type ${typeof t}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,t,r,n){let{signal:a,...i}=t||{};a&&a.addEventListener("abort",()=>n.abort());let o=setTimeout(()=>n.abort(),r),s={signal:n.signal,...i};return s.method&&(s.method=s.method.toUpperCase()),this.fetch.call(void 0,e,s).finally(()=>{clearTimeout(o)})}shouldRetry(e){let t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||409===e.status||429===e.status||!!(e.status>=500))}async retryRequest(e,t,r){let n,a=r?.["retry-after-ms"];if(a){let e=parseFloat(a);Number.isNaN(e)||(n=e)}let i=r?.["retry-after"];if(i&&!n){let e=parseFloat(i);n=Number.isNaN(e)?Date.parse(i)-Date.now():1e3*e}if(!(n&&0<=n&&n<6e4)){let r=e.maxRetries??this.maxRetries;n=this.calculateDefaultRetryTimeoutMillis(t,r)}return await tZ(n),this.makeRequest(e,t-1)}calculateDefaultRetryTimeoutMillis(e,t){return Math.min(.5*Math.pow(2,t-e),8)*(1-.25*Math.random())*1e3}getUserAgent(){return`${this.constructor.name}/JS ${N}`}}class tC{constructor(e,t,r,n){ea.set(this,void 0),tE(this,ea,e,"f"),this.options=n,this.response=t,this.body=r}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageInfo()}async getNextPage(){let e=this.nextPageInfo();if(!e)throw new Z("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");let t={...this.options};if("params"in e&&"object"==typeof t.query)t.query={...t.query,...e.params};else if("url"in e){for(let[r,n]of[...Object.entries(t.query||{}),...e.url.searchParams.entries()])e.url.searchParams.set(r,n);t.query=void 0,t.path=e.url.toString()}return await tx(this,ea,"f").requestAPIList(this.constructor,t)}async *iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async *[(ea=new WeakMap,Symbol.asyncIterator)](){for await(let e of this.iterPages())for(let t of e.getPaginatedItems())yield t}}class tT extends tO{constructor(e,t,r){super(t,async t=>new r(e,t.response,await tA(t),t.options))}async *[Symbol.asyncIterator](){for await(let e of(await this))yield e}}let tP=e=>new Proxy(Object.fromEntries(e.entries()),{get(e,t){let r=t.toString();return e[r.toLowerCase()]||e[r]}}),tR={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},tN=e=>"object"==typeof e&&null!==e&&!tq(e)&&Object.keys(e).every(e=>tK(tR,e)),tj=()=>{if("undefined"!=typeof Deno&&null!=Deno.build)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":N,"X-Stainless-OS":tD(Deno.build.os),"X-Stainless-Arch":tL(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":N,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":tS.version};if("[object process]"===Object.prototype.toString.call(void 0!==tS?tS:0))return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":N,"X-Stainless-OS":tD(tS.platform),"X-Stainless-Arch":tL(tS.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":tS.version};let e=tM();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":N,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":N,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function tM(){if("undefined"==typeof navigator||!navigator)return null;for(let{key:e,pattern:t}of[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}]){let r=t.exec(navigator.userAgent);if(r){let t=r[1]||0,n=r[2]||0,a=r[3]||0;return{browser:e,version:`${t}.${n}.${a}`}}}return null}let tL=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",tD=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown",tB=()=>n??(n=tj()),tF=e=>{try{return JSON.parse(e)}catch(e){return}},tz=/^[a-z][a-z0-9+.-]*:/i,tU=e=>tz.test(e),tZ=e=>new Promise(t=>setTimeout(t,e)),tH=(e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new Z(`${e} must be an integer`);if(t<0)throw new Z(`${e} must be a positive integer`);return t},tV=e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e)try{return Error(JSON.stringify(e))}catch{}return Error(e)},tW=e=>void 0!==tS?tS.env?.[e]?.trim()??void 0:"undefined"!=typeof Deno?Deno.env?.get?.(e)?.trim():void 0;function tq(e){if(!e)return!0;for(let t in e)return!1;return!0}function tK(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function tG(e,t){for(let r in t){if(!tK(t,r))continue;let n=r.toLowerCase();if(!n)continue;let a=t[r];null===a?delete e[n]:void 0!==a&&(e[n]=a)}}let tJ=new Set(["authorization","api-key"]);function tY(e,...t){void 0!==tS&&tS?.env?.DEBUG==="true"&&console.log(`OpenAI:DEBUG:${e}`,...t.map(e=>{if(!e)return e;if(e.headers){let t={...e,headers:{...e.headers}};for(let r in e.headers)tJ.has(r.toLowerCase())&&(t.headers[r]="REDACTED");return t}let t=null;for(let r in e)tJ.has(r.toLowerCase())&&(t??(t={...e}),t[r]="REDACTED");return t??e}))}let tX=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),tQ=()=>"undefined"!=typeof window&&void 0!==window.document&&"undefined"!=typeof navigator,t0=e=>"function"==typeof e?.get,t1=(e,t)=>{let r=t.toLowerCase();if(t0(e)){let n=t[0]?.toUpperCase()+t.substring(1).replace(/([^\w])(\w)/g,(e,t,r)=>t+r.toUpperCase());for(let a of[t,r,t.toUpperCase(),n]){let t=e.get(a);if(t)return t}}for(let[n,a]of Object.entries(e))if(n.toLowerCase()===r){if(Array.isArray(a)){if(a.length<=1)return a[0];return console.warn(`Received ${a.length} entries for the ${t} header, using the first entry.`),a[0]}return a}};function t2(e){return null!=e&&"object"==typeof e&&!Array.isArray(e)}class t3{constructor(e){this._client=e}}class t9 extends t3{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}}class t4 extends t3{create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}}class t8 extends t3{constructor(){super(...arguments),this.completions=new t4(this._client)}}t8.Completions=t4;class t6 extends t3{create(e,t){return this._client.post("/embeddings",{body:e,...t})}}class t5 extends tC{constructor(e,t,r,n){super(e,t,r,n),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class t7 extends tC{constructor(e,t,r,n){super(e,t,r,n),this.data=r.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){let e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;let t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){let e=this.getPaginatedItems();if(!e.length)return null;let t=e[e.length-1]?.id;return t?{params:{after:t}}:null}}class re extends t3{create(e,t){return this._client.post("/files",tv({body:e,...t}))}retrieve(e,t){return this._client.get(`/files/${e}`,t)}list(e={},t){return tN(e)?this.list({},e):this._client.getAPIList("/files",rt,{query:e,...t})}del(e,t){return this._client.delete(`/files/${e}`,t)}content(e,t){return this._client.get(`/files/${e}/content`,{...t,headers:{Accept:"application/binary",...t?.headers},__binaryResponse:!0})}retrieveContent(e,t){return this._client.get(`/files/${e}/content`,t)}async waitForProcessing(e,{pollInterval:t=5e3,maxWait:r=18e5}={}){let n=new Set(["processed","error","deleted"]),a=Date.now(),i=await this.retrieve(e);for(;!i.status||!n.has(i.status);)if(await tZ(t),i=await this.retrieve(e),Date.now()-a>r)throw new q({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return i}}class rt extends t7{}re.FileObjectsPage=rt;class rr extends t3{createVariation(e,t){return this._client.post("/images/variations",tv({body:e,...t}))}edit(e,t){return this._client.post("/images/edits",tv({body:e,...t}))}generate(e,t){return this._client.post("/images/generations",{body:e,...t})}}class rn extends t3{create(e,t){return this._client.post("/audio/speech",{body:e,...t,headers:{Accept:"application/octet-stream",...t?.headers},__binaryResponse:!0})}}class ra extends t3{create(e,t){return this._client.post("/audio/transcriptions",tv({body:e,...t}))}}class ri extends t3{create(e,t){return this._client.post("/audio/translations",tv({body:e,...t}))}}class ro extends t3{constructor(){super(...arguments),this.transcriptions=new ra(this._client),this.translations=new ri(this._client),this.speech=new rn(this._client)}}ro.Transcriptions=ra,ro.Translations=ri,ro.Speech=rn;class rs extends t3{create(e,t){return this._client.post("/moderations",{body:e,...t})}}class rl extends t3{retrieve(e,t){return this._client.get(`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",ru,e)}del(e,t){return this._client.delete(`/models/${e}`,t)}}class ru extends t5{}rl.ModelsPage=ru;class rc extends t3{list(e,t={},r){return tN(t)?this.list(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,rd,{query:t,...r})}}class rd extends t7{}rc.FineTuningJobCheckpointsPage=rd;class rf extends t3{constructor(){super(...arguments),this.checkpoints=new rc(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(`/fine_tuning/jobs/${e}`,t)}list(e={},t){return tN(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",rp,{query:e,...t})}cancel(e,t){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},r){return tN(t)?this.listEvents(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,rh,{query:t,...r})}}class rp extends t7{}class rh extends t7{}rf.FineTuningJobsPage=rp,rf.FineTuningJobEventsPage=rh,rf.Checkpoints=rc,rf.FineTuningJobCheckpointsPage=rd;class rm extends t3{constructor(){super(...arguments),this.jobs=new rf(this._client)}}rm.Jobs=rf,rm.FineTuningJobsPage=rp,rm.FineTuningJobEventsPage=rh;class ry extends t3{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,r){return this._client.post(`/assistants/${e}`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e={},t){return tN(e)?this.list({},e):this._client.getAPIList("/assistants",rg,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}del(e,t){return this._client.delete(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}}class rg extends t7{}function rv(e){return"function"==typeof e.parse}ry.AssistantsPage=rg;let rb=e=>e?.role==="assistant",r_=e=>e?.role==="function",rw=e=>e?.role==="tool";var r$=function(e,t,r,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r},rS=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class rE{constructor(){ei.add(this),this.controller=new AbortController,eo.set(this,void 0),es.set(this,()=>{}),el.set(this,()=>{}),eu.set(this,void 0),ec.set(this,()=>{}),ed.set(this,()=>{}),ef.set(this,{}),ep.set(this,!1),eh.set(this,!1),em.set(this,!1),ey.set(this,!1),r$(this,eo,new Promise((e,t)=>{r$(this,es,e,"f"),r$(this,el,t,"f")}),"f"),r$(this,eu,new Promise((e,t)=>{r$(this,ec,e,"f"),r$(this,ed,t,"f")}),"f"),rS(this,eo,"f").catch(()=>{}),rS(this,eu,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},rS(this,ei,"m",eg).bind(this))},0)}_connected(){this.ended||(rS(this,es,"f").call(this),this._emit("connect"))}get ended(){return rS(this,ep,"f")}get errored(){return rS(this,eh,"f")}get aborted(){return rS(this,em,"f")}abort(){this.controller.abort()}on(e,t){return(rS(this,ef,"f")[e]||(rS(this,ef,"f")[e]=[])).push({listener:t}),this}off(e,t){let r=rS(this,ef,"f")[e];if(!r)return this;let n=r.findIndex(e=>e.listener===t);return n>=0&&r.splice(n,1),this}once(e,t){return(rS(this,ef,"f")[e]||(rS(this,ef,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,r)=>{r$(this,ey,!0,"f"),"error"!==e&&this.once("error",r),this.once(e,t)})}async done(){r$(this,ey,!0,"f"),await rS(this,eu,"f")}_emit(e,...t){if(rS(this,ep,"f"))return;"end"===e&&(r$(this,ep,!0,"f"),rS(this,ec,"f").call(this));let r=rS(this,ef,"f")[e];if(r&&(rS(this,ef,"f")[e]=r.filter(e=>!e.once),r.forEach(({listener:e})=>e(...t))),"abort"===e){let e=t[0];rS(this,ey,"f")||r?.length||Promise.reject(e),rS(this,el,"f").call(this,e),rS(this,ed,"f").call(this,e),this._emit("end");return}if("error"===e){let e=t[0];rS(this,ey,"f")||r?.length||Promise.reject(e),rS(this,el,"f").call(this,e),rS(this,ed,"f").call(this,e),this._emit("end")}}_emitFinal(){}}function rx(e){return e?.$brand==="auto-parseable-response-format"}function rA(e){return e?.$brand==="auto-parseable-tool"}function rk(e,t){return t&&rP(t)?rO(e,t):{...e,choices:e.choices.map(e=>({...e,message:{...e.message,parsed:null,tool_calls:e.message.tool_calls??[]}}))}}function rO(e,t){let r=e.choices.map(e=>{if("length"===e.finish_reason)throw new er;if("content_filter"===e.finish_reason)throw new en;return{...e,message:{...e.message,tool_calls:e.message.tool_calls?.map(e=>rC(t,e))??[],parsed:e.message.content&&!e.message.refusal?rI(t,e.message.content):null}}});return{...e,choices:r}}function rI(e,t){return e.response_format?.type!=="json_schema"?null:e.response_format?.type==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function rC(e,t){let r=e.tools?.find(e=>e.function?.name===t.function.name);return{...t,function:{...t.function,parsed_arguments:rA(r)?r.$parseRaw(t.function.arguments):r?.function.strict?JSON.parse(t.function.arguments):null}}}function rT(e,t){if(!e)return!1;let r=e.tools?.find(e=>e.function?.name===t.function.name);return rA(r)||r?.function.strict||!1}function rP(e){return!!rx(e.response_format)||(e.tools?.some(e=>rA(e)||"function"===e.type&&!0===e.function.strict)??!1)}function rR(e){for(let t of e??[]){if("function"!==t.type)throw new Z(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(!0!==t.function.strict)throw new Z(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}eo=new WeakMap,es=new WeakMap,el=new WeakMap,eu=new WeakMap,ec=new WeakMap,ed=new WeakMap,ef=new WeakMap,ep=new WeakMap,eh=new WeakMap,em=new WeakMap,ey=new WeakMap,ei=new WeakSet,eg=function(e){if(r$(this,eh,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new V),e instanceof V)return r$(this,em,!0,"f"),this._emit("abort",e);if(e instanceof Z)return this._emit("error",e);if(e instanceof Error){let t=new Z(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new Z(String(e)))};var rN=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};let rj=10;class rM extends rE{constructor(){super(...arguments),ev.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);let t=e.choices[0]?.message;return t&&this._addMessage(t),e}_addMessage(e,t=!0){if("content"in e||(e.content=null),this.messages.push(e),t){if(this._emit("message",e),(r_(e)||rw(e))&&e.content)this._emit("functionCallResult",e.content);else if(rb(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(rb(e)&&e.tool_calls)for(let t of e.tool_calls)"function"===t.type&&this._emit("functionCall",t.function)}}async finalChatCompletion(){await this.done();let e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Z("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),rN(this,ev,"m",eb).call(this)}async finalMessage(){return await this.done(),rN(this,ev,"m",e_).call(this)}async finalFunctionCall(){return await this.done(),rN(this,ev,"m",ew).call(this)}async finalFunctionCallResult(){return await this.done(),rN(this,ev,"m",e$).call(this)}async totalUsage(){return await this.done(),rN(this,ev,"m",eS).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){let e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);let t=rN(this,ev,"m",e_).call(this);t&&this._emit("finalMessage",t);let r=rN(this,ev,"m",eb).call(this);r&&this._emit("finalContent",r);let n=rN(this,ev,"m",ew).call(this);n&&this._emit("finalFunctionCall",n);let a=rN(this,ev,"m",e$).call(this);null!=a&&this._emit("finalFunctionCallResult",a),this._chatCompletions.some(e=>e.usage)&&this._emit("totalUsage",rN(this,ev,"m",eS).call(this))}async _createChatCompletion(e,t,r){let n=r?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),rN(this,ev,"m",eE).call(this,t);let a=await e.chat.completions.create({...t,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(rO(a,t))}async _runChatCompletion(e,t,r){for(let e of t.messages)this._addMessage(e,!1);return await this._createChatCompletion(e,t,r)}async _runFunctions(e,t,r){let n="function",{function_call:a="auto",stream:i,...o}=t,s="string"!=typeof a&&a?.name,{maxChatCompletions:l=rj}=r||{},u={};for(let e of t.functions)u[e.name||e.function.name]=e;let c=t.functions.map(e=>({name:e.name||e.function.name,parameters:e.parameters,description:e.description}));for(let e of t.messages)this._addMessage(e,!1);for(let t=0;t<l;++t){let t,i=await this._createChatCompletion(e,{...o,function_call:a,functions:c,messages:[...this.messages]},r),l=i.choices[0]?.message;if(!l)throw new Z("missing message in ChatCompletion response");if(!l.function_call)return;let{name:d,arguments:f}=l.function_call,p=u[d];if(p){if(s&&s!==d){let e=`Invalid function_call: ${JSON.stringify(d)}. ${JSON.stringify(s)} requested. Please try again`;this._addMessage({role:n,name:d,content:e});continue}}else{let e=`Invalid function_call: ${JSON.stringify(d)}. Available options are: ${c.map(e=>JSON.stringify(e.name)).join(", ")}. Please try again`;this._addMessage({role:n,name:d,content:e});continue}try{t=rv(p)?await p.parse(f):f}catch(e){this._addMessage({role:n,name:d,content:e instanceof Error?e.message:String(e)});continue}let h=await p.function(t,this),m=rN(this,ev,"m",ex).call(this,h);if(this._addMessage({role:n,name:d,content:m}),s)return}}async _runTools(e,t,r){let n="tool",{tool_choice:a="auto",stream:i,...o}=t,s="string"!=typeof a&&a?.function?.name,{maxChatCompletions:l=rj}=r||{},u=t.tools.map(e=>{if(rA(e)){if(!e.$callback)throw new Z("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:e.$callback,name:e.function.name,description:e.function.description||"",parameters:e.function.parameters,parse:e.$parseRaw,strict:!0}}}return e}),c={};for(let e of u)"function"===e.type&&(c[e.function.name||e.function.function.name]=e.function);let d="tools"in t?u.map(e=>"function"===e.type?{type:"function",function:{name:e.function.name||e.function.function.name,parameters:e.function.parameters,description:e.function.description,strict:e.function.strict}}:e):void 0;for(let e of t.messages)this._addMessage(e,!1);for(let t=0;t<l;++t){let t=await this._createChatCompletion(e,{...o,tool_choice:a,tools:d,messages:[...this.messages]},r),i=t.choices[0]?.message;if(!i)throw new Z("missing message in ChatCompletion response");if(!i.tool_calls?.length)break;for(let e of i.tool_calls){let t;if("function"!==e.type)continue;let r=e.id,{name:a,arguments:i}=e.function,o=c[a];if(o){if(s&&s!==a){let e=`Invalid tool_call: ${JSON.stringify(a)}. ${JSON.stringify(s)} requested. Please try again`;this._addMessage({role:n,tool_call_id:r,content:e});continue}}else{let e=`Invalid tool_call: ${JSON.stringify(a)}. Available options are: ${Object.keys(c).map(e=>JSON.stringify(e)).join(", ")}. Please try again`;this._addMessage({role:n,tool_call_id:r,content:e});continue}try{t=rv(o)?await o.parse(i):i}catch(t){let e=t instanceof Error?t.message:String(t);this._addMessage({role:n,tool_call_id:r,content:e});continue}let l=await o.function(t,this),u=rN(this,ev,"m",ex).call(this,l);if(this._addMessage({role:n,tool_call_id:r,content:u}),s)return}}}}ev=new WeakSet,eb=function(){return rN(this,ev,"m",e_).call(this).content??null},e_=function(){let e=this.messages.length;for(;e-- >0;){let t=this.messages[e];if(rb(t)){let{function_call:e,...r}=t,n={...r,content:t.content??null,refusal:t.refusal??null};return e&&(n.function_call=e),n}}throw new Z("stream ended without producing a ChatCompletionMessage with role=assistant")},ew=function(){for(let e=this.messages.length-1;e>=0;e--){let t=this.messages[e];if(rb(t)&&t?.function_call)return t.function_call;if(rb(t)&&t?.tool_calls?.length)return t.tool_calls.at(-1)?.function}},e$=function(){for(let e=this.messages.length-1;e>=0;e--){let t=this.messages[e];if(r_(t)&&null!=t.content||rw(t)&&null!=t.content&&"string"==typeof t.content&&this.messages.some(e=>"assistant"===e.role&&e.tool_calls?.some(e=>"function"===e.type&&e.id===t.tool_call_id)))return t.content}},eS=function(){let e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(let{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},eE=function(e){if(null!=e.n&&e.n>1)throw new Z("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},ex=function(e){return"string"==typeof e?e:void 0===e?"undefined":JSON.stringify(e)};class rL extends rM{static runFunctions(e,t,r){let n=new rL,a={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return n._run(()=>n._runFunctions(e,t,a)),n}static runTools(e,t,r){let n=new rL,a={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runTools"}};return n._run(()=>n._runTools(e,t,a)),n}_addMessage(e,t=!0){super._addMessage(e,t),rb(e)&&e.content&&this._emit("content",e.content)}}let rD={STR:1,NUM:2,ARR:4,OBJ:8,NULL:16,BOOL:32,NAN:64,INFINITY:128,MINUS_INFINITY:256,ALL:511};class rB extends Error{}class rF extends Error{}function rz(e,t=rD.ALL){if("string"!=typeof e)throw TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw Error(`${e} is empty`);return rU(e.trim(),t)}let rU=(e,t)=>{let r=e.length,n=0,a=e=>{throw new rB(`${e} at position ${n}`)},i=e=>{throw new rF(`${e} at position ${n}`)},o=()=>(d(),n>=r&&a("Unexpected end of input"),'"'===e[n])?s():"{"===e[n]?l():"["===e[n]?u():"null"===e.substring(n,n+4)||rD.NULL&t&&r-n<4&&"null".startsWith(e.substring(n))?(n+=4,null):"true"===e.substring(n,n+4)||rD.BOOL&t&&r-n<4&&"true".startsWith(e.substring(n))?(n+=4,!0):"false"===e.substring(n,n+5)||rD.BOOL&t&&r-n<5&&"false".startsWith(e.substring(n))?(n+=5,!1):"Infinity"===e.substring(n,n+8)||rD.INFINITY&t&&r-n<8&&"Infinity".startsWith(e.substring(n))?(n+=8,1/0):"-Infinity"===e.substring(n,n+9)||rD.MINUS_INFINITY&t&&1<r-n&&r-n<9&&"-Infinity".startsWith(e.substring(n))?(n+=9,-1/0):"NaN"===e.substring(n,n+3)||rD.NAN&t&&r-n<3&&"NaN".startsWith(e.substring(n))?(n+=3,NaN):c(),s=()=>{let o=n,s=!1;for(n++;n<r&&('"'!==e[n]||s&&"\\"===e[n-1]);)s="\\"===e[n]&&!s,n++;if('"'==e.charAt(n))try{return JSON.parse(e.substring(o,++n-Number(s)))}catch(e){i(String(e))}else if(rD.STR&t)try{return JSON.parse(e.substring(o,n-Number(s))+'"')}catch(t){return JSON.parse(e.substring(o,e.lastIndexOf("\\"))+'"')}a("Unterminated string literal")},l=()=>{n++,d();let i={};try{for(;"}"!==e[n];){if(d(),n>=r&&rD.OBJ&t)return i;let a=s();d(),n++;try{let e=o();Object.defineProperty(i,a,{value:e,writable:!0,enumerable:!0,configurable:!0})}catch(e){if(rD.OBJ&t)return i;throw e}d(),","===e[n]&&n++}}catch(e){if(rD.OBJ&t)return i;a("Expected '}' at end of object")}return n++,i},u=()=>{n++;let r=[];try{for(;"]"!==e[n];)r.push(o()),d(),","===e[n]&&n++}catch(e){if(rD.ARR&t)return r;a("Expected ']' at end of array")}return n++,r},c=()=>{if(0===n){"-"===e&&rD.NUM&t&&a("Not sure what '-' is");try{return JSON.parse(e)}catch(r){if(rD.NUM&t)try{if("."===e[e.length-1])return JSON.parse(e.substring(0,e.lastIndexOf(".")));return JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch(e){}i(String(r))}}let o=n;for("-"===e[n]&&n++;e[n]&&!",]}".includes(e[n]);)n++;n!=r||rD.NUM&t||a("Unterminated number literal");try{return JSON.parse(e.substring(o,n))}catch(r){"-"===e.substring(o,n)&&rD.NUM&t&&a("Not sure what '-' is");try{return JSON.parse(e.substring(o,e.lastIndexOf("e")))}catch(e){i(String(e))}}},d=()=>{for(;n<r&&" \n\r	".includes(e[n]);)n++};return o()},rZ=e=>rz(e,rD.ALL^rD.NUM);var rH=function(e,t,r,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r},rV=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class rW extends rM{constructor(e){super(),eA.add(this),ek.set(this,void 0),eO.set(this,void 0),eI.set(this,void 0),rH(this,ek,e,"f"),rH(this,eO,[],"f")}get currentChatCompletionSnapshot(){return rV(this,eI,"f")}static fromReadableStream(e){let t=new rW(null);return t._run(()=>t._fromReadableStream(e)),t}static createChatCompletion(e,t,r){let n=new rW(t);return n._run(()=>n._runChatCompletion(e,{...t,stream:!0},{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),n}async _createChatCompletion(e,t,r){super._createChatCompletion;let n=r?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),rV(this,eA,"m",eC).call(this);let a=await e.chat.completions.create({...t,stream:!0},{...r,signal:this.controller.signal});for await(let e of(this._connected(),a))rV(this,eA,"m",eP).call(this,e);if(a.controller.signal?.aborted)throw new V;return this._addChatCompletion(rV(this,eA,"m",ej).call(this))}async _fromReadableStream(e,t){let r,n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),rV(this,eA,"m",eC).call(this),this._connected();let a=te.fromReadableStream(e,this.controller);for await(let e of a)r&&r!==e.id&&this._addChatCompletion(rV(this,eA,"m",ej).call(this)),rV(this,eA,"m",eP).call(this,e),r=e.id;if(a.controller.signal?.aborted)throw new V;return this._addChatCompletion(rV(this,eA,"m",ej).call(this))}[(ek=new WeakMap,eO=new WeakMap,eI=new WeakMap,eA=new WeakSet,eC=function(){this.ended||rH(this,eI,void 0,"f")},eT=function(e){let t=rV(this,eO,"f")[e.index];return t||(t={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},rV(this,eO,"f")[e.index]=t),t},eP=function(e){if(this.ended)return;let t=rV(this,eA,"m",eL).call(this,e);for(let r of(this._emit("chunk",e,t),e.choices)){let e=t.choices[r.index];null!=r.delta.content&&e.message?.role==="assistant"&&e.message?.content&&(this._emit("content",r.delta.content,e.message.content),this._emit("content.delta",{delta:r.delta.content,snapshot:e.message.content,parsed:e.message.parsed})),null!=r.delta.refusal&&e.message?.role==="assistant"&&e.message?.refusal&&this._emit("refusal.delta",{delta:r.delta.refusal,snapshot:e.message.refusal}),r.logprobs?.content!=null&&e.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:r.logprobs?.content,snapshot:e.logprobs?.content??[]}),r.logprobs?.refusal!=null&&e.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:r.logprobs?.refusal,snapshot:e.logprobs?.refusal??[]});let n=rV(this,eA,"m",eT).call(this,e);for(let t of(e.finish_reason&&(rV(this,eA,"m",eN).call(this,e),null!=n.current_tool_call_index&&rV(this,eA,"m",eR).call(this,e,n.current_tool_call_index)),r.delta.tool_calls??[]))n.current_tool_call_index!==t.index&&(rV(this,eA,"m",eN).call(this,e),null!=n.current_tool_call_index&&rV(this,eA,"m",eR).call(this,e,n.current_tool_call_index)),n.current_tool_call_index=t.index;for(let t of r.delta.tool_calls??[]){let r=e.message.tool_calls?.[t.index];r?.type&&(r?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:r.function?.name,index:t.index,arguments:r.function.arguments,parsed_arguments:r.function.parsed_arguments,arguments_delta:t.function?.arguments??""}):r?.type)}}},eR=function(e,t){if(rV(this,eA,"m",eT).call(this,e).done_tool_calls.has(t))return;let r=e.message.tool_calls?.[t];if(!r)throw Error("no tool call snapshot");if(!r.type)throw Error("tool call snapshot missing `type`");if("function"===r.type){let e=rV(this,ek,"f")?.tools?.find(e=>"function"===e.type&&e.function.name===r.function.name);this._emit("tool_calls.function.arguments.done",{name:r.function.name,index:t,arguments:r.function.arguments,parsed_arguments:rA(e)?e.$parseRaw(r.function.arguments):e?.function.strict?JSON.parse(r.function.arguments):null})}else r.type},eN=function(e){let t=rV(this,eA,"m",eT).call(this,e);if(e.message.content&&!t.content_done){t.content_done=!0;let r=rV(this,eA,"m",eM).call(this);this._emit("content.done",{content:e.message.content,parsed:r?r.$parseRaw(e.message.content):null})}e.message.refusal&&!t.refusal_done&&(t.refusal_done=!0,this._emit("refusal.done",{refusal:e.message.refusal})),e.logprobs?.content&&!t.logprobs_content_done&&(t.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:e.logprobs.content})),e.logprobs?.refusal&&!t.logprobs_refusal_done&&(t.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:e.logprobs.refusal}))},ej=function(){if(this.ended)throw new Z("stream has ended, this shouldn't happen");let e=rV(this,eI,"f");if(!e)throw new Z("request ended without sending any chunks");return rH(this,eI,void 0,"f"),rH(this,eO,[],"f"),rq(e,rV(this,ek,"f"))},eM=function(){let e=rV(this,ek,"f")?.response_format;return rx(e)?e:null},eL=function(e){var t,r,n,a;let i=rV(this,eI,"f"),{choices:o,...s}=e;for(let{delta:o,finish_reason:l,index:u,logprobs:c=null,...d}of(i?Object.assign(i,s):i=rH(this,eI,{...s,choices:[]},"f"),e.choices)){let e=i.choices[u];if(e||(e=i.choices[u]={finish_reason:l,index:u,message:{},logprobs:c,...d}),c)if(e.logprobs){let{content:n,refusal:a,...i}=c;Object.assign(e.logprobs,i),n&&((t=e.logprobs).content??(t.content=[]),e.logprobs.content.push(...n)),a&&((r=e.logprobs).refusal??(r.refusal=[]),e.logprobs.refusal.push(...a))}else e.logprobs=Object.assign({},c);if(l&&(e.finish_reason=l,rV(this,ek,"f")&&rP(rV(this,ek,"f")))){if("length"===l)throw new er;if("content_filter"===l)throw new en}if(Object.assign(e,d),!o)continue;let{content:s,refusal:f,function_call:p,role:h,tool_calls:m,...y}=o;if(Object.assign(e.message,y),f&&(e.message.refusal=(e.message.refusal||"")+f),h&&(e.message.role=h),p&&(e.message.function_call?(p.name&&(e.message.function_call.name=p.name),p.arguments&&((n=e.message.function_call).arguments??(n.arguments=""),e.message.function_call.arguments+=p.arguments)):e.message.function_call=p),s&&(e.message.content=(e.message.content||"")+s,!e.message.refusal&&rV(this,eA,"m",eM).call(this)&&(e.message.parsed=rZ(e.message.content))),m)for(let{index:t,id:r,type:n,function:i,...o}of(e.message.tool_calls||(e.message.tool_calls=[]),m)){let s=(a=e.message.tool_calls)[t]??(a[t]={});Object.assign(s,o),r&&(s.id=r),n&&(s.type=n),i&&(s.function??(s.function={name:i.name??"",arguments:""})),i?.name&&(s.function.name=i.name),i?.arguments&&(s.function.arguments+=i.arguments,rT(rV(this,ek,"f"),s)&&(s.function.parsed_arguments=rZ(s.function.arguments)))}}return i},Symbol.asyncIterator)](){let e=[],t=[],r=!1;return this.on("chunk",r=>{let n=t.shift();n?n.resolve(r):e.push(r)}),this.on("end",()=>{for(let e of(r=!0,t))e.resolve(void 0);t.length=0}),this.on("abort",e=>{for(let n of(r=!0,t))n.reject(e);t.length=0}),this.on("error",e=>{for(let n of(r=!0,t))n.reject(e);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((e,r)=>t.push({resolve:e,reject:r})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new te(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function rq(e,t){let{id:r,choices:n,created:a,model:i,system_fingerprint:o,...s}=e;return rk({...s,id:r,choices:n.map(({message:t,finish_reason:r,index:n,logprobs:a,...i})=>{if(!r)throw new Z(`missing finish_reason for choice ${n}`);let{content:o=null,function_call:s,tool_calls:l,...u}=t,c=t.role;if(!c)throw new Z(`missing role for choice ${n}`);if(s){let{arguments:e,name:l}=s;if(null==e)throw new Z(`missing function_call.arguments for choice ${n}`);if(!l)throw new Z(`missing function_call.name for choice ${n}`);return{...i,message:{content:o,function_call:{arguments:e,name:l},role:c,refusal:t.refusal??null},finish_reason:r,index:n,logprobs:a}}return l?{...i,index:n,finish_reason:r,logprobs:a,message:{...u,role:c,content:o,refusal:t.refusal??null,tool_calls:l.map((t,r)=>{let{function:a,type:i,id:o,...s}=t,{arguments:l,name:u,...c}=a||{};if(null==o)throw new Z(`missing choices[${n}].tool_calls[${r}].id
${rK(e)}`);if(null==i)throw new Z(`missing choices[${n}].tool_calls[${r}].type
${rK(e)}`);if(null==u)throw new Z(`missing choices[${n}].tool_calls[${r}].function.name
${rK(e)}`);if(null==l)throw new Z(`missing choices[${n}].tool_calls[${r}].function.arguments
${rK(e)}`);return{...s,id:o,type:i,function:{...c,name:u,arguments:l}}})}}:{...i,message:{...u,content:o,role:c,refusal:t.refusal??null},finish_reason:r,index:n,logprobs:a}}),created:a,model:i,object:"chat.completion",...o?{system_fingerprint:o}:{}},t)}function rK(e){return JSON.stringify(e)}class rG extends rW{static fromReadableStream(e){let t=new rG(null);return t._run(()=>t._fromReadableStream(e)),t}static runFunctions(e,t,r){let n=new rG(null),a={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return n._run(()=>n._runFunctions(e,t,a)),n}static runTools(e,t,r){let n=new rG(t),a={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runTools"}};return n._run(()=>n._runTools(e,t,a)),n}}class rJ extends t3{parse(e,t){return rR(e.tools),this._client.chat.completions.create(e,{...t,headers:{...t?.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(t=>rO(t,e))}runFunctions(e,t){return e.stream?rG.runFunctions(this._client,e,t):rL.runFunctions(this._client,e,t)}runTools(e,t){return e.stream?rG.runTools(this._client,e,t):rL.runTools(this._client,e,t)}stream(e,t){return rW.createChatCompletion(this._client,e,t)}}class rY extends t3{constructor(){super(...arguments),this.completions=new rJ(this._client)}}!function(e){e.Completions=rJ}(rY||(rY={}));class rX extends t3{create(e,t){return this._client.post("/realtime/sessions",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}}class rQ extends t3{constructor(){super(...arguments),this.sessions=new rX(this._client)}}rQ.Sessions=rX;var r0=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},r1=function(e,t,r,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r};class r2 extends rE{constructor(){super(...arguments),eD.add(this),eB.set(this,[]),eF.set(this,{}),ez.set(this,{}),eU.set(this,void 0),eZ.set(this,void 0),eH.set(this,void 0),eV.set(this,void 0),eW.set(this,void 0),eq.set(this,void 0),eK.set(this,void 0),eG.set(this,void 0),eJ.set(this,void 0)}[(eB=new WeakMap,eF=new WeakMap,ez=new WeakMap,eU=new WeakMap,eZ=new WeakMap,eH=new WeakMap,eV=new WeakMap,eW=new WeakMap,eq=new WeakMap,eK=new WeakMap,eG=new WeakMap,eJ=new WeakMap,eD=new WeakSet,Symbol.asyncIterator)](){let e=[],t=[],r=!1;return this.on("event",r=>{let n=t.shift();n?n.resolve(r):e.push(r)}),this.on("end",()=>{for(let e of(r=!0,t))e.resolve(void 0);t.length=0}),this.on("abort",e=>{for(let n of(r=!0,t))n.reject(e);t.length=0}),this.on("error",e=>{for(let n of(r=!0,t))n.reject(e);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((e,r)=>t.push({resolve:e,reject:r})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){let t=new r2;return t._run(()=>t._fromReadableStream(e)),t}async _fromReadableStream(e,t){let r=t?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();let n=te.fromReadableStream(e,this.controller);for await(let e of n)r0(this,eD,"m",eY).call(this,e);if(n.controller.signal?.aborted)throw new V;return this._addRun(r0(this,eD,"m",eX).call(this))}toReadableStream(){return new te(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,r,n,a){let i=new r2;return i._run(()=>i._runToolAssistantStream(e,t,r,n,{...a,headers:{...a?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createToolAssistantStream(e,t,r,n,a){let i=a?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));let o={...n,stream:!0},s=await e.submitToolOutputs(t,r,o,{...a,signal:this.controller.signal});for await(let e of(this._connected(),s))r0(this,eD,"m",eY).call(this,e);if(s.controller.signal?.aborted)throw new V;return this._addRun(r0(this,eD,"m",eX).call(this))}static createThreadAssistantStream(e,t,r){let n=new r2;return n._run(()=>n._threadAssistantStream(e,t,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),n}static createAssistantStream(e,t,r,n){let a=new r2;return a._run(()=>a._runAssistantStream(e,t,r,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),a}currentEvent(){return r0(this,eK,"f")}currentRun(){return r0(this,eG,"f")}currentMessageSnapshot(){return r0(this,eU,"f")}currentRunStepSnapshot(){return r0(this,eJ,"f")}async finalRunSteps(){return await this.done(),Object.values(r0(this,eF,"f"))}async finalMessages(){return await this.done(),Object.values(r0(this,ez,"f"))}async finalRun(){if(await this.done(),!r0(this,eZ,"f"))throw Error("Final run was not received.");return r0(this,eZ,"f")}async _createThreadAssistantStream(e,t,r){let n=r?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort()));let a={...t,stream:!0},i=await e.createAndRun(a,{...r,signal:this.controller.signal});for await(let e of(this._connected(),i))r0(this,eD,"m",eY).call(this,e);if(i.controller.signal?.aborted)throw new V;return this._addRun(r0(this,eD,"m",eX).call(this))}async _createAssistantStream(e,t,r,n){let a=n?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));let i={...r,stream:!0},o=await e.create(t,i,{...n,signal:this.controller.signal});for await(let e of(this._connected(),o))r0(this,eD,"m",eY).call(this,e);if(o.controller.signal?.aborted)throw new V;return this._addRun(r0(this,eD,"m",eX).call(this))}static accumulateDelta(e,t){for(let[r,n]of Object.entries(t)){if(!e.hasOwnProperty(r)){e[r]=n;continue}let t=e[r];if(null==t||"index"===r||"type"===r){e[r]=n;continue}if("string"==typeof t&&"string"==typeof n)t+=n;else if("number"==typeof t&&"number"==typeof n)t+=n;else if(t2(t)&&t2(n))t=this.accumulateDelta(t,n);else if(Array.isArray(t)&&Array.isArray(n)){if(t.every(e=>"string"==typeof e||"number"==typeof e)){t.push(...n);continue}for(let e of n){if(!t2(e))throw Error(`Expected array delta entry to be an object but got: ${e}`);let r=e.index;if(null==r)throw console.error(e),Error("Expected array delta entry to have an `index` property");if("number"!=typeof r)throw Error(`Expected array delta entry \`index\` property to be a number but got ${r}`);let n=t[r];null==n?t.push(e):t[r]=this.accumulateDelta(n,e)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${n}, accValue: ${t}`);e[r]=t}return e}_addRun(e){return e}async _threadAssistantStream(e,t,r){return await this._createThreadAssistantStream(t,e,r)}async _runAssistantStream(e,t,r,n){return await this._createAssistantStream(t,e,r,n)}async _runToolAssistantStream(e,t,r,n,a){return await this._createToolAssistantStream(r,e,t,n,a)}}eY=function(e){if(!this.ended)switch(r1(this,eK,e,"f"),r0(this,eD,"m",e1).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":r0(this,eD,"m",e4).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":r0(this,eD,"m",e0).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":r0(this,eD,"m",eQ).call(this,e);break;case"error":throw Error("Encountered an error event in event processing - errors should be processed earlier")}},eX=function(){if(this.ended)throw new Z("stream has ended, this shouldn't happen");if(!r0(this,eZ,"f"))throw Error("Final run has not been received");return r0(this,eZ,"f")},eQ=function(e){let[t,r]=r0(this,eD,"m",e3).call(this,e,r0(this,eU,"f"));for(let e of(r1(this,eU,t,"f"),r0(this,ez,"f")[t.id]=t,r)){let r=t.content[e.index];r?.type=="text"&&this._emit("textCreated",r.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(let r of e.data.delta.content){if("text"==r.type&&r.text){let e=r.text,n=t.content[r.index];if(n&&"text"==n.type)this._emit("textDelta",e,n.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(r.index!=r0(this,eH,"f")){if(r0(this,eV,"f"))switch(r0(this,eV,"f").type){case"text":this._emit("textDone",r0(this,eV,"f").text,r0(this,eU,"f"));break;case"image_file":this._emit("imageFileDone",r0(this,eV,"f").image_file,r0(this,eU,"f"))}r1(this,eH,r.index,"f")}r1(this,eV,t.content[r.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(void 0!==r0(this,eH,"f")){let t=e.data.content[r0(this,eH,"f")];if(t)switch(t.type){case"image_file":this._emit("imageFileDone",t.image_file,r0(this,eU,"f"));break;case"text":this._emit("textDone",t.text,r0(this,eU,"f"))}}r0(this,eU,"f")&&this._emit("messageDone",e.data),r1(this,eU,void 0,"f")}},e0=function(e){let t=r0(this,eD,"m",e2).call(this,e);switch(r1(this,eJ,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":let r=e.data.delta;if(r.step_details&&"tool_calls"==r.step_details.type&&r.step_details.tool_calls&&"tool_calls"==t.step_details.type)for(let e of r.step_details.tool_calls)e.index==r0(this,eW,"f")?this._emit("toolCallDelta",e,t.step_details.tool_calls[e.index]):(r0(this,eq,"f")&&this._emit("toolCallDone",r0(this,eq,"f")),r1(this,eW,e.index,"f"),r1(this,eq,t.step_details.tool_calls[e.index],"f"),r0(this,eq,"f")&&this._emit("toolCallCreated",r0(this,eq,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":r1(this,eJ,void 0,"f"),"tool_calls"==e.data.step_details.type&&r0(this,eq,"f")&&(this._emit("toolCallDone",r0(this,eq,"f")),r1(this,eq,void 0,"f")),this._emit("runStepDone",e.data,t)}},e1=function(e){r0(this,eB,"f").push(e),this._emit("event",e)},e2=function(e){switch(e.event){case"thread.run.step.created":return r0(this,eF,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=r0(this,eF,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){let n=r2.accumulateDelta(t,r.delta);r0(this,eF,"f")[e.data.id]=n}return r0(this,eF,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":r0(this,eF,"f")[e.data.id]=e.data}if(r0(this,eF,"f")[e.data.id])return r0(this,eF,"f")[e.data.id];throw Error("No snapshot available")},e3=function(e,t){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let n=e.data;if(n.delta.content)for(let e of n.delta.content)if(e.index in t.content){let r=t.content[e.index];t.content[e.index]=r0(this,eD,"m",e9).call(this,e,r)}else t.content[e.index]=e,r.push(e);return[t,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},e9=function(e,t){return r2.accumulateDelta(t,e)},e4=function(e){switch(r1(this,eG,e.data,"f"),e.event){case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":r1(this,eZ,e.data,"f"),r0(this,eq,"f")&&(this._emit("toolCallDone",r0(this,eq,"f")),r1(this,eq,void 0,"f"))}};class r3 extends t3{create(e,t,r){return this._client.post(`/threads/${e}/messages`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}retrieve(e,t,r){return this._client.get(`/threads/${e}/messages/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}update(e,t,r,n){return this._client.post(`/threads/${e}/messages/${t}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(e,t={},r){return tN(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/messages`,r9,{query:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}del(e,t,r){return this._client.delete(`/threads/${e}/messages/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}}class r9 extends t7{}r3.MessagesPage=r9;class r4 extends t3{retrieve(e,t,r,n={},a){return tN(n)?this.retrieve(e,t,r,{},n):this._client.get(`/threads/${e}/runs/${t}/steps/${r}`,{query:n,...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}list(e,t,r={},n){return tN(r)?this.list(e,t,{},r):this._client.getAPIList(`/threads/${e}/runs/${t}/steps`,r8,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}}class r8 extends t7{}r4.RunStepsPage=r8;class r6 extends t3{constructor(){super(...arguments),this.steps=new r4(this._client)}create(e,t,r){let{include:n,...a}=t;return this._client.post(`/threads/${e}/runs`,{query:{include:n},body:a,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers},stream:t.stream??!1})}retrieve(e,t,r){return this._client.get(`/threads/${e}/runs/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}update(e,t,r,n){return this._client.post(`/threads/${e}/runs/${t}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(e,t={},r){return tN(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/runs`,r5,{query:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}cancel(e,t,r){return this._client.post(`/threads/${e}/runs/${t}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}async createAndPoll(e,t,r){let n=await this.create(e,t,r);return await this.poll(e,n.id,r)}createAndStream(e,t,r){return r2.createAssistantStream(e,this._client.beta.threads.runs,t,r)}async poll(e,t,r){let n={...r?.headers,"X-Stainless-Poll-Helper":"true"};for(r?.pollIntervalMs&&(n["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){let{data:a,response:i}=await this.retrieve(e,t,{...r,headers:{...r?.headers,...n}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let o=5e3;if(r?.pollIntervalMs)o=r.pollIntervalMs;else{let e=i.headers.get("openai-poll-after-ms");if(e){let t=parseInt(e);isNaN(t)||(o=t)}}await tZ(o);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(e,t,r){return r2.createAssistantStream(e,this._client.beta.threads.runs,t,r)}submitToolOutputs(e,t,r,n){return this._client.post(`/threads/${e}/runs/${t}/submit_tool_outputs`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(e,t,r,n){let a=await this.submitToolOutputs(e,t,r,n);return await this.poll(e,a.id,n)}submitToolOutputsStream(e,t,r,n){return r2.createToolAssistantStream(e,t,this._client.beta.threads.runs,r,n)}}class r5 extends t7{}r6.RunsPage=r5,r6.Steps=r4,r6.RunStepsPage=r8;class r7 extends t3{constructor(){super(...arguments),this.runs=new r6(this._client),this.messages=new r3(this._client)}create(e={},t){return tN(e)?this.create({},e):this._client.post("/threads",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,r){return this._client.post(`/threads/${e}`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}del(e,t){return this._client.delete(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers},stream:e.stream??!1})}async createAndRunPoll(e,t){let r=await this.createAndRun(e,t);return await this.runs.poll(r.thread_id,r.id,t)}createAndRunStream(e,t){return r2.createThreadAssistantStream(e,this._client.beta.threads,t)}}r7.Runs=r6,r7.RunsPage=r5,r7.Messages=r3,r7.MessagesPage=r9;let ne=async e=>{let t=await Promise.allSettled(e),r=t.filter(e=>"rejected"===e.status);if(r.length){for(let e of r)console.error(e.reason);throw Error(`${r.length} promise(s) failed - see the above errors`)}let n=[];for(let e of t)"fulfilled"===e.status&&n.push(e.value);return n};class nt extends t3{create(e,t,r){return this._client.post(`/vector_stores/${e}/files`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}retrieve(e,t,r){return this._client.get(`/vector_stores/${e}/files/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e,t={},r){return tN(t)?this.list(e,{},t):this._client.getAPIList(`/vector_stores/${e}/files`,nr,{query:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}del(e,t,r){return this._client.delete(`/vector_stores/${e}/files/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}async createAndPoll(e,t,r){let n=await this.create(e,t,r);return await this.poll(e,n.id,r)}async poll(e,t,r){let n={...r?.headers,"X-Stainless-Poll-Helper":"true"};for(r?.pollIntervalMs&&(n["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){let a=await this.retrieve(e,t,{...r,headers:n}).withResponse(),i=a.data;switch(i.status){case"in_progress":let o=5e3;if(r?.pollIntervalMs)o=r.pollIntervalMs;else{let e=a.response.headers.get("openai-poll-after-ms");if(e){let t=parseInt(e);isNaN(t)||(o=t)}}await tZ(o);break;case"failed":case"completed":return i}}}async upload(e,t,r){let n=await this._client.files.create({file:t,purpose:"assistants"},r);return this.create(e,{file_id:n.id},r)}async uploadAndPoll(e,t,r){let n=await this.upload(e,t,r);return await this.poll(e,n.id,r)}}class nr extends t7{}nt.VectorStoreFilesPage=nr;class nn extends t3{create(e,t,r){return this._client.post(`/vector_stores/${e}/file_batches`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}retrieve(e,t,r){return this._client.get(`/vector_stores/${e}/file_batches/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}cancel(e,t,r){return this._client.post(`/vector_stores/${e}/file_batches/${t}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}async createAndPoll(e,t,r){let n=await this.create(e,t);return await this.poll(e,n.id,r)}listFiles(e,t,r={},n){return tN(r)?this.listFiles(e,t,{},r):this._client.getAPIList(`/vector_stores/${e}/file_batches/${t}/files`,nr,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async poll(e,t,r){let n={...r?.headers,"X-Stainless-Poll-Helper":"true"};for(r?.pollIntervalMs&&(n["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){let{data:a,response:i}=await this.retrieve(e,t,{...r,headers:n}).withResponse();switch(a.status){case"in_progress":let o=5e3;if(r?.pollIntervalMs)o=r.pollIntervalMs;else{let e=i.headers.get("openai-poll-after-ms");if(e){let t=parseInt(e);isNaN(t)||(o=t)}}await tZ(o);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(e,{files:t,fileIds:r=[]},n){if(null==t||0==t.length)throw Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");let a=Math.min(n?.maxConcurrency??5,t.length),i=this._client,o=t.values(),s=[...r];async function l(e){for(let t of e){let e=await i.files.create({file:t,purpose:"assistants"},n);s.push(e.id)}}let u=Array(a).fill(o).map(l);return await ne(u),await this.createAndPoll(e,{file_ids:s})}}class na extends t3{constructor(){super(...arguments),this.files=new nt(this._client),this.fileBatches=new nn(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,r){return this._client.post(`/vector_stores/${e}`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e={},t){return tN(e)?this.list({},e):this._client.getAPIList("/vector_stores",ni,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}del(e,t){return this._client.delete(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}}class ni extends t7{}na.VectorStoresPage=ni,na.Files=nt,na.VectorStoreFilesPage=nr,na.FileBatches=nn;class no extends t3{constructor(){super(...arguments),this.realtime=new rQ(this._client),this.vectorStores=new na(this._client),this.chat=new rY(this._client),this.assistants=new ry(this._client),this.threads=new r7(this._client)}}no.Realtime=rQ,no.VectorStores=na,no.VectorStoresPage=ni,no.Assistants=ry,no.AssistantsPage=rg,no.Threads=r7;class ns extends t3{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(`/batches/${e}`,t)}list(e={},t){return tN(e)?this.list({},e):this._client.getAPIList("/batches",nl,{query:e,...t})}cancel(e,t){return this._client.post(`/batches/${e}/cancel`,t)}}class nl extends t7{}ns.BatchesPage=nl;class nu extends t3{create(e,t,r){return this._client.post(`/uploads/${e}/parts`,tv({body:t,...r}))}}class nc extends t3{constructor(){super(...arguments),this.parts=new nu(this._client)}create(e,t){return this._client.post("/uploads",{body:e,...t})}cancel(e,t){return this._client.post(`/uploads/${e}/cancel`,t)}complete(e,t,r){return this._client.post(`/uploads/${e}/complete`,{body:t,...r})}}nc.Parts=nu,r(29143);class nd extends tI{constructor({baseURL:e=tW("OPENAI_BASE_URL"),apiKey:t=tW("OPENAI_API_KEY"),organization:r=tW("OPENAI_ORG_ID")??null,project:n=tW("OPENAI_PROJECT_ID")??null,...a}={}){if(void 0===t)throw new Z("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");let i={apiKey:t,organization:r,project:n,...a,baseURL:e||"https://api.openai.com/v1"};if(!i.dangerouslyAllowBrowser&&tQ())throw new Z("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");super({baseURL:i.baseURL,timeout:i.timeout??6e5,httpAgent:i.httpAgent,maxRetries:i.maxRetries,fetch:i.fetch}),this.completions=new t9(this),this.chat=new t8(this),this.embeddings=new t6(this),this.files=new re(this),this.images=new rr(this),this.audio=new ro(this),this.moderations=new rs(this),this.models=new rl(this),this.fineTuning=new rm(this),this.beta=new no(this),this.batches=new ns(this),this.uploads=new nc(this),this._options=i,this.apiKey=t,this.organization=r,this.project=n}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return R(e,{arrayFormat:"brackets"})}}e8=nd,nd.OpenAI=e8,nd.DEFAULT_TIMEOUT=6e5,nd.OpenAIError=Z,nd.APIError=H,nd.APIConnectionError=W,nd.APIConnectionTimeoutError=q,nd.APIUserAbortError=V,nd.NotFoundError=Y,nd.ConflictError=X,nd.RateLimitError=ee,nd.BadRequestError=K,nd.AuthenticationError=G,nd.InternalServerError=et,nd.PermissionDeniedError=J,nd.UnprocessableEntityError=Q,nd.toFile=td,nd.fileFromPath=d,nd.Completions=t9,nd.Chat=t8,nd.Embeddings=t6,nd.Files=re,nd.FileObjectsPage=rt,nd.Images=rr,nd.Audio=ro,nd.Moderations=rs,nd.Models=rl,nd.ModelsPage=ru,nd.FineTuning=rm,nd.Beta=no,nd.Batches=ns,nd.BatchesPage=nl,nd.Uploads=nc;let nf=nd},52187:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=i(r(79922)),a=r(21988);function i(e){return e&&e.__esModule?e:{default:e}}var o=/^[0-9]+$/;function s(e,t){return((0,n.default)(e),t&&t.no_symbols)?o.test(e):new RegExp("^[+-]?([0-9]*[".concat((t||{}).locale?a.decimal[t.locale]:".","])?[0-9]+$")).test(e)}e.exports=t.default,e.exports.default=t.default},53034:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=/^[a-z]+\/[a-z0-9\-\+\._]+$/i,o=/^[a-z\-]+=[a-z0-9\-]+$/i,s=/^[a-z0-9!\$&'\(\)\*\+,;=\-\._~:@\/\?%\s]*$/i;function l(e){(0,n.default)(e);var t=e.split(",");if(t.length<2)return!1;var r=t.shift().trim().split(";"),a=r.shift();if("data:"!==a.slice(0,5))return!1;var l=a.slice(5);if(""!==l&&!i.test(l))return!1;for(var u=0;u<r.length;u++)if((u!==r.length-1||"base64"!==r[u].toLowerCase())&&!o.test(r[u]))return!1;for(var c=0;c<t.length;c++)if(!s.test(t[c]))return!1;return!0}e.exports=t.default,e.exports.default=t.default},54506:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){(0,n.default)(e),"object"===i(t)?(r=t.min||0,a=t.max):(r=arguments[1],a=arguments[2]);var r,a,o=encodeURI(e).split(/%..|./).length-1;return o>=r&&(void 0===a||o<=a)}e.exports=t.default,e.exports.default=t.default},54534:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c,t.locales=void 0;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=/^\d{3}$/,o=/^\d{4}$/,s=/^\d{5}$/,l=/^\d{6}$/,u={AD:/^AD\d{3}$/,AT:o,AU:o,AZ:/^AZ\d{4}$/,BA:/^([7-8]\d{4}$)/,BE:o,BG:o,BR:/^\d{5}-\d{3}$/,BY:/^2[1-4]\d{4}$/,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][\s\-]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,CH:o,CN:/^(0[1-7]|1[012356]|2[0-7]|3[0-6]|4[0-7]|5[1-7]|6[1-7]|7[1-5]|8[1345]|9[09])\d{4}$/,CZ:/^\d{3}\s?\d{2}$/,DE:s,DK:o,DO:s,DZ:s,EE:s,ES:/^(5[0-2]{1}|[0-4]{1}\d{1})\d{3}$/,FI:s,FR:/^\d{2}\s?\d{3}$/,GB:/^(gir\s?0aa|[a-z]{1,2}\d[\da-z]?\s?(\d[a-z]{2})?)$/i,GR:/^\d{3}\s?\d{2}$/,HR:/^([1-5]\d{4}$)/,HT:/^HT\d{4}$/,HU:o,ID:s,IE:/^(?!.*(?:o))[A-Za-z]\d[\dw]\s\w{4}$/i,IL:/^(\d{5}|\d{7})$/,IN:/^((?!10|29|35|54|55|65|66|86|87|88|89)[1-9][0-9]{5})$/,IR:/^(?!(\d)\1{3})[13-9]{4}[1346-9][013-9]{5}$/,IS:i,IT:s,JP:/^\d{3}\-\d{4}$/,KE:s,KR:/^(\d{5}|\d{6})$/,LI:/^(948[5-9]|949[0-7])$/,LT:/^LT\-\d{5}$/,LU:o,LV:/^LV\-\d{4}$/,LK:s,MG:i,MX:s,MT:/^[A-Za-z]{3}\s{0,1}\d{4}$/,MY:s,NL:/^[1-9]\d{3}\s?(?!sa|sd|ss)[a-z]{2}$/i,NO:o,NP:/^(10|21|22|32|33|34|44|45|56|57)\d{3}$|^(977)$/i,NZ:o,PL:/^\d{2}\-\d{3}$/,PR:/^00[679]\d{2}([ -]\d{4})?$/,PT:/^\d{4}\-\d{3}?$/,RO:l,RU:l,SA:s,SE:/^[1-9]\d{2}\s?\d{2}$/,SG:l,SI:o,SK:/^\d{3}\s?\d{2}$/,TH:s,TN:o,TW:/^\d{3}(\d{2})?$/,UA:s,US:/^\d{5}(-\d{4})?$/,ZA:o,ZM:s};function c(e,t){if((0,n.default)(e),t in u)return u[t].test(e);if("any"===t){for(var r in u)if(u.hasOwnProperty(r)&&u[r].test(e))return!0;return!1}throw Error("Invalid locale '".concat(t,"'"))}t.locales=Object.keys(u)},54913:(e,t,r)=>{"use strict";var n=r(3140),a=r(83639),i=a([n("%String.prototype.indexOf%")]);e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&i(e,".prototype.")>-1?a([r]):r}},55032:(e,t,r)=>{var n=r(29143);e.exports=r(77012).satisfies(n.version,"^6.12.0 || >=8.0.0")},55790:(e,t,r)=>{let n=r(95424),a=r(6746),i={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},o={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};e.exports=function(e,t){if(!e||!t)return;let r=t.asymmetricKeyType;if(!r)return;let s=i[r];if(!s)throw Error(`Unknown key type "${r}".`);if(!s.includes(e))throw Error(`"alg" parameter for "${r}" key type must be one of: ${s.join(", ")}.`);if(n)switch(r){case"ec":let l=t.asymmetricKeyDetails.namedCurve,u=o[e];if(l!==u)throw Error(`"alg" parameter "${e}" requires curve "${u}".`);break;case"rsa-pss":if(a){let r=parseInt(e.slice(-3),10),{hashAlgorithm:n,mgf1HashAlgorithm:a,saltLength:i}=t.asymmetricKeyDetails;if(n!==`sha${r}`||a!==n)throw Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}.`);if(void 0!==i&&i>r>>3)throw Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}.`)}}}},56121:(e,t,r)=>{e.exports=r(61847)()},56451:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=/^(0o)?[0-7]+$/i;function o(e){return(0,n.default)(e),i.test(e)}e.exports=t.default,e.exports.default=t.default},56832:(e,t,r)=>{"use strict";r.d(t,{NR:()=>o,Z9:()=>A,n_:()=>k,hK:()=>c,cb:()=>s,$C:()=>d,u1:()=>f,zf:()=>h,N8:()=>$,ZZ:()=>w,eu:()=>m});var n=r(14287);let a=(e,t=21)=>(r=t)=>{let n="",a=0|r;for(;a--;)n+=e[Math.random()*e.length|0];return n};var i=r(29486);function o(e){return new ReadableStream({async pull(t){try{let{value:r,done:n}=await e.next();n?t.close():t.enqueue(r)}catch(e){t.error(e)}},cancel(){}})}async function s(e){return null==e?Promise.resolve():new Promise(t=>setTimeout(t,e))}r(29143);function l(e,t){let r=[],n=e;for(let e=0;e<t.length;){let a=t[e++];"\n"===a?(r.push(n),n=""):"\r"===a?(r.push(n),n="","\n"===t[e+1]&&e++):n+=a}return{lines:r,incompleteLine:n}}function u(e){let t={};return e.headers.forEach((e,r)=>{t[r]=e}),t}var c=({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:i="-"}={})=>{let o=a(r,t);if(null==e)return o;if(r.includes(i))throw new n.Di({argument:"separator",message:`The separator "${i}" must not be part of the alphabet "${r}".`});return t=>`${e}${i}${o(t)}`},d=c();function f(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}function p(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>null!=t))}function h(e){return e instanceof Error&&("AbortError"===e.name||"TimeoutError"===e.name)}var m=Symbol.for("vercel.ai.validator");function y(e){return{[m]:!0,validate:e}}function g(e){return"object"==typeof e&&null!==e&&m in e&&!0===e[m]&&"validate"in e}function v(e){return g(e)?e:b(e)}function b(e){return y(t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}})}function _({value:e,schema:t}){let r=w({value:e,schema:t});if(!r.success)throw TypeValidationError.wrap({value:e,cause:r.error});return r.value}function w({value:e,schema:t}){let r=v(t);try{if(null==r.validate)return{success:!0,value:e};let t=r.validate(e);if(t.success)return t;return{success:!1,error:n.iM.wrap({value:e,cause:t.error})}}catch(t){return{success:!1,error:n.iM.wrap({value:e,cause:t})}}}function $({text:e,schema:t}){try{let r=i.parse(e);if(null==t)return{success:!0,value:r,rawValue:r};let n=w({value:r,schema:t});return n.success?{...n,rawValue:r}:n}catch(t){return{success:!1,error:n.u6.isInstance(t)?t:new n.u6({text:e,cause:t})}}}var S=()=>globalThis.fetch,{btoa:E,atob:x}=globalThis;function A(e){let t=x(e.replace(/-/g,"+").replace(/_/g,"/"));return Uint8Array.from(t,e=>e.codePointAt(0))}function k(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return E(t)}},56887:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var n=s(r(29203)),a=s(r(79922)),i=s(r(57656)),o=r(21988);function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return new RegExp("^[-+]?([0-9]+)?(\\".concat(o.decimal[e.locale],"[0-9]{").concat(e.decimal_digits,"})").concat(e.force_decimal?"":"?","$"))}var u={force_decimal:!1,decimal_digits:"1,",locale:"en-US"},c=["","-","+"];function d(e,t){if((0,a.default)(e),(t=(0,n.default)(t,u)).locale in o.decimal)return!(0,i.default)(c,e.replace(/ /g,""))&&l(t).test(e);throw Error("Invalid locale '".concat(t.locale,"'"))}e.exports=t.default,e.exports.default=t.default},57300:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var n=a(r(29203));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return l(e)||s(e,t)||c(e,t)||o()}function o(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function l(e){if(Array.isArray(e))return e}function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=c(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function c(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var f={format:"YYYY/MM/DD",delimiters:["/","-"],strictMode:!1};function p(e){return/(^(y{4}|y{2})[.\/-](m{1,2})[.\/-](d{1,2})$)|(^(m{1,2})[.\/-](d{1,2})[.\/-]((y{4}|y{2})$))|(^(d{1,2})[.\/-](m{1,2})[.\/-]((y{4}|y{2})$))/gi.test(e)}function h(e,t){for(var r=[],n=Math.min(e.length,t.length),a=0;a<n;a++)r.push([e[a],t[a]]);return r}function m(e,t){if(t="string"==typeof t?(0,n.default)({format:t},f):(0,n.default)(t,f),"string"==typeof e&&p(t.format)){var r,a=t.delimiters.find(function(e){return -1!==t.format.indexOf(e)}),o=t.strictMode?a:t.delimiters.find(function(t){return -1!==e.indexOf(t)}),s=h(e.split(o),t.format.toLowerCase().split(a)),l={},c=u(s);try{for(c.s();!(r=c.n()).done;){var d=i(r.value,2),m=d[0],y=d[1];if(m.length!==y.length)return!1;l[y.charAt(0)]=m}}catch(e){c.e(e)}finally{c.f()}var g=l.y;if(g.startsWith("-"))return!1;if(2===l.y.length){var v=parseInt(l.y,10);if(isNaN(v))return!1;g=v<new Date().getFullYear()%100?"20".concat(l.y):"19".concat(l.y)}var b=l.m;1===l.m.length&&(b="0".concat(l.m));var _=l.d;return 1===l.d.length&&(_="0".concat(l.d)),new Date("".concat(g,"-").concat(b,"-").concat(_,"T00:00:00.000Z")).getUTCDate()===+l.d}return!t.strictMode&&"[object Date]"===Object.prototype.toString.call(e)&&isFinite(e)}e.exports=t.default,e.exports.default=t.default},57379:e=>{"use strict";e.exports=Function.prototype.apply},57619:(e,t,r)=>{"use strict";let n=r(77721);e.exports=(e,t)=>new n(e,t).major},57652:(e,t,r)=>{"use strict";r.d(t,{u:()=>ea});var n,a,i="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof r.g?r.g:{},o="1.9.0",s=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,l=function(e){var t=new Set([e]),r=new Set,n=e.match(s);if(!n)return function(){return!1};var a={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=a.prerelease)return function(t){return t===e};function i(e){return r.add(e),!1}function o(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;var n=e.match(s);if(!n)return i(e);var l={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};return null!=l.prerelease||a.major!==l.major?i(e):0===a.major?a.minor===l.minor&&a.patch<=l.patch?o(e):i(e):a.minor<=l.minor?o(e):i(e)}}(o),u=Symbol.for("opentelemetry.js.api."+o.split(".")[0]),c=i;function d(e,t,r,n){void 0===n&&(n=!1);var a,i=c[u]=null!=(a=c[u])?a:{version:o};if(!n&&i[e]){var s=Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(s.stack||s.message),!1}if(i.version!==o){var s=Error("@opentelemetry/api: Registration of version v"+i.version+" for "+e+" does not match previously registered API v"+o);return r.error(s.stack||s.message),!1}return i[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+o+"."),!0}function f(e){var t,r,n=null==(t=c[u])?void 0:t.version;if(n&&l(n))return null==(r=c[u])?void 0:r[e]}function p(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+o+".");var r=c[u];r&&delete r[e]}function h(e){return Symbol.for(e)}var m=new(function(){function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(e){return r._currentContext.get(e)},r.setValue=function(t,n){var a=new e(r._currentContext);return a._currentContext.set(t,n),a},r.deleteValue=function(t){var n=new e(r._currentContext);return n._currentContext.delete(t),n}}return e}()),y=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return o},g=function(e,t,r){if(r||2==arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},v=function(){function e(){}return e.prototype.active=function(){return m},e.prototype.with=function(e,t,r){for(var n=[],a=3;a<arguments.length;a++)n[a-3]=arguments[a];return t.call.apply(t,g([r],y(n),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),b=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return o},_=function(e,t,r){if(r||2==arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},w=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $("verbose",this._namespace,e)},e}();function $(e,t,r){var n=f("diag");if(n)return r.unshift(t),n[e].apply(n,_([],b(r),!1))}function S(e,t){function r(r,n){var a=t[r];return"function"==typeof a&&e>=n?a.bind(t):function(){}}return e<n.NONE?e=n.NONE:e>n.ALL&&(e=n.ALL),t=t||{},{error:r("error",n.ERROR),warn:r("warn",n.WARN),info:r("info",n.INFO),debug:r("debug",n.DEBUG),verbose:r("verbose",n.VERBOSE)}}!function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(n||(n={}));var E=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return o},x=function(e,t,r){if(r||2==arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},A="diag",k=function(){function e(){function e(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=f("diag");if(n)return n[e].apply(n,x([],E(t),!1))}}var t=this,r=function(e,r){if(void 0===r&&(r={logLevel:n.INFO}),e===t){var a,i,o,s=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!=(a=s.stack)?a:s.message),!1}"number"==typeof r&&(r={logLevel:r});var l=f("diag"),u=S(null!=(i=r.logLevel)?i:n.INFO,e);if(l&&!r.suppressOverrideMessage){var c=null!=(o=Error().stack)?o:"<failed to generate stacktrace>";l.warn("Current logger will be overwritten from "+c),u.warn("Current logger will overwrite one already registered from "+c)}return d("diag",u,t,!0)};t.setLogger=r,t.disable=function(){p(A,t)},t.createComponentLogger=function(e){return new w(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),O=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return o},I=function(e,t,r){if(r||2==arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},C="context",T=new v,P=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return d(C,e,k.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,r){for(var n,a=[],i=3;i<arguments.length;i++)a[i-3]=arguments[i];return(n=this._getContextManager()).with.apply(n,I([e,t,r],O(a),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return f(C)||T},e.prototype.disable=function(){this._getContextManager().disable(),p(C,k.instance())},e}();!function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(a||(a={}));var R="0000000000000000",N="00000000000000000000000000000000",j={traceId:N,spanId:R,traceFlags:a.NONE},M=function(){function e(e){void 0===e&&(e=j),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}(),L=h("OpenTelemetry Context Key SPAN");function D(e){return e.getValue(L)||void 0}function B(){return D(P.getInstance().active())}function F(e,t){return e.setValue(L,t)}function z(e){return e.deleteValue(L)}function U(e,t){return F(e,new M(t))}function Z(e){var t;return null==(t=D(e))?void 0:t.spanContext()}var H=/^([0-9a-f]{32})$/i,V=/^[0-9a-f]{16}$/i;function W(e){return H.test(e)&&e!==N}function q(e){return V.test(e)&&e!==R}function K(e){return W(e.traceId)&&q(e.spanId)}function G(e){return new M(e)}var J=P.getInstance(),Y=function(){function e(){}return e.prototype.startSpan=function(e,t,r){if(void 0===r&&(r=J.active()),null==t?void 0:t.root)return new M;var n=r&&Z(r);return X(n)&&K(n)?new M(n):new M},e.prototype.startActiveSpan=function(e,t,r,n){if(!(arguments.length<2)){2==arguments.length?o=t:3==arguments.length?(a=t,o=r):(a=t,i=r,o=n);var a,i,o,s=null!=i?i:J.active(),l=this.startSpan(e,a,s),u=F(s,l);return J.with(u,o,void 0,l)}},e}();function X(e){return"object"==typeof e&&"string"==typeof e.spanId&&"string"==typeof e.traceId&&"number"==typeof e.traceFlags}var Q=new Y,ee=function(){function e(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}return e.prototype.startSpan=function(e,t,r){return this._getTracer().startSpan(e,t,r)},e.prototype.startActiveSpan=function(e,t,r,n){var a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):Q},e}(),et=new(function(){function e(){}return e.prototype.getTracer=function(e,t,r){return new Y},e}()),er=function(){function e(){}return e.prototype.getTracer=function(e,t,r){var n;return null!=(n=this.getDelegateTracer(e,t,r))?n:new ee(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!=(e=this._delegate)?e:et},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,r){var n;return null==(n=this._delegate)?void 0:n.getTracer(e,t,r)},e}(),en="trace",ea=(function(){function e(){this._proxyTracerProvider=new er,this.wrapSpanContext=G,this.isSpanContextValid=K,this.deleteSpan=z,this.getSpan=D,this.getActiveSpan=B,this.getSpanContext=Z,this.setSpan=F,this.setSpanContext=U}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=d(en,this._proxyTracerProvider,k.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return f(en)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){p(en,k.instance()),this._proxyTracerProvider=new er},e})().getInstance()},57656:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e,t){return e.some(function(e){return t===e})},e.exports=t.default,e.exports.default=t.default},57759:(e,t,r)=>{var n=r(16076),a=function(e,t){n.call(this,e),this.name="NotBeforeError",this.date=t};a.prototype=Object.create(n.prototype),a.prototype.constructor=a,e.exports=a},58031:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return((0,n.default)(e),t)?"1"===e||/^true$/i.test(e):"0"!==e&&!/^false$/i.test(e)&&""!==e}e.exports=t.default,e.exports.default=t.default},58528:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u,t.locales=void 0;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i={AD:/^(AD[0-9]{2})\d{8}[A-Z0-9]{12}$/,AE:/^(AE[0-9]{2})\d{3}\d{16}$/,AL:/^(AL[0-9]{2})\d{8}[A-Z0-9]{16}$/,AT:/^(AT[0-9]{2})\d{16}$/,AZ:/^(AZ[0-9]{2})[A-Z0-9]{4}\d{20}$/,BA:/^(BA[0-9]{2})\d{16}$/,BE:/^(BE[0-9]{2})\d{12}$/,BG:/^(BG[0-9]{2})[A-Z]{4}\d{6}[A-Z0-9]{8}$/,BH:/^(BH[0-9]{2})[A-Z]{4}[A-Z0-9]{14}$/,BR:/^(BR[0-9]{2})\d{23}[A-Z]{1}[A-Z0-9]{1}$/,BY:/^(BY[0-9]{2})[A-Z0-9]{4}\d{20}$/,CH:/^(CH[0-9]{2})\d{5}[A-Z0-9]{12}$/,CR:/^(CR[0-9]{2})\d{18}$/,CY:/^(CY[0-9]{2})\d{8}[A-Z0-9]{16}$/,CZ:/^(CZ[0-9]{2})\d{20}$/,DE:/^(DE[0-9]{2})\d{18}$/,DK:/^(DK[0-9]{2})\d{14}$/,DO:/^(DO[0-9]{2})[A-Z]{4}\d{20}$/,DZ:/^(DZ\d{24})$/,EE:/^(EE[0-9]{2})\d{16}$/,EG:/^(EG[0-9]{2})\d{25}$/,ES:/^(ES[0-9]{2})\d{20}$/,FI:/^(FI[0-9]{2})\d{14}$/,FO:/^(FO[0-9]{2})\d{14}$/,FR:/^(FR[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,GB:/^(GB[0-9]{2})[A-Z]{4}\d{14}$/,GE:/^(GE[0-9]{2})[A-Z0-9]{2}\d{16}$/,GI:/^(GI[0-9]{2})[A-Z]{4}[A-Z0-9]{15}$/,GL:/^(GL[0-9]{2})\d{14}$/,GR:/^(GR[0-9]{2})\d{7}[A-Z0-9]{16}$/,GT:/^(GT[0-9]{2})[A-Z0-9]{4}[A-Z0-9]{20}$/,HR:/^(HR[0-9]{2})\d{17}$/,HU:/^(HU[0-9]{2})\d{24}$/,IE:/^(IE[0-9]{2})[A-Z0-9]{4}\d{14}$/,IL:/^(IL[0-9]{2})\d{19}$/,IQ:/^(IQ[0-9]{2})[A-Z]{4}\d{15}$/,IR:/^(IR[0-9]{2})0\d{2}0\d{18}$/,IS:/^(IS[0-9]{2})\d{22}$/,IT:/^(IT[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,JO:/^(JO[0-9]{2})[A-Z]{4}\d{22}$/,KW:/^(KW[0-9]{2})[A-Z]{4}[A-Z0-9]{22}$/,KZ:/^(KZ[0-9]{2})\d{3}[A-Z0-9]{13}$/,LB:/^(LB[0-9]{2})\d{4}[A-Z0-9]{20}$/,LC:/^(LC[0-9]{2})[A-Z]{4}[A-Z0-9]{24}$/,LI:/^(LI[0-9]{2})\d{5}[A-Z0-9]{12}$/,LT:/^(LT[0-9]{2})\d{16}$/,LU:/^(LU[0-9]{2})\d{3}[A-Z0-9]{13}$/,LV:/^(LV[0-9]{2})[A-Z]{4}[A-Z0-9]{13}$/,MA:/^(MA[0-9]{26})$/,MC:/^(MC[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,MD:/^(MD[0-9]{2})[A-Z0-9]{20}$/,ME:/^(ME[0-9]{2})\d{18}$/,MK:/^(MK[0-9]{2})\d{3}[A-Z0-9]{10}\d{2}$/,MR:/^(MR[0-9]{2})\d{23}$/,MT:/^(MT[0-9]{2})[A-Z]{4}\d{5}[A-Z0-9]{18}$/,MU:/^(MU[0-9]{2})[A-Z]{4}\d{19}[A-Z]{3}$/,MZ:/^(MZ[0-9]{2})\d{21}$/,NL:/^(NL[0-9]{2})[A-Z]{4}\d{10}$/,NO:/^(NO[0-9]{2})\d{11}$/,PK:/^(PK[0-9]{2})[A-Z0-9]{4}\d{16}$/,PL:/^(PL[0-9]{2})\d{24}$/,PS:/^(PS[0-9]{2})[A-Z0-9]{4}\d{21}$/,PT:/^(PT[0-9]{2})\d{21}$/,QA:/^(QA[0-9]{2})[A-Z]{4}[A-Z0-9]{21}$/,RO:/^(RO[0-9]{2})[A-Z]{4}[A-Z0-9]{16}$/,RS:/^(RS[0-9]{2})\d{18}$/,SA:/^(SA[0-9]{2})\d{2}[A-Z0-9]{18}$/,SC:/^(SC[0-9]{2})[A-Z]{4}\d{20}[A-Z]{3}$/,SE:/^(SE[0-9]{2})\d{20}$/,SI:/^(SI[0-9]{2})\d{15}$/,SK:/^(SK[0-9]{2})\d{20}$/,SM:/^(SM[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,SV:/^(SV[0-9]{2})[A-Z0-9]{4}\d{20}$/,TL:/^(TL[0-9]{2})\d{19}$/,TN:/^(TN[0-9]{2})\d{20}$/,TR:/^(TR[0-9]{2})\d{5}[A-Z0-9]{17}$/,UA:/^(UA[0-9]{2})\d{6}[A-Z0-9]{19}$/,VA:/^(VA[0-9]{2})\d{18}$/,VG:/^(VG[0-9]{2})[A-Z0-9]{4}\d{16}$/,XK:/^(XK[0-9]{2})\d{16}$/};function o(e){return!(e.filter(function(e){return!(e in i)}).length>0)}function s(e,t){var r=e.replace(/[\s\-]+/gi,"").toUpperCase(),n=r.slice(0,2).toUpperCase(),a=n in i;return!(t.whitelist&&(!o(t.whitelist)||!t.whitelist.includes(n))||t.blacklist&&t.blacklist.includes(n))&&a&&i[n].test(r)}function l(e){var t=e.replace(/[^A-Z0-9]+/gi,"").toUpperCase();return 1===(t.slice(4)+t.slice(0,4)).replace(/[A-Z]/g,function(e){return e.charCodeAt(0)-55}).match(/\d{1,7}/g).reduce(function(e,t){return Number(e+t)%97},"")}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.default)(e),s(e,t)&&l(e)}t.locales=Object.keys(i)},58987:(e,t)=>{"use strict";function r(e,t){return new RegExp(e.join(""),t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default,e.exports.default=t.default},59102:(e,t,r)=>{var n=r(51642),a=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return a(e,t,r)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=o),o.prototype=Object.create(a.prototype),i(a,o),o.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return a(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=a(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return a(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},59139:(e,t,r)=>{"use strict";var n=r(65563).Buffer,a=r(86610),i=128,o=48,s=2;function l(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function u(e){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,"base64");throw TypeError("ECDSA signature must be a Base64 string or a Buffer")}function c(e,t,r){for(var n=0;t+n<r&&0===e[t+n];)++n;return e[t+n]>=i&&--n,n}e.exports={derToJose:function(e,t){e=u(e);var r=a(t),c=r+1,d=e.length,f=0;if(e[f++]!==o)throw Error('Could not find expected "seq"');var p=e[f++];if(p===(1|i)&&(p=e[f++]),d-f<p)throw Error('"seq" specified length of "'+p+'", only "'+(d-f)+'" remaining');if(e[f++]!==s)throw Error('Could not find expected "int" for "r"');var h=e[f++];if(d-f-2<h)throw Error('"r" specified length of "'+h+'", only "'+(d-f-2)+'" available');if(c<h)throw Error('"r" specified length of "'+h+'", max of "'+c+'" is acceptable');var m=f;if(f+=h,e[f++]!==s)throw Error('Could not find expected "int" for "s"');var y=e[f++];if(d-f!==y)throw Error('"s" specified length of "'+y+'", expected "'+(d-f)+'"');if(c<y)throw Error('"s" specified length of "'+y+'", max of "'+c+'" is acceptable');var g=f;if((f+=y)!==d)throw Error('Expected to consume entire buffer, but "'+(d-f)+'" bytes remain');var v=r-h,b=r-y,_=n.allocUnsafe(v+h+b+y);for(f=0;f<v;++f)_[f]=0;e.copy(_,f,m+Math.max(-v,0),m+h),f=r;for(var w=f;f<w+b;++f)_[f]=0;return e.copy(_,f,g+Math.max(-b,0),g+y),_=l(_=_.toString("base64"))},joseToDer:function(e,t){e=u(e);var r=a(t),l=e.length;if(l!==2*r)throw TypeError('"'+t+'" signatures must be "'+2*r+'" bytes, saw "'+l+'"');var d=c(e,0,r),f=c(e,r,e.length),p=r-d,h=r-f,m=2+p+1+1+h,y=m<i,g=n.allocUnsafe((y?2:3)+m),v=0;return g[v++]=o,y?g[v++]=m:(g[v++]=1|i,g[v++]=255&m),g[v++]=s,g[v++]=p,d<0?(g[v++]=0,v+=e.copy(g,v,0,r)):v+=e.copy(g,v,d,r),g[v++]=s,g[v++]=h,f<0?(g[v++]=0,e.copy(g,v,r)):e.copy(g,v,r+f),g}}},59237:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=new Set(["AFG","ALA","ALB","DZA","ASM","AND","AGO","AIA","ATA","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BMU","BTN","BOL","BES","BIH","BWA","BVT","BRA","IOT","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CYM","CAF","TCD","CHL","CHN","CXR","CCK","COL","COM","COG","COD","COK","CRI","CIV","HRV","CUB","CUW","CYP","CZE","DNK","DJI","DMA","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FLK","FRO","FJI","FIN","FRA","GUF","PYF","ATF","GAB","GMB","GEO","DEU","GHA","GIB","GRC","GRL","GRD","GLP","GUM","GTM","GGY","GIN","GNB","GUY","HTI","HMD","VAT","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","IMN","ISR","ITA","JAM","JPN","JEY","JOR","KAZ","KEN","KIR","PRK","KOR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LIE","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MHL","MTQ","MRT","MUS","MYT","MEX","FSM","MDA","MCO","MNG","MNE","MSR","MAR","MOZ","MMR","NAM","NRU","NPL","NLD","NCL","NZL","NIC","NER","NGA","NIU","NFK","MNP","NOR","OMN","PAK","PLW","PSE","PAN","PNG","PRY","PER","PHL","PCN","POL","PRT","PRI","QAT","REU","ROU","RUS","RWA","BLM","SHN","KNA","LCA","MAF","SPM","VCT","WSM","SMR","STP","SAU","SEN","SRB","SYC","SLE","SGP","SXM","SVK","SVN","SLB","SOM","ZAF","SGS","SSD","ESP","LKA","SDN","SUR","SJM","SWZ","SWE","CHE","SYR","TWN","TJK","TZA","THA","TLS","TGO","TKL","TON","TTO","TUN","TUR","TKM","TCA","TUV","UGA","UKR","ARE","GBR","USA","UMI","URY","UZB","VUT","VEN","VNM","VGB","VIR","WLF","ESH","YEM","ZMB","ZWE"]);function o(e){return(0,n.default)(e),i.has(e.toUpperCase())}e.exports=t.default,e.exports.default=t.default},59748:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(55729)),a=i(r(26882));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function l(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(e){function t(){o(this,t);for(var e,r,a,i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return r=a=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.render=function(){return n.default.createElement("a",a.props,a.props.children)},s(a,r)}return l(t,e),t}(n.default.Component);t.default=(0,a.default)(u)},59754:(e,t,r)=>{"use strict";r.d(t,{d:()=>eq});var n,a,i,o,s,l,u,c,d,f,p,h,m,y,g="vercel.ai.error",v=Symbol.for(g),b=class e extends Error{constructor({name:e,message:t,cause:r}){super(t),this[n]=!0,this.name=e,this.cause=r}static isInstance(t){return e.hasMarker(t,g)}static hasMarker(e,t){let r=Symbol.for(t);return null!=e&&"object"==typeof e&&r in e&&"boolean"==typeof e[r]&&!0===e[r]}};n=v;var _=b,w="AI_APICallError",$=`vercel.ai.error.${w}`,S=Symbol.for($),E=class extends _{constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:i,responseBody:o,cause:s,isRetryable:l=null!=n&&(408===n||409===n||429===n||n>=500),data:u}){super({name:w,message:e,cause:s}),this[a]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=i,this.responseBody=o,this.isRetryable=l,this.data=u}static isInstance(e){return _.hasMarker(e,$)}};a=S;var x="AI_EmptyResponseBodyError",A=`vercel.ai.error.${x}`,k=Symbol.for(A),O=class extends _{constructor({message:e="Empty response body"}={}){super({name:x,message:e}),this[i]=!0}static isInstance(e){return _.hasMarker(e,A)}};function I(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}i=k;var C="AI_InvalidArgumentError",T=`vercel.ai.error.${C}`,P=Symbol.for(T),R=class extends _{constructor({message:e,cause:t,argument:r}){super({name:C,message:e,cause:t}),this[o]=!0,this.argument=r}static isInstance(e){return _.hasMarker(e,T)}};o=P;var N="AI_InvalidPromptError";s=Symbol.for(`vercel.ai.error.${N}`);var j="AI_InvalidResponseDataError";l=Symbol.for(`vercel.ai.error.${j}`);var M="AI_JSONParseError",L=`vercel.ai.error.${M}`,D=Symbol.for(L),B=class extends _{constructor({text:e,cause:t}){super({name:M,message:`JSON parsing failed: Text: ${e}.
Error message: ${I(t)}`,cause:t}),this[u]=!0,this.text=e}static isInstance(e){return _.hasMarker(e,L)}};u=D;var F="AI_LoadAPIKeyError",z=`vercel.ai.error.${F}`,U=Symbol.for(z),Z=class extends _{constructor({message:e}){super({name:F,message:e}),this[c]=!0}static isInstance(e){return _.hasMarker(e,z)}};c=U;var H="AI_LoadSettingError";d=Symbol.for(`vercel.ai.error.${H}`);var V="AI_NoContentGeneratedError";f=Symbol.for(`vercel.ai.error.${V}`);var W="AI_NoSuchModelError",q=`vercel.ai.error.${W}`,K=Symbol.for(q),G=class extends _{constructor({errorName:e=W,modelId:t,modelType:r,message:n=`No such ${r}: ${t}`}){super({name:e,message:n}),this[p]=!0,this.modelId=t,this.modelType=r}static isInstance(e){return _.hasMarker(e,q)}};p=K;var J="AI_TooManyEmbeddingValuesForCallError";h=Symbol.for(`vercel.ai.error.${J}`);var Y="AI_TypeValidationError",X=`vercel.ai.error.${Y}`,Q=Symbol.for(X),ee=class e extends _{constructor({value:e,cause:t}){super({name:Y,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${I(t)}`,cause:t}),this[m]=!0,this.value=e}static isInstance(e){return _.hasMarker(e,X)}static wrap({value:t,cause:r}){return e.isInstance(r)&&r.value===t?r:new e({value:t,cause:r})}};m=Q;var et=ee,er="AI_UnsupportedFunctionalityError",en=`vercel.ai.error.${er}`,ea=Symbol.for(en),ei=class extends _{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:er,message:t}),this[y]=!0,this.functionality=e}static isInstance(e){return _.hasMarker(e,en)}};function eo(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||(Array.isArray(e)?e.every(eo):"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&eo(t)))}y=ea;let es=(e,t=21)=>(r=t)=>{let n="",a=0|r;for(;a--;)n+=e[Math.random()*e.length|0];return n};var el=r(29486),eu=r(29143);function ec(...e){return e.reduce((e,t)=>({...e,...null!=t?t:{}}),{})}function ed(){let e,t,r,n="",a=[];function i(e,t){if(""===e)return void o(t);if(e.startsWith(":"))return;let r=e.indexOf(":");if(-1===r)return void s(e,"");let n=e.slice(0,r),a=r+1;s(n,a<e.length&&" "===e[a]?e.slice(a+1):e.slice(a))}function o(n){a.length>0&&(n.enqueue({event:e,data:a.join("\n"),id:t,retry:r}),a=[],e=void 0,r=void 0)}function s(n,i){switch(n){case"event":e=i;break;case"data":a.push(i);break;case"id":t=i;break;case"retry":let o=parseInt(i,10);isNaN(o)||(r=o)}}return new TransformStream({transform(e,t){let{lines:r,incompleteLine:a}=ef(n,e);n=a;for(let e=0;e<r.length;e++)i(r[e],t)},flush(e){i(n,e),o(e)}})}function ef(e,t){let r=[],n=e;for(let e=0;e<t.length;){let a=t[e++];"\n"===a?(r.push(n),n=""):"\r"===a?(r.push(n),n="","\n"===t[e]&&e++):n+=a}return{lines:r,incompleteLine:n}}function ep(e){let t={};return e.headers.forEach((e,r)=>{t[r]=e}),t}var eh=(({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let a=es(r,t);if(null==e)return a;if(r.includes(n))throw new R({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return t=>`${e}${n}${a(t)}`})();function em(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>null!=t))}function ey(e){return e instanceof Error&&("AbortError"===e.name||"TimeoutError"===e.name)}function eg({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if("string"==typeof e)return e;if(null!=e)throw new Z({message:`${n} API key must be a string.`});if(void 0===eu)throw new Z({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(null==(e=eu.env[t]))throw new Z({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if("string"!=typeof e)throw new Z({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}var ev=Symbol.for("vercel.ai.validator");function eb(e){return{[ev]:!0,validate:e}}function e_(e){return"object"==typeof e&&null!==e&&ev in e&&!0===e[ev]&&"validate"in e}function ew(e){return e_(e)?e:e$(e)}function e$(e){return eb(t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}})}function eS({value:e,schema:t}){let r=eE({value:e,schema:t});if(!r.success)throw et.wrap({value:e,cause:r.error});return r.value}function eE({value:e,schema:t}){let r=ew(t);try{if(null==r.validate)return{success:!0,value:e};let t=r.validate(e);if(t.success)return t;return{success:!1,error:et.wrap({value:e,cause:t.error})}}catch(t){return{success:!1,error:et.wrap({value:e,cause:t})}}}function ex({text:e,schema:t}){try{let r=el.parse(e);if(null==t)return r;return eS({value:r,schema:t})}catch(t){if(B.isInstance(t)||et.isInstance(t))throw t;throw new B({text:e,cause:t})}}function eA({text:e,schema:t}){try{let r=el.parse(e);if(null==t)return{success:!0,value:r,rawValue:r};let n=eE({value:r,schema:t});return n.success?{...n,rawValue:r}:n}catch(t){return{success:!1,error:B.isInstance(t)?t:new B({text:e,cause:t})}}}var ek=()=>globalThis.fetch,eO=async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o})=>eI({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o}),eI=async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:a,abortSignal:i,fetch:o=ek()})=>{try{let s=await o(e,{method:"POST",headers:em(t),body:r.content,signal:i}),l=ep(s);if(!s.ok){let t;try{t=await a({response:s,url:e,requestBodyValues:r.values})}catch(t){if(ey(t)||E.isInstance(t))throw t;throw new E({message:"Failed to process error response",cause:t,statusCode:s.status,url:e,responseHeaders:l,requestBodyValues:r.values})}throw t.value}try{return await n({response:s,url:e,requestBodyValues:r.values})}catch(t){if(t instanceof Error&&(ey(t)||E.isInstance(t)))throw t;throw new E({message:"Failed to process successful response",cause:t,statusCode:s.status,url:e,responseHeaders:l,requestBodyValues:r.values})}}catch(t){if(ey(t))throw t;if(t instanceof TypeError&&"fetch failed"===t.message){let n=t.cause;if(null!=n)throw new E({message:`Cannot connect to API: ${n.message}`,cause:n,url:e,requestBodyValues:r.values,isRetryable:!0})}throw t}},eC=({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:a,requestBodyValues:i})=>{let o=await n.text(),s=ep(n);if(""===o.trim())return{responseHeaders:s,value:new E({message:n.statusText,url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,isRetryable:null==r?void 0:r(n)})};try{let l=ex({text:o,schema:e});return{responseHeaders:s,value:new E({message:t(l),url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,data:l,isRetryable:null==r?void 0:r(n,l)})}}catch(e){return{responseHeaders:s,value:new E({message:n.statusText,url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,isRetryable:null==r?void 0:r(n)})}}},eT=e=>async({response:t})=>{let r=ep(t);if(null==t.body)throw new O({});return{responseHeaders:r,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(ed()).pipeThrough(new TransformStream({transform({data:t},r){"[DONE]"!==t&&r.enqueue(eA({text:t,schema:e}))}}))}},eP=e=>async({response:t,url:r,requestBodyValues:n})=>{let a=await t.text(),i=eA({text:a,schema:e}),o=ep(t);if(!i.success)throw new E({message:"Invalid JSON response",cause:i.error,statusCode:t.status,responseHeaders:o,responseBody:a,url:r,requestBodyValues:n});return{responseHeaders:o,value:i.value,rawValue:i.rawValue}},{btoa:eR,atob:eN}=globalThis;function ej(e){return null==e?void 0:e.replace(/\/$/,"")}var eM=r(31078);function eL(e){let t=[];for(let{role:r,content:n}of e)switch(r){case"system":t.push({role:"system",content:n});break;case"user":case"assistant":t.push({role:r,content:n.filter(e=>"reasoning"!==e.type&&"redacted-reasoning"!==e.type).map(e=>{switch(e.type){case"text":return e.text;case"image":throw new ei({functionality:"Image content parts in user messages"});case"file":throw new ei({functionality:"File content parts in user messages"});case"tool-call":throw new ei({functionality:"Tool calls in assistant messages"});default:{let t=e;throw Error(`Unsupported part: ${t}`)}}}).join("")});break;case"tool":throw new ei({functionality:"Tool messages"});default:{let e=r;throw Error(`Unsupported role: ${e}`)}}return t}function eD(e){switch(e){case"stop":case"length":return e;default:return"unknown"}}var eB=class{constructor(e,t){this.specificationVersion="v1",this.defaultObjectGenerationMode="json",this.supportsStructuredOutputs=!0,this.supportsImageUrls=!1,this.provider="perplexity",this.modelId=e,this.config=t}getArgs({mode:e,prompt:t,maxTokens:r,temperature:n,topP:a,topK:i,frequencyPenalty:o,presencePenalty:s,stopSequences:l,responseFormat:u,seed:c,providerMetadata:d}){var f;let p=e.type,h=[];null!=i&&h.push({type:"unsupported-setting",setting:"topK"}),null!=l&&h.push({type:"unsupported-setting",setting:"stopSequences"}),null!=c&&h.push({type:"unsupported-setting",setting:"seed"});let m={model:this.modelId,frequency_penalty:o,max_tokens:r,presence_penalty:s,temperature:n,top_k:i,top_p:a,response_format:(null==u?void 0:u.type)==="json"?{type:"json_schema",json_schema:{schema:u.schema}}:void 0,...null!=(f=null==d?void 0:d.perplexity)?f:{},messages:eL(t)};switch(p){case"regular":return{args:m,warnings:h};case"object-json":return{args:{...m,response_format:{type:"json_schema",json_schema:{schema:e.schema}}},warnings:h};case"object-tool":throw new ei({functionality:"tool-mode object generation"});default:{let e=p;throw Error(`Unsupported type: ${e}`)}}}async doGenerate(e){var t,r,n,a,i,o,s,l,u,c,d;let{args:f,warnings:p}=this.getArgs(e),{responseHeaders:h,value:m,rawValue:y}=await eO({url:`${this.config.baseURL}/chat/completions`,headers:ec(this.config.headers(),e.headers),body:f,failedResponseHandler:eC({errorSchema:eV,errorToMessage:eW}),successfulResponseHandler:eP(eZ),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:g,...v}=f,b=m.choices[0];return{text:b.message.content,toolCalls:[],finishReason:eD(b.finish_reason),usage:{promptTokens:null!=(r=null==(t=m.usage)?void 0:t.prompt_tokens)?r:Number.NaN,completionTokens:null!=(a=null==(n=m.usage)?void 0:n.completion_tokens)?a:Number.NaN},rawCall:{rawPrompt:g,rawSettings:v},rawResponse:{headers:h,body:y},request:{body:JSON.stringify(f)},response:eF(m),warnings:p,sources:null==(i=m.citations)?void 0:i.map(e=>({sourceType:"url",id:this.config.generateId(),url:e})),providerMetadata:{perplexity:{images:null!=(s=null==(o=m.images)?void 0:o.map(e=>({imageUrl:e.image_url,originUrl:e.origin_url,height:e.height,width:e.width})))?s:null,usage:{citationTokens:null!=(u=null==(l=m.usage)?void 0:l.citation_tokens)?u:null,numSearchQueries:null!=(d=null==(c=m.usage)?void 0:c.num_search_queries)?d:null}}}}}async doStream(e){let{args:t,warnings:r}=this.getArgs(e),n={...t,stream:!0},{responseHeaders:a,value:i}=await eO({url:`${this.config.baseURL}/chat/completions`,headers:ec(this.config.headers(),e.headers),body:n,failedResponseHandler:eC({errorSchema:eV,errorToMessage:eW}),successfulResponseHandler:eT(eH),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:o,...s}=t,l="unknown",u={promptTokens:Number.NaN,completionTokens:Number.NaN},c={perplexity:{usage:{citationTokens:null,numSearchQueries:null},images:null}},d=!0,f=this;return{stream:i.pipeThrough(new TransformStream({transform(e,t){var r,n,a;if(!e.success)return void t.enqueue({type:"error",error:e.error});let i=e.value;d&&(t.enqueue({type:"response-metadata",...eF(i)}),null==(r=i.citations)||r.forEach(e=>{t.enqueue({type:"source",source:{sourceType:"url",id:f.config.generateId(),url:e}})}),d=!1),null!=i.usage&&(u={promptTokens:i.usage.prompt_tokens,completionTokens:i.usage.completion_tokens},c.perplexity.usage={citationTokens:null!=(n=i.usage.citation_tokens)?n:null,numSearchQueries:null!=(a=i.usage.num_search_queries)?a:null}),null!=i.images&&(c.perplexity.images=i.images.map(e=>({imageUrl:e.image_url,originUrl:e.origin_url,height:e.height,width:e.width})));let o=i.choices[0];if((null==o?void 0:o.finish_reason)!=null&&(l=eD(o.finish_reason)),(null==o?void 0:o.delta)==null)return;let s=o.delta.content;null!=s&&t.enqueue({type:"text-delta",textDelta:s})},flush(e){e.enqueue({type:"finish",finishReason:l,usage:u,providerMetadata:c})}})),rawCall:{rawPrompt:o,rawSettings:s},rawResponse:{headers:a},request:{body:JSON.stringify(n)},warnings:r}}};function eF({id:e,model:t,created:r}){return{id:e,modelId:t,timestamp:new Date(1e3*r)}}var ez=eM.z.object({prompt_tokens:eM.z.number(),completion_tokens:eM.z.number(),citation_tokens:eM.z.number().nullish(),num_search_queries:eM.z.number().nullish()}),eU=eM.z.object({image_url:eM.z.string(),origin_url:eM.z.string(),height:eM.z.number(),width:eM.z.number()}),eZ=eM.z.object({id:eM.z.string(),created:eM.z.number(),model:eM.z.string(),choices:eM.z.array(eM.z.object({message:eM.z.object({role:eM.z.literal("assistant"),content:eM.z.string()}),finish_reason:eM.z.string().nullish()})),citations:eM.z.array(eM.z.string()).nullish(),images:eM.z.array(eU).nullish(),usage:ez.nullish()}),eH=eM.z.object({id:eM.z.string(),created:eM.z.number(),model:eM.z.string(),choices:eM.z.array(eM.z.object({delta:eM.z.object({role:eM.z.literal("assistant"),content:eM.z.string()}),finish_reason:eM.z.string().nullish()})),citations:eM.z.array(eM.z.string()).nullish(),images:eM.z.array(eU).nullish(),usage:ez.nullish()}),eV=eM.z.object({error:eM.z.object({code:eM.z.number(),message:eM.z.string().nullish(),type:eM.z.string().nullish()})}),eW=e=>{var t,r;return null!=(r=null!=(t=e.error.message)?t:e.error.type)?r:"unknown error"};function eq(e={}){let t=()=>({Authorization:`Bearer ${eg({apiKey:e.apiKey,environmentVariableName:"PERPLEXITY_API_KEY",description:"Perplexity"})}`,...e.headers}),r=r=>{var n;return new eB(r,{baseURL:ej(null!=(n=e.baseURL)?n:"https://api.perplexity.ai"),headers:t,generateId:eh,fetch:e.fetch})},n=e=>r(e);return n.languageModel=r,n.textEmbeddingModel=e=>{throw new G({modelId:e,modelType:"textEmbeddingModel"})},n}eq()},60091:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=i(r(79922)),a=i(r(29203));function i(e){return e&&e.__esModule?e:{default:e}}var o=/[^A-Z0-9+\/=]/i,s=/^[A-Z0-9_\-]*$/i,l={urlSafe:!1};function u(e,t){(0,n.default)(e),t=(0,a.default)(t,l);var r=e.length;if(t.urlSafe)return s.test(e);if(r%4!=0||o.test(e))return!1;var i=e.indexOf("=");return -1===i||i===r-1||i===r-2&&"="===e[r-1]}e.exports=t.default,e.exports.default=t.default},61429:(e,t,r)=>{"use strict";e.exports=r(17).getPrototypeOf||null},61686:(e,t,r)=>{"use strict";function n(e){if(void 0!==e.ZodType.prototype.openapi)return;e.ZodType.prototype.openapi=function(e){return new this.constructor({...this._def,openapi:e})};let t=e.ZodObject.prototype.extend;e.ZodObject.prototype.extend=function(...e){let r=t.apply(this,e);return r._def.extendMetadata={extends:this},delete r._def.openapi,r};let r=e.ZodObject.prototype.omit;e.ZodObject.prototype.omit=function(...e){let t=r.apply(this,e);return delete t._def.extendMetadata,delete t._def.openapi,t};let n=e.ZodObject.prototype.pick;e.ZodObject.prototype.pick=function(...e){let t=n.apply(this,e);return delete t._def.extendMetadata,delete t._def.openapi,t}}r.d(t,{I:()=>n})},61769:(e,t,r)=>{var n=r(51642),a=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return a(e,t,r)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=o),o.prototype=Object.create(a.prototype),i(a,o),o.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return a(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=a(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return a(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},61847:(e,t,r)=>{"use strict";var n=r(4140);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,i,o){if(o!==n){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return r.PropTypes=r,r}},61924:e=>{"use strict";e.exports=EvalError},63392:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=/^[A-HJ-NP-Za-km-z1-9]*$/;function o(e){return(0,n.default)(e),!!i.test(e)}e.exports=t.default,e.exports.default=t.default},63809:(e,t,r)=>{var n=r(89809);e.exports=function(e,t){t=t||{};var r=n.decode(e,t);if(!r)return null;var a=r.payload;if("string"==typeof a)try{var i=JSON.parse(a);null!==i&&"object"==typeof i&&(a=i)}catch(e){}return!0===t.complete?{header:r.header,payload:a,signature:r.signature}:a}},64331:(e,t,r)=>{"use strict";let n=r(26189);e.exports=(e,t,r)=>n(t,e,r)},65382:(e,t,r)=>{let{sha3_512:n}=r(42270),a=24,i=32,o=(e=4,t=Math.random)=>{let r="";for(;r.length<e;)r+=Math.floor(36*t()).toString(36);return r};function s(e){let t=8n,r=0n;for(let n of e.values())r=(r<<t)+BigInt(n);return r}let l=(e="")=>s(n(e)).toString(36).slice(1),u=Array.from({length:26},(e,t)=>String.fromCharCode(t+97)),c=e=>u[Math.floor(e()*u.length)],d=({globalObj:e=void 0!==r.g?r.g:"undefined"!=typeof window?window:{},random:t=Math.random}={})=>{let n=Object.keys(e).toString();return l(n.length?n+o(i,t):o(i,t)).substring(0,i)},f=e=>()=>e++,p=0x1c6b1f1f,h=({random:e=Math.random,counter:t=f(Math.floor(e()*p)),length:r=a,fingerprint:n=d({random:e})}={})=>function(){let a=c(e),i=Date.now().toString(36),s=t().toString(36),u=o(r,e),d=`${i+u+s+n}`;return`${a+l(d).substring(1,r)}`},m=h(),y=(e,{minLength:t=2,maxLength:r=i}={})=>{let n=e.length,a=/^[0-9a-z]+$/;return!!("string"==typeof e&&n>=t&&n<=r&&a.test(e))};e.exports.getConstants=()=>({defaultLength:a,bigLength:i}),e.exports.init=h,e.exports.createId=m,e.exports.bufToBigInt=s,e.exports.createCounter=f,e.exports.createFingerprint=d,e.exports.isCuid=y},65563:(e,t,r)=>{var n=r(51642),a=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return a(e,t,r)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=o),o.prototype=Object.create(a.prototype),i(a,o),o.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return a(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=a(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return a(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},66931:e=>{"use strict";e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||0x1fffffffffffff,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},66939:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i={AM:/^[A-Z]{2}\d{7}$/,AR:/^[A-Z]{3}\d{6}$/,AT:/^[A-Z]\d{7}$/,AU:/^[A-Z]\d{7}$/,AZ:/^[A-Z]{1}\d{8}$/,BE:/^[A-Z]{2}\d{6}$/,BG:/^\d{9}$/,BR:/^[A-Z]{2}\d{6}$/,BY:/^[A-Z]{2}\d{7}$/,CA:/^[A-Z]{2}\d{6}$/,CH:/^[A-Z]\d{7}$/,CN:/^G\d{8}$|^E(?![IO])[A-Z0-9]\d{7}$/,CY:/^[A-Z](\d{6}|\d{8})$/,CZ:/^\d{8}$/,DE:/^[CFGHJKLMNPRTVWXYZ0-9]{9}$/,DK:/^\d{9}$/,DZ:/^\d{9}$/,EE:/^([A-Z]\d{7}|[A-Z]{2}\d{7})$/,ES:/^[A-Z0-9]{2}([A-Z0-9]?)\d{6}$/,FI:/^[A-Z]{2}\d{7}$/,FR:/^\d{2}[A-Z]{2}\d{5}$/,GB:/^\d{9}$/,GR:/^[A-Z]{2}\d{7}$/,HR:/^\d{9}$/,HU:/^[A-Z]{2}(\d{6}|\d{7})$/,IE:/^[A-Z0-9]{2}\d{7}$/,IN:/^[A-Z]{1}-?\d{7}$/,ID:/^[A-C]\d{7}$/,IR:/^[A-Z]\d{8}$/,IS:/^(A)\d{7}$/,IT:/^[A-Z0-9]{2}\d{7}$/,JM:/^[Aa]\d{7}$/,JP:/^[A-Z]{2}\d{7}$/,KR:/^[MS]\d{8}$/,KZ:/^[a-zA-Z]\d{7}$/,LI:/^[a-zA-Z]\d{5}$/,LT:/^[A-Z0-9]{8}$/,LU:/^[A-Z0-9]{8}$/,LV:/^[A-Z0-9]{2}\d{7}$/,LY:/^[A-Z0-9]{8}$/,MT:/^\d{7}$/,MZ:/^([A-Z]{2}\d{7})|(\d{2}[A-Z]{2}\d{5})$/,MY:/^[AHK]\d{8}$/,MX:/^\d{10,11}$/,NL:/^[A-Z]{2}[A-Z0-9]{6}\d$/,NZ:/^([Ll]([Aa]|[Dd]|[Ff]|[Hh])|[Ee]([Aa]|[Pp])|[Nn])\d{6}$/,PH:/^([A-Z](\d{6}|\d{7}[A-Z]))|([A-Z]{2}(\d{6}|\d{7}))$/,PK:/^[A-Z]{2}\d{7}$/,PL:/^[A-Z]{2}\d{7}$/,PT:/^[A-Z]\d{6}$/,RO:/^\d{8,9}$/,RU:/^\d{9}$/,SE:/^\d{8}$/,SL:/^(P)[A-Z]\d{7}$/,SK:/^[0-9A-Z]\d{7}$/,TH:/^[A-Z]{1,2}\d{6,7}$/,TR:/^[A-Z]\d{8}$/,UA:/^[A-Z]{2}\d{6}$/,US:/^\d{9}$/,ZA:/^[TAMD]\d{8}$/};function o(e,t){(0,n.default)(e);var r=e.replace(/\s/g,"").toUpperCase();return t.toUpperCase()in i&&i[t].test(r)}e.exports=t.default,e.exports.default=t.default},66957:(e,t,r)=>{"use strict";var n=r(3194),a=function(){return!!n};a.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=a},67247:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toBig=t.shrSL=t.shrSH=t.rotrSL=t.rotrSH=t.rotrBL=t.rotrBH=t.rotr32L=t.rotr32H=t.rotlSL=t.rotlSH=t.rotlBL=t.rotlBH=t.add5L=t.add5H=t.add4L=t.add4H=t.add3L=t.add3H=void 0,t.add=b,t.fromBig=a,t.split=i;let r=BigInt(0x100000000-1),n=BigInt(32);function a(e,t=!1){return t?{h:Number(e&r),l:Number(e>>n&r)}:{h:0|Number(e>>n&r),l:0|Number(e&r)}}function i(e,t=!1){let r=e.length,n=new Uint32Array(r),o=new Uint32Array(r);for(let i=0;i<r;i++){let{h:r,l:s}=a(e[i],t);[n[i],o[i]]=[r,s]}return[n,o]}let o=(e,t)=>BigInt(e>>>0)<<n|BigInt(t>>>0);t.toBig=o;let s=(e,t,r)=>e>>>r;t.shrSH=s;let l=(e,t,r)=>e<<32-r|t>>>r;t.shrSL=l;let u=(e,t,r)=>e>>>r|t<<32-r;t.rotrSH=u;let c=(e,t,r)=>e<<32-r|t>>>r;t.rotrSL=c;let d=(e,t,r)=>e<<64-r|t>>>r-32;t.rotrBH=d;let f=(e,t,r)=>e>>>r-32|t<<64-r;t.rotrBL=f;let p=(e,t)=>t;t.rotr32H=p;let h=(e,t)=>e;t.rotr32L=h;let m=(e,t,r)=>e<<r|t>>>32-r;t.rotlSH=m;let y=(e,t,r)=>t<<r|e>>>32-r;t.rotlSL=y;let g=(e,t,r)=>t<<r-32|e>>>64-r;t.rotlBH=g;let v=(e,t,r)=>e<<r-32|t>>>64-r;function b(e,t,r,n){let a=(t>>>0)+(n>>>0);return{h:e+r+(a/0x100000000|0)|0,l:0|a}}t.rotlBL=v;let _=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);t.add3L=_;let w=(e,t,r,n)=>t+r+n+(e/0x100000000|0)|0;t.add3H=w;let $=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);t.add4L=$;let S=(e,t,r,n,a)=>t+r+n+a+(e/0x100000000|0)|0;t.add4H=S;let E=(e,t,r,n,a)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(a>>>0);t.add5L=E;let x=(e,t,r,n,a,i)=>t+r+n+a+i+(e/0x100000000|0)|0;t.add5H=x,t.default={fromBig:a,split:i,toBig:o,shrSH:s,shrSL:l,rotrSH:u,rotrSL:c,rotrBH:d,rotrBL:f,rotr32H:p,rotr32L:h,rotlSH:m,rotlSL:y,rotlBH:g,rotlBL:v,add:b,add3L:_,add3H:w,add4L:$,add4H:S,add5H:x,add5L:E}},67264:e=>{var t=1e3,r=6e4,n=36e5,a=864e5,i=6048e5,o=315576e5;function s(e){if(!((e=String(e)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(s){var l=parseFloat(s[1]),u=(s[2]||"ms").toLowerCase();switch(u){case"years":case"year":case"yrs":case"yr":case"y":return l*o;case"weeks":case"week":case"w":return l*i;case"days":case"day":case"d":return l*a;case"hours":case"hour":case"hrs":case"hr":case"h":return l*n;case"minutes":case"minute":case"mins":case"min":case"m":return l*r;case"seconds":case"second":case"secs":case"sec":case"s":return l*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}}}function l(e){var i=Math.abs(e);return i>=a?Math.round(e/a)+"d":i>=n?Math.round(e/n)+"h":i>=r?Math.round(e/r)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}function u(e){var i=Math.abs(e);return i>=a?c(e,i,a,"day"):i>=n?c(e,i,n,"hour"):i>=r?c(e,i,r,"minute"):i>=t?c(e,i,t,"second"):e+" ms"}function c(e,t,r,n){var a=t>=1.5*r;return Math.round(e/r)+" "+n+(a?"s":"")}e.exports=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return s(e);if("number"===r&&isFinite(e))return t.long?u(e):l(e);throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},67400:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFreightContainerID=void 0,t.isISO6346=s;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=/^[A-Z]{3}(U[0-9]{7})|([J,Z][0-9]{6,7})$/,o=/^[0-9]$/;function s(e){if((0,n.default)(e),e=e.toUpperCase(),!i.test(e))return!1;if(11===e.length){for(var t=0,r=0;r<e.length-1;r++)if(o.test(e[r]))t+=e[r]*Math.pow(2,r);else{var a=void 0,s=e.charCodeAt(r)-55;t+=(a=s<11?s:s>=11&&s<=20?12+s%11:s>=21&&s<=30?23+s%21:34+s%31)*Math.pow(2,r)}var l=t%11;return Number(e[e.length-1])===l}return!0}t.isFreightContainerID=s},67763:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return"static"!==getComputedStyle(e).position},n=function(e,t){for(var r=e.offsetTop,n=e.offsetParent;n&&!t(n);)r+=n.offsetTop,n=n.offsetParent;return{offsetTop:r,offsetParent:n}};t.default={updateHash:function(e,t){var r=0===e.indexOf("#")?e.substring(1):e,n=r?"#"+r:"",a=window&&window.location,i=n?a.pathname+a.search+n:a.pathname+a.search;t?history.pushState(history.state,"",i):history.replaceState(history.state,"",i)},getHash:function(){return window.location.hash.replace(/^#/,"")},filterElementInContainer:function(e){return function(t){return e.contains?e!=t&&e.contains(t):!!(16&e.compareDocumentPosition(t))}},scrollOffset:function(e,t,a){if(a)return e===document?t.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):"static"!==getComputedStyle(e).position?t.offsetLeft:t.offsetLeft-e.offsetLeft;if(e===document)return t.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(r(e)){if(t.offsetParent!==e){var i=n(t,function(t){return t===e||t===document}),o=i.offsetTop;if(i.offsetParent!==e)throw Error("Seems containerElement is not an ancestor of the Element");return o}return t.offsetTop}if(t.offsetParent===e.offsetParent)return t.offsetTop-e.offsetTop;var s=function(e){return e===document};return n(t,s).offsetTop-n(e,s).offsetTop}}},67953:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){4}([0-9a-fA-F]{2})$/,o=/^([0-9a-fA-F]){12}$/,s=/^([0-9a-fA-F]{4}\.){2}([0-9a-fA-F]{4})$/,l=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){6}([0-9a-fA-F]{2})$/,u=/^([0-9a-fA-F]){16}$/,c=/^([0-9a-fA-F]{4}\.){3}([0-9a-fA-F]{4})$/;function d(e,t){return((0,n.default)(e),null!=t&&t.eui&&(t.eui=String(t.eui)),null!=t&&t.no_colons||null!=t&&t.no_separators)?"48"===t.eui?o.test(e):"64"===t.eui?u.test(e):o.test(e)||u.test(e):(null==t?void 0:t.eui)==="48"?i.test(e)||s.test(e):(null==t?void 0:t.eui)==="64"?l.test(e)||c.test(e):d(e,{eui:"48"})||d(e,{eui:"64"})}e.exports=t.default,e.exports.default=t.default},68750:(e,t,r)=>{var n=r(51642).Buffer;let a=r(16076),i=r(57759),o=r(75657),s=r(63809),l=r(10594),u=r(55790),c=r(55032),d=r(89809),{KeyObject:f,createSecretKey:p,createPublicKey:h}=r(62701),m=["RS256","RS384","RS512"],y=["ES256","ES384","ES512"],g=["RS256","RS384","RS512"],v=["HS256","HS384","HS512"];c&&(m.splice(m.length,0,"PS256","PS384","PS512"),g.splice(g.length,0,"PS256","PS384","PS512")),e.exports=function(e,t,r,c){let b,_,w;if("function"!=typeof r||c||(c=r,r={}),r||(r={}),r=Object.assign({},r),b=c||function(e,t){if(e)throw e;return t},r.clockTimestamp&&"number"!=typeof r.clockTimestamp)return b(new a("clockTimestamp must be a number"));if(void 0!==r.nonce&&("string"!=typeof r.nonce||""===r.nonce.trim()))return b(new a("nonce must be a non-empty string"));if(void 0!==r.allowInvalidAsymmetricKeyTypes&&"boolean"!=typeof r.allowInvalidAsymmetricKeyTypes)return b(new a("allowInvalidAsymmetricKeyTypes must be a boolean"));let $=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return b(new a("jwt must be provided"));if("string"!=typeof e)return b(new a("jwt must be a string"));let S=e.split(".");if(3!==S.length)return b(new a("jwt malformed"));try{_=s(e,{complete:!0})}catch(e){return b(e)}if(!_)return b(new a("invalid token"));let E=_.header;if("function"==typeof t){if(!c)return b(new a("verify must be called asynchronous if secret or public key is provided as a callback"));w=t}else w=function(e,r){return r(null,t)};return w(E,function(t,s){let c;if(t)return b(new a("error in secret or public key callback: "+t.message));let w=""!==S[2].trim();if(!w&&s)return b(new a("jwt signature is required"));if(w&&!s)return b(new a("secret or public key must be provided"));if(!w&&!r.algorithms)return b(new a('please specify "none" in "algorithms" to verify unsigned tokens'));if(null!=s&&!(s instanceof f))try{s=h(s)}catch(e){try{s=p("string"==typeof s?n.from(s):s)}catch(e){return b(new a("secretOrPublicKey is not valid key material"))}}if(r.algorithms||("secret"===s.type?r.algorithms=v:["rsa","rsa-pss"].includes(s.asymmetricKeyType)?r.algorithms=g:"ec"===s.asymmetricKeyType?r.algorithms=y:r.algorithms=m),-1===r.algorithms.indexOf(_.header.alg))return b(new a("invalid algorithm"));if(E.alg.startsWith("HS")&&"secret"!==s.type)return b(new a(`secretOrPublicKey must be a symmetric key when using ${E.alg}`));if(/^(?:RS|PS|ES)/.test(E.alg)&&"public"!==s.type)return b(new a(`secretOrPublicKey must be an asymmetric key when using ${E.alg}`));if(!r.allowInvalidAsymmetricKeyTypes)try{u(E.alg,s)}catch(e){return b(e)}try{c=d.verify(e,_.header.alg,s)}catch(e){return b(e)}if(!c)return b(new a("invalid signature"));let x=_.payload;if(void 0!==x.nbf&&!r.ignoreNotBefore){if("number"!=typeof x.nbf)return b(new a("invalid nbf value"));if(x.nbf>$+(r.clockTolerance||0))return b(new i("jwt not active",new Date(1e3*x.nbf)))}if(void 0!==x.exp&&!r.ignoreExpiration){if("number"!=typeof x.exp)return b(new a("invalid exp value"));if($>=x.exp+(r.clockTolerance||0))return b(new o("jwt expired",new Date(1e3*x.exp)))}if(r.audience){let e=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(x.aud)?x.aud:[x.aud]).some(function(t){return e.some(function(e){return e instanceof RegExp?e.test(t):e===t})}))return b(new a("jwt audience invalid. expected: "+e.join(" or ")))}if(r.issuer&&("string"==typeof r.issuer&&x.iss!==r.issuer||Array.isArray(r.issuer)&&-1===r.issuer.indexOf(x.iss)))return b(new a("jwt issuer invalid. expected: "+r.issuer));if(r.subject&&x.sub!==r.subject)return b(new a("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&x.jti!==r.jwtid)return b(new a("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&x.nonce!==r.nonce)return b(new a("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if("number"!=typeof x.iat)return b(new a("iat required when maxAge is specified"));let e=l(r.maxAge,x.iat);if(void 0===e)return b(new a('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if($>=e+(r.clockTolerance||0))return b(new o("maxAge exceeded",new Date(1e3*e)))}return!0===r.complete?b(null,{header:E,payload:x,signature:_.signature}):b(null,x)})}},68907:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=/^[^\s-_](?!.*?[-_]{2,})[a-z0-9-\\][^\s]*[^-_\s]$/;function o(e){return(0,n.default)(e),i.test(e)}e.exports=t.default,e.exports.default=t.default},68960:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return(0,n.default)(e),e===e.toUpperCase()}e.exports=t.default,e.exports.default=t.default},69394:(e,t,r)=>{"use strict";r.d(t,{n:()=>e8});var n,a,i,o,s,l,u,c,d,f,p,h,m,y,g="vercel.ai.error",v=Symbol.for(g),b=class e extends Error{constructor({name:e,message:t,cause:r}){super(t),this[n]=!0,this.name=e,this.cause=r}static isInstance(t){return e.hasMarker(t,g)}static hasMarker(e,t){let r=Symbol.for(t);return null!=e&&"object"==typeof e&&r in e&&"boolean"==typeof e[r]&&!0===e[r]}};n=v;var _=b,w="AI_APICallError",$=`vercel.ai.error.${w}`,S=Symbol.for($),E=class extends _{constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:i,responseBody:o,cause:s,isRetryable:l=null!=n&&(408===n||409===n||429===n||n>=500),data:u}){super({name:w,message:e,cause:s}),this[a]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=i,this.responseBody=o,this.isRetryable=l,this.data=u}static isInstance(e){return _.hasMarker(e,$)}};a=S;var x="AI_EmptyResponseBodyError",A=`vercel.ai.error.${x}`,k=Symbol.for(A),O=class extends _{constructor({message:e="Empty response body"}={}){super({name:x,message:e}),this[i]=!0}static isInstance(e){return _.hasMarker(e,A)}};function I(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}i=k;var C="AI_InvalidArgumentError",T=`vercel.ai.error.${C}`,P=Symbol.for(T),R=class extends _{constructor({message:e,cause:t,argument:r}){super({name:C,message:e,cause:t}),this[o]=!0,this.argument=r}static isInstance(e){return _.hasMarker(e,T)}};o=P;var N="AI_InvalidPromptError";s=Symbol.for(`vercel.ai.error.${N}`);var j="AI_InvalidResponseDataError";l=Symbol.for(`vercel.ai.error.${j}`);var M="AI_JSONParseError",L=`vercel.ai.error.${M}`,D=Symbol.for(L),B=class extends _{constructor({text:e,cause:t}){super({name:M,message:`JSON parsing failed: Text: ${e}.
Error message: ${I(t)}`,cause:t}),this[u]=!0,this.text=e}static isInstance(e){return _.hasMarker(e,L)}};u=D;var F="AI_LoadAPIKeyError",z=`vercel.ai.error.${F}`,U=Symbol.for(z),Z=class extends _{constructor({message:e}){super({name:F,message:e}),this[c]=!0}static isInstance(e){return _.hasMarker(e,z)}};c=U;var H="AI_LoadSettingError";d=Symbol.for(`vercel.ai.error.${H}`);var V="AI_NoContentGeneratedError";f=Symbol.for(`vercel.ai.error.${V}`);var W="AI_NoSuchModelError",q=`vercel.ai.error.${W}`,K=Symbol.for(q),G=class extends _{constructor({errorName:e=W,modelId:t,modelType:r,message:n=`No such ${r}: ${t}`}){super({name:e,message:n}),this[p]=!0,this.modelId=t,this.modelType=r}static isInstance(e){return _.hasMarker(e,q)}};p=K;var J="AI_TooManyEmbeddingValuesForCallError";h=Symbol.for(`vercel.ai.error.${J}`);var Y="AI_TypeValidationError",X=`vercel.ai.error.${Y}`,Q=Symbol.for(X),ee=class e extends _{constructor({value:e,cause:t}){super({name:Y,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${I(t)}`,cause:t}),this[m]=!0,this.value=e}static isInstance(e){return _.hasMarker(e,X)}static wrap({value:t,cause:r}){return e.isInstance(r)&&r.value===t?r:new e({value:t,cause:r})}};m=Q;var et=ee,er="AI_UnsupportedFunctionalityError",en=`vercel.ai.error.${er}`,ea=Symbol.for(en),ei=class extends _{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:er,message:t}),this[y]=!0,this.functionality=e}static isInstance(e){return _.hasMarker(e,en)}};function eo(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||(Array.isArray(e)?e.every(eo):"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&eo(t)))}y=ea;let es=(e,t=21)=>(r=t)=>{let n="",a=0|r;for(;a--;)n+=e[Math.random()*e.length|0];return n};var el=r(29486),eu=r(29143);function ec(...e){return e.reduce((e,t)=>({...e,...null!=t?t:{}}),{})}function ed(){let e,t,r,n="",a=[];function i(e,t){if(""===e)return void o(t);if(e.startsWith(":"))return;let r=e.indexOf(":");if(-1===r)return void s(e,"");let n=e.slice(0,r),a=r+1;s(n,a<e.length&&" "===e[a]?e.slice(a+1):e.slice(a))}function o(n){a.length>0&&(n.enqueue({event:e,data:a.join("\n"),id:t,retry:r}),a=[],e=void 0,r=void 0)}function s(n,i){switch(n){case"event":e=i;break;case"data":a.push(i);break;case"id":t=i;break;case"retry":let o=parseInt(i,10);isNaN(o)||(r=o)}}return new TransformStream({transform(e,t){let{lines:r,incompleteLine:a}=ef(n,e);n=a;for(let e=0;e<r.length;e++)i(r[e],t)},flush(e){i(n,e),o(e)}})}function ef(e,t){let r=[],n=e;for(let e=0;e<t.length;){let a=t[e++];"\n"===a?(r.push(n),n=""):"\r"===a?(r.push(n),n="","\n"===t[e]&&e++):n+=a}return{lines:r,incompleteLine:n}}function ep(e){let t={};return e.headers.forEach((e,r)=>{t[r]=e}),t}function eh(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>null!=t))}function em(e){return e instanceof Error&&("AbortError"===e.name||"TimeoutError"===e.name)}(({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let a=es(r,t);if(null!=e){if(r.includes(n))throw new R({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return t=>`${e}${n}${a(t)}`}})();function ey({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if("string"==typeof e)return e;if(null!=e)throw new Z({message:`${n} API key must be a string.`});if(void 0===eu)throw new Z({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(null==(e=eu.env[t]))throw new Z({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if("string"!=typeof e)throw new Z({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}var eg=Symbol.for("vercel.ai.validator");function ev(e){return{[eg]:!0,validate:e}}function eb(e){return"object"==typeof e&&null!==e&&eg in e&&!0===e[eg]&&"validate"in e}function e_(e){return eb(e)?e:ew(e)}function ew(e){return ev(t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}})}function e$({value:e,schema:t}){let r=eS({value:e,schema:t});if(!r.success)throw et.wrap({value:e,cause:r.error});return r.value}function eS({value:e,schema:t}){let r=e_(t);try{if(null==r.validate)return{success:!0,value:e};let t=r.validate(e);if(t.success)return t;return{success:!1,error:et.wrap({value:e,cause:t.error})}}catch(t){return{success:!1,error:et.wrap({value:e,cause:t})}}}function eE({text:e,schema:t}){try{let r=el.parse(e);if(null==t)return r;return e$({value:r,schema:t})}catch(t){if(B.isInstance(t)||et.isInstance(t))throw t;throw new B({text:e,cause:t})}}function ex({text:e,schema:t}){try{let r=el.parse(e);if(null==t)return{success:!0,value:r,rawValue:r};let n=eS({value:r,schema:t});return n.success?{...n,rawValue:r}:n}catch(t){return{success:!1,error:B.isInstance(t)?t:new B({text:e,cause:t})}}}function eA({provider:e,providerOptions:t,schema:r}){if((null==t?void 0:t[e])==null)return;let n=eS({value:t[e],schema:r});if(!n.success)throw new R({argument:"providerOptions",message:`invalid ${e} provider options`,cause:n.error});return n.value}var ek=()=>globalThis.fetch,eO=async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o})=>eI({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o}),eI=async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:a,abortSignal:i,fetch:o=ek()})=>{try{let s=await o(e,{method:"POST",headers:eh(t),body:r.content,signal:i}),l=ep(s);if(!s.ok){let t;try{t=await a({response:s,url:e,requestBodyValues:r.values})}catch(t){if(em(t)||E.isInstance(t))throw t;throw new E({message:"Failed to process error response",cause:t,statusCode:s.status,url:e,responseHeaders:l,requestBodyValues:r.values})}throw t.value}try{return await n({response:s,url:e,requestBodyValues:r.values})}catch(t){if(t instanceof Error&&(em(t)||E.isInstance(t)))throw t;throw new E({message:"Failed to process successful response",cause:t,statusCode:s.status,url:e,responseHeaders:l,requestBodyValues:r.values})}}catch(t){if(em(t))throw t;if(t instanceof TypeError&&"fetch failed"===t.message){let n=t.cause;if(null!=n)throw new E({message:`Cannot connect to API: ${n.message}`,cause:n,url:e,requestBodyValues:r.values,isRetryable:!0})}throw t}};async function eC(e){return"function"==typeof e&&(e=e()),Promise.resolve(e)}var eT=({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:a,requestBodyValues:i})=>{let o=await n.text(),s=ep(n);if(""===o.trim())return{responseHeaders:s,value:new E({message:n.statusText,url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,isRetryable:null==r?void 0:r(n)})};try{let l=eE({text:o,schema:e});return{responseHeaders:s,value:new E({message:t(l),url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,data:l,isRetryable:null==r?void 0:r(n,l)})}}catch(e){return{responseHeaders:s,value:new E({message:n.statusText,url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,isRetryable:null==r?void 0:r(n)})}}},eP=e=>async({response:t})=>{let r=ep(t);if(null==t.body)throw new O({});return{responseHeaders:r,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(ed()).pipeThrough(new TransformStream({transform({data:t},r){"[DONE]"!==t&&r.enqueue(ex({text:t,schema:e}))}}))}},eR=e=>async({response:t,url:r,requestBodyValues:n})=>{let a=await t.text(),i=ex({text:a,schema:e}),o=ep(t);if(!i.success)throw new E({message:"Invalid JSON response",cause:i.error,statusCode:t.status,responseHeaders:o,responseBody:a,url:r,requestBodyValues:n});return{responseHeaders:o,value:i.value,rawValue:i.rawValue}},{btoa:eN,atob:ej}=globalThis;function eM(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return eN(t)}function eL(e){return null==e?void 0:e.replace(/\/$/,"")}var eD=r(31078),eB=eT({errorSchema:eD.z.object({type:eD.z.literal("error"),error:eD.z.object({type:eD.z.string(),message:eD.z.string()})}),errorToMessage:e=>e.error.message});function eF(e){var t;let r=(null==(t=e.tools)?void 0:t.length)?e.tools:void 0,n=[],a=new Set;if(null==r)return{tools:void 0,tool_choice:void 0,toolWarnings:n,betas:a};let i=[];for(let e of r)switch(e.type){case"function":i.push({name:e.name,description:e.description,input_schema:e.parameters});break;case"provider-defined":switch(e.id){case"anthropic.computer_20250124":a.add("computer-use-2025-01-24"),i.push({name:e.name,type:"computer_20250124",display_width_px:e.args.displayWidthPx,display_height_px:e.args.displayHeightPx,display_number:e.args.displayNumber});break;case"anthropic.computer_20241022":a.add("computer-use-2024-10-22"),i.push({name:e.name,type:"computer_20241022",display_width_px:e.args.displayWidthPx,display_height_px:e.args.displayHeightPx,display_number:e.args.displayNumber});break;case"anthropic.text_editor_20250124":a.add("computer-use-2025-01-24"),i.push({name:e.name,type:"text_editor_20250124"});break;case"anthropic.text_editor_20241022":a.add("computer-use-2024-10-22"),i.push({name:e.name,type:"text_editor_20241022"});break;case"anthropic.bash_20250124":a.add("computer-use-2025-01-24"),i.push({name:e.name,type:"bash_20250124"});break;case"anthropic.bash_20241022":a.add("computer-use-2024-10-22"),i.push({name:e.name,type:"bash_20241022"});break;default:n.push({type:"unsupported-tool",tool:e})}break;default:n.push({type:"unsupported-tool",tool:e})}let o=e.toolChoice;if(null==o)return{tools:i,tool_choice:void 0,toolWarnings:n,betas:a};let s=o.type;switch(s){case"auto":return{tools:i,tool_choice:{type:"auto"},toolWarnings:n,betas:a};case"required":return{tools:i,tool_choice:{type:"any"},toolWarnings:n,betas:a};case"none":return{tools:void 0,tool_choice:void 0,toolWarnings:n,betas:a};case"tool":return{tools:i,tool_choice:{type:"tool",name:o.toolName},toolWarnings:n,betas:a};default:{let e=s;throw new ei({functionality:`Unsupported tool choice type: ${e}`})}}}function ez({prompt:e,sendReasoning:t,warnings:r}){var n,a,i,o;let s,l=new Set,u=eU(e),c=[];function d(e){var t;let r=null==e?void 0:e.anthropic;return null!=(t=null==r?void 0:r.cacheControl)?t:null==r?void 0:r.cache_control}for(let e=0;e<u.length;e++){let f=u[e],p=e===u.length-1,h=f.type;switch(h){case"system":if(null!=s)throw new ei({functionality:"Multiple system messages that are separated by user/assistant messages"});s=f.messages.map(({content:e,providerMetadata:t})=>({type:"text",text:e,cache_control:d(t)}));break;case"user":{let e=[];for(let t of f.messages){let{role:r,content:o}=t;switch(r){case"user":for(let r=0;r<o.length;r++){let i=o[r],s=r===o.length-1,u=null!=(n=d(i.providerMetadata))?n:s?d(t.providerMetadata):void 0;switch(i.type){case"text":e.push({type:"text",text:i.text,cache_control:u});break;case"image":e.push({type:"image",source:i.image instanceof URL?{type:"url",url:i.image.toString()}:{type:"base64",media_type:null!=(a=i.mimeType)?a:"image/jpeg",data:eM(i.image)},cache_control:u});break;case"file":if("application/pdf"!==i.mimeType)throw new ei({functionality:"Non-PDF files in user messages"});l.add("pdfs-2024-09-25"),e.push({type:"document",source:i.data instanceof URL?{type:"url",url:i.data.toString()}:{type:"base64",media_type:"application/pdf",data:i.data},cache_control:u})}}break;case"tool":for(let r=0;r<o.length;r++){let n=o[r],a=r===o.length-1,s=null!=(i=d(n.providerMetadata))?i:a?d(t.providerMetadata):void 0,l=null!=n.content?n.content.map(e=>{var t;switch(e.type){case"text":return{type:"text",text:e.text,cache_control:void 0};case"image":return{type:"image",source:{type:"base64",media_type:null!=(t=e.mimeType)?t:"image/jpeg",data:e.data},cache_control:void 0}}}):JSON.stringify(n.result);e.push({type:"tool_result",tool_use_id:n.toolCallId,content:l,is_error:n.isError,cache_control:s})}break;default:{let e=r;throw Error(`Unsupported role: ${e}`)}}}c.push({role:"user",content:e});break}case"assistant":{let e=[];for(let n=0;n<f.messages.length;n++){let a=f.messages[n],i=n===f.messages.length-1,{content:s}=a;for(let n=0;n<s.length;n++){let l=s[n],u=n===s.length-1,c=null!=(o=d(l.providerMetadata))?o:u?d(a.providerMetadata):void 0;switch(l.type){case"text":e.push({type:"text",text:p&&i&&u?l.text.trim():l.text,cache_control:c});break;case"reasoning":t?e.push({type:"thinking",thinking:l.text,signature:l.signature,cache_control:c}):r.push({type:"other",message:"sending reasoning content is disabled for this model"});break;case"redacted-reasoning":e.push({type:"redacted_thinking",data:l.data,cache_control:c});break;case"tool-call":e.push({type:"tool_use",id:l.toolCallId,name:l.toolName,input:l.args,cache_control:c})}}}c.push({role:"assistant",content:e});break}default:{let e=h;throw Error(`Unsupported type: ${e}`)}}}return{prompt:{system:s,messages:c},betas:l}}function eU(e){let t,r=[];for(let n of e){let{role:e}=n;switch(e){case"system":(null==t?void 0:t.type)!=="system"&&(t={type:"system",messages:[]},r.push(t)),t.messages.push(n);break;case"assistant":(null==t?void 0:t.type)!=="assistant"&&(t={type:"assistant",messages:[]},r.push(t)),t.messages.push(n);break;case"user":case"tool":(null==t?void 0:t.type)!=="user"&&(t={type:"user",messages:[]},r.push(t)),t.messages.push(n);break;default:{let t=e;throw Error(`Unsupported role: ${t}`)}}}return r}function eZ(e){switch(e){case"end_turn":case"stop_sequence":return"stop";case"tool_use":return"tool-calls";case"max_tokens":return"length";default:return"unknown"}}var eH=class{constructor(e,t,r){this.specificationVersion="v1",this.defaultObjectGenerationMode="tool",this.modelId=e,this.settings=t,this.config=r}supportsUrl(e){return"https:"===e.protocol}get provider(){return this.config.provider}get supportsImageUrls(){return this.config.supportsImageUrls}async getArgs({mode:e,prompt:t,maxTokens:r=4096,temperature:n,topP:a,topK:i,frequencyPenalty:o,presencePenalty:s,stopSequences:l,responseFormat:u,seed:c,providerMetadata:d}){var f,p,h;let m=e.type,y=[];null!=o&&y.push({type:"unsupported-setting",setting:"frequencyPenalty"}),null!=s&&y.push({type:"unsupported-setting",setting:"presencePenalty"}),null!=c&&y.push({type:"unsupported-setting",setting:"seed"}),null!=u&&"text"!==u.type&&y.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});let{prompt:g,betas:v}=ez({prompt:t,sendReasoning:null==(f=this.settings.sendReasoning)||f,warnings:y}),b=eA({provider:"anthropic",providerOptions:d,schema:eq}),_=(null==(p=null==b?void 0:b.thinking)?void 0:p.type)==="enabled",w=null==(h=null==b?void 0:b.thinking)?void 0:h.budgetTokens,$={model:this.modelId,max_tokens:r,temperature:n,top_k:i,top_p:a,stop_sequences:l,..._&&{thinking:{type:"enabled",budget_tokens:w}},system:g.system,messages:g.messages};if(_){if(null==w)throw new ei({functionality:"thinking requires a budget"});null!=$.temperature&&($.temperature=void 0,y.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported when thinking is enabled"})),null!=i&&($.top_k=void 0,y.push({type:"unsupported-setting",setting:"topK",details:"topK is not supported when thinking is enabled"})),null!=a&&($.top_p=void 0,y.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported when thinking is enabled"})),$.max_tokens=r+w}switch(m){case"regular":{let{tools:t,tool_choice:r,toolWarnings:n,betas:a}=eF(e);return{args:{...$,tools:t,tool_choice:r},warnings:[...y,...n],betas:new Set([...v,...a])}}case"object-json":throw new ei({functionality:"json-mode object generation"});case"object-tool":{let{name:t,description:r,parameters:n}=e.tool;return{args:{...$,tools:[{name:t,description:r,input_schema:n}],tool_choice:{type:"tool",name:t}},warnings:y,betas:v}}default:{let e=m;throw Error(`Unsupported type: ${e}`)}}}async getHeaders({betas:e,headers:t}){return ec(await eC(this.config.headers),e.size>0?{"anthropic-beta":Array.from(e).join(",")}:{},t)}buildRequestUrl(e){var t,r,n;return null!=(n=null==(r=(t=this.config).buildRequestUrl)?void 0:r.call(t,this.config.baseURL,e))?n:`${this.config.baseURL}/messages`}transformRequestBody(e){var t,r,n;return null!=(n=null==(r=(t=this.config).transformRequestBody)?void 0:r.call(t,e))?n:e}async doGenerate(e){var t,r,n,a;let i,{args:o,warnings:s,betas:l}=await this.getArgs(e),{responseHeaders:u,value:c,rawValue:d}=await eO({url:this.buildRequestUrl(!1),headers:await this.getHeaders({betas:l,headers:e.headers}),body:this.transformRequestBody(o),failedResponseHandler:eB,successfulResponseHandler:eR(eV),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:f,...p}=o,h="";for(let e of c.content)"text"===e.type&&(h+=e.text);if(c.content.some(e=>"tool_use"===e.type))for(let e of(i=[],c.content))"tool_use"===e.type&&i.push({toolCallType:"function",toolCallId:e.id,toolName:e.name,args:JSON.stringify(e.input)});let m=c.content.filter(e=>"redacted_thinking"===e.type||"thinking"===e.type).map(e=>"thinking"===e.type?{type:"text",text:e.thinking,signature:e.signature}:{type:"redacted",data:e.data});return{text:h,reasoning:m.length>0?m:void 0,toolCalls:i,finishReason:eZ(c.stop_reason),usage:{promptTokens:c.usage.input_tokens,completionTokens:c.usage.output_tokens},rawCall:{rawPrompt:f,rawSettings:p},rawResponse:{headers:u,body:d},response:{id:null!=(t=c.id)?t:void 0,modelId:null!=(r=c.model)?r:void 0},warnings:s,providerMetadata:{anthropic:{cacheCreationInputTokens:null!=(n=c.usage.cache_creation_input_tokens)?n:null,cacheReadInputTokens:null!=(a=c.usage.cache_read_input_tokens)?a:null}},request:{body:JSON.stringify(o)}}}async doStream(e){let t,r,{args:n,warnings:a,betas:i}=await this.getArgs(e),o={...n,stream:!0},{responseHeaders:s,value:l}=await eO({url:this.buildRequestUrl(!0),headers:await this.getHeaders({betas:i,headers:e.headers}),body:this.transformRequestBody(o),failedResponseHandler:eB,successfulResponseHandler:eP(eW),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:u,...c}=n,d="unknown",f={promptTokens:Number.NaN,completionTokens:Number.NaN},p={};return{stream:l.pipeThrough(new TransformStream({transform(e,n){var a,i,o,s;if(!e.success)return void n.enqueue({type:"error",error:e.error});let l=e.value;switch(l.type){case"ping":return;case"content_block_start":{let e=l.content_block.type;switch(r=e,e){case"text":case"thinking":return;case"redacted_thinking":return void n.enqueue({type:"redacted-reasoning",data:l.content_block.data});case"tool_use":p[l.index]={toolCallId:l.content_block.id,toolName:l.content_block.name,jsonText:""};return;default:{let t=e;throw Error(`Unsupported content block type: ${t}`)}}}case"content_block_stop":if(null!=p[l.index]){let e=p[l.index];n.enqueue({type:"tool-call",toolCallType:"function",toolCallId:e.toolCallId,toolName:e.toolName,args:e.jsonText}),delete p[l.index]}r=void 0;return;case"content_block_delta":{let e=l.delta.type;switch(e){case"text_delta":return void n.enqueue({type:"text-delta",textDelta:l.delta.text});case"thinking_delta":return void n.enqueue({type:"reasoning",textDelta:l.delta.thinking});case"signature_delta":"thinking"===r&&n.enqueue({type:"reasoning-signature",signature:l.delta.signature});return;case"input_json_delta":{let e=p[l.index];n.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:e.toolCallId,toolName:e.toolName,argsTextDelta:l.delta.partial_json}),e.jsonText+=l.delta.partial_json;return}default:{let t=e;throw Error(`Unsupported delta type: ${t}`)}}}case"message_start":f.promptTokens=l.message.usage.input_tokens,f.completionTokens=l.message.usage.output_tokens,t={anthropic:{cacheCreationInputTokens:null!=(a=l.message.usage.cache_creation_input_tokens)?a:null,cacheReadInputTokens:null!=(i=l.message.usage.cache_read_input_tokens)?i:null}},n.enqueue({type:"response-metadata",id:null!=(o=l.message.id)?o:void 0,modelId:null!=(s=l.message.model)?s:void 0});return;case"message_delta":f.completionTokens=l.usage.output_tokens,d=eZ(l.delta.stop_reason);return;case"message_stop":return void n.enqueue({type:"finish",finishReason:d,usage:f,providerMetadata:t});case"error":return void n.enqueue({type:"error",error:l.error});default:{let e=l;throw Error(`Unsupported chunk type: ${e}`)}}}})),rawCall:{rawPrompt:u,rawSettings:c},rawResponse:{headers:s},warnings:a,request:{body:JSON.stringify(o)}}}},eV=eD.z.object({type:eD.z.literal("message"),id:eD.z.string().nullish(),model:eD.z.string().nullish(),content:eD.z.array(eD.z.discriminatedUnion("type",[eD.z.object({type:eD.z.literal("text"),text:eD.z.string()}),eD.z.object({type:eD.z.literal("thinking"),thinking:eD.z.string(),signature:eD.z.string()}),eD.z.object({type:eD.z.literal("redacted_thinking"),data:eD.z.string()}),eD.z.object({type:eD.z.literal("tool_use"),id:eD.z.string(),name:eD.z.string(),input:eD.z.unknown()})])),stop_reason:eD.z.string().nullish(),usage:eD.z.object({input_tokens:eD.z.number(),output_tokens:eD.z.number(),cache_creation_input_tokens:eD.z.number().nullish(),cache_read_input_tokens:eD.z.number().nullish()})}),eW=eD.z.discriminatedUnion("type",[eD.z.object({type:eD.z.literal("message_start"),message:eD.z.object({id:eD.z.string().nullish(),model:eD.z.string().nullish(),usage:eD.z.object({input_tokens:eD.z.number(),output_tokens:eD.z.number(),cache_creation_input_tokens:eD.z.number().nullish(),cache_read_input_tokens:eD.z.number().nullish()})})}),eD.z.object({type:eD.z.literal("content_block_start"),index:eD.z.number(),content_block:eD.z.discriminatedUnion("type",[eD.z.object({type:eD.z.literal("text"),text:eD.z.string()}),eD.z.object({type:eD.z.literal("thinking"),thinking:eD.z.string()}),eD.z.object({type:eD.z.literal("tool_use"),id:eD.z.string(),name:eD.z.string()}),eD.z.object({type:eD.z.literal("redacted_thinking"),data:eD.z.string()})])}),eD.z.object({type:eD.z.literal("content_block_delta"),index:eD.z.number(),delta:eD.z.discriminatedUnion("type",[eD.z.object({type:eD.z.literal("input_json_delta"),partial_json:eD.z.string()}),eD.z.object({type:eD.z.literal("text_delta"),text:eD.z.string()}),eD.z.object({type:eD.z.literal("thinking_delta"),thinking:eD.z.string()}),eD.z.object({type:eD.z.literal("signature_delta"),signature:eD.z.string()})])}),eD.z.object({type:eD.z.literal("content_block_stop"),index:eD.z.number()}),eD.z.object({type:eD.z.literal("error"),error:eD.z.object({type:eD.z.string(),message:eD.z.string()})}),eD.z.object({type:eD.z.literal("message_delta"),delta:eD.z.object({stop_reason:eD.z.string().nullish()}),usage:eD.z.object({output_tokens:eD.z.number()})}),eD.z.object({type:eD.z.literal("message_stop")}),eD.z.object({type:eD.z.literal("ping")})]),eq=eD.z.object({thinking:eD.z.object({type:eD.z.union([eD.z.literal("enabled"),eD.z.literal("disabled")]),budgetTokens:eD.z.number().optional()}).optional()}),eK=eD.z.object({command:eD.z.string(),restart:eD.z.boolean().optional()});function eG(e={}){return{type:"provider-defined",id:"anthropic.bash_20241022",args:{},parameters:eK,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var eJ=eD.z.object({command:eD.z.string(),restart:eD.z.boolean().optional()});function eY(e={}){return{type:"provider-defined",id:"anthropic.bash_20250124",args:{},parameters:eJ,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var eX=eD.z.object({command:eD.z.enum(["view","create","str_replace","insert","undo_edit"]),path:eD.z.string(),file_text:eD.z.string().optional(),insert_line:eD.z.number().int().optional(),new_str:eD.z.string().optional(),old_str:eD.z.string().optional(),view_range:eD.z.array(eD.z.number().int()).optional()});function eQ(e={}){return{type:"provider-defined",id:"anthropic.text_editor_20241022",args:{},parameters:eX,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var e0=eD.z.object({command:eD.z.enum(["view","create","str_replace","insert","undo_edit"]),path:eD.z.string(),file_text:eD.z.string().optional(),insert_line:eD.z.number().int().optional(),new_str:eD.z.string().optional(),old_str:eD.z.string().optional(),view_range:eD.z.array(eD.z.number().int()).optional()});function e1(e={}){return{type:"provider-defined",id:"anthropic.text_editor_20250124",args:{},parameters:e0,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var e2=eD.z.object({action:eD.z.enum(["key","type","mouse_move","left_click","left_click_drag","right_click","middle_click","double_click","screenshot","cursor_position"]),coordinate:eD.z.array(eD.z.number().int()).optional(),text:eD.z.string().optional()});function e3(e){return{type:"provider-defined",id:"anthropic.computer_20241022",args:{displayWidthPx:e.displayWidthPx,displayHeightPx:e.displayHeightPx,displayNumber:e.displayNumber},parameters:e2,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var e9=eD.z.object({action:eD.z.enum(["key","hold_key","type","cursor_position","mouse_move","left_mouse_down","left_mouse_up","left_click","left_click_drag","right_click","middle_click","double_click","triple_click","scroll","wait","screenshot"]),coordinate:eD.z.tuple([eD.z.number().int(),eD.z.number().int()]).optional(),duration:eD.z.number().optional(),scroll_amount:eD.z.number().optional(),scroll_direction:eD.z.enum(["up","down","left","right"]).optional(),start_coordinate:eD.z.tuple([eD.z.number().int(),eD.z.number().int()]).optional(),text:eD.z.string().optional()}),e4={bash_20241022:eG,bash_20250124:eY,textEditor_20241022:eQ,textEditor_20250124:e1,computer_20241022:e3,computer_20250124:function(e){return{type:"provider-defined",id:"anthropic.computer_20250124",args:{displayWidthPx:e.displayWidthPx,displayHeightPx:e.displayHeightPx,displayNumber:e.displayNumber},parameters:e9,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}};function e8(e={}){var t;let r=null!=(t=eL(e.baseURL))?t:"https://api.anthropic.com/v1",n=()=>({"anthropic-version":"2023-06-01","x-api-key":ey({apiKey:e.apiKey,environmentVariableName:"ANTHROPIC_API_KEY",description:"Anthropic"}),...e.headers}),a=(t,a={})=>new eH(t,a,{provider:"anthropic.messages",baseURL:r,headers:n,fetch:e.fetch,supportsImageUrls:!0}),i=function(e,t){if(new.target)throw Error("The Anthropic model function cannot be called with the new keyword.");return a(e,t)};return i.languageModel=a,i.chat=a,i.messages=a,i.textEmbeddingModel=e=>{throw new G({modelId:e,modelType:"textEmbeddingModel"})},i.tools=e4,i}e8()},69497:e=>{"use strict";e.exports=SyntaxError},70491:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>O});var n=r(11335);class a extends Error{constructor(e){super("Request timed out"),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.request=e}}let i=e=>null!==e&&"object"==typeof e,o=(...e)=>{for(let t of e)if((!i(t)||Array.isArray(t))&&void 0!==t)throw TypeError("The `options` argument must be an object");return l({},...e)},s=(e={},t={})=>{let r=new globalThis.Headers(e),n=t instanceof globalThis.Headers;for(let[e,a]of new globalThis.Headers(t).entries())n&&"undefined"===a||void 0===a?r.delete(e):r.set(e,a);return r},l=(...e)=>{let t={},r={};for(let n of e)if(Array.isArray(n))Array.isArray(t)||(t=[]),t=[...t,...n];else if(i(n)){for(let[e,r]of Object.entries(n))i(r)&&e in t&&(r=l(t[e],r)),t={...t,[e]:r};i(n.headers)&&(r=s(r,n.headers),t.headers=r)}return t},u=(()=>{let e=!1,t=!1,r="function"==typeof globalThis.Request;return"function"==typeof globalThis.ReadableStream&&r&&(t=new globalThis.Request("https://empty.invalid",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type")),e&&!t})(),c="function"==typeof globalThis.AbortController,d="function"==typeof globalThis.ReadableStream,f="function"==typeof globalThis.FormData,p=["get","post","put","patch","head","delete"],h={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},m=0x7fffffff,y=Symbol("stop"),g={json:!0,parseJson:!0,searchParams:!0,prefixUrl:!0,retry:!0,timeout:!0,hooks:!0,throwHttpErrors:!0,onDownloadProgress:!0,fetch:!0},v={method:!0,headers:!0,body:!0,mode:!0,credentials:!0,cache:!0,redirect:!0,referrer:!0,referrerPolicy:!0,integrity:!0,keepalive:!0,signal:!0,window:!0,dispatcher:!0,duplex:!0,priority:!0},b=e=>p.includes(e)?e.toUpperCase():e,_=[413,429,503],w={limit:2,methods:["get","put","head","delete","options","trace"],statusCodes:[408,413,429,500,502,503,504],afterStatusCodes:_,maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY,delay:e=>.3*2**(e-1)*1e3},$=(e={})=>{if("number"==typeof e)return{...w,limit:e};if(e.methods&&!Array.isArray(e.methods))throw Error("retry.methods must be an array");if(e.statusCodes&&!Array.isArray(e.statusCodes))throw Error("retry.statusCodes must be an array");return{...w,...e,afterStatusCodes:_}};async function S(e,t,r,n){return new Promise((i,o)=>{let s=setTimeout(()=>{r&&r.abort(),o(new a(e))},n.timeout);n.fetch(e,t).then(i).catch(o).then(()=>{clearTimeout(s)})})}async function E(e,{signal:t}){return new Promise((r,n)=>{function a(){clearTimeout(i),n(t.reason)}t&&(t.throwIfAborted(),t.addEventListener("abort",a,{once:!0}));let i=setTimeout(()=>{t?.removeEventListener("abort",a),r()},e)})}let x=(e,t)=>{let r={};for(let n in t)n in v||n in g||n in e||(r[n]=t[n]);return r};class A{static create(e,t){let r=new A(e,t),a=async()=>{if("number"==typeof r._options.timeout&&r._options.timeout>m)throw RangeError(`The \`timeout\` option cannot be greater than ${m}`);await Promise.resolve();let e=await r._fetch();for(let t of r._options.hooks.afterResponse){let n=await t(r.request,r._options,r._decorateResponse(e.clone()));n instanceof globalThis.Response&&(e=n)}if(r._decorateResponse(e),!e.ok&&r._options.throwHttpErrors){let t=new n.H(e,r.request,r._options);for(let e of r._options.hooks.beforeError)t=await e(t);throw t}if(r._options.onDownloadProgress){if("function"!=typeof r._options.onDownloadProgress)throw TypeError("The `onDownloadProgress` option must be a function");if(!d)throw Error("Streams are not supported in your environment. `ReadableStream` is missing.");return r._stream(e.clone(),r._options.onDownloadProgress)}return e},i=r._options.retry.methods.includes(r.request.method.toLowerCase())?r._retry(a):a();for(let[e,n]of Object.entries(h))i[e]=async()=>{r.request.headers.set("accept",r.request.headers.get("accept")||n);let a=(await i).clone();if("json"===e){if(204===a.status||0===(await a.clone().arrayBuffer()).byteLength)return"";if(t.parseJson)return t.parseJson(await a.text())}return a[e]()};return i}constructor(e,t={}){Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"abortController",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_retryCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._input=e;let r=this._input instanceof Request&&"credentials"in Request.prototype?this._input.credentials:void 0;if(this._options={...r&&{credentials:r},...t,headers:s(this._input.headers,t.headers),hooks:l({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},t.hooks),method:b(t.method??this._input.method),prefixUrl:String(t.prefixUrl||""),retry:$(t.retry),throwHttpErrors:!1!==t.throwHttpErrors,timeout:t.timeout??1e4,fetch:t.fetch??globalThis.fetch.bind(globalThis)},"string"!=typeof this._input&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&"string"==typeof this._input){if(this._input.startsWith("/"))throw Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(c){if(this.abortController=new globalThis.AbortController,this._options.signal){let e=this._options.signal;this._options.signal.addEventListener("abort",()=>{this.abortController.abort(e.reason)})}this._options.signal=this.abortController.signal}if(u&&(this._options.duplex="half"),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){let e="?"+("string"==typeof this._options.searchParams?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString()),t=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,e);(f&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(t,{...this.request}),this._options)}void 0!==this._options.json&&(this._options.body=JSON.stringify(this._options.json),this.request.headers.set("content-type",this._options.headers.get("content-type")??"application/json"),this.request=new globalThis.Request(this.request,{body:this._options.body}))}_calculateRetryDelay(e){if(this._retryCount++,this._retryCount<=this._options.retry.limit&&!(e instanceof a)){if(e instanceof n.H){if(!this._options.retry.statusCodes.includes(e.response.status))return 0;let t=e.response.headers.get("Retry-After");if(t&&this._options.retry.afterStatusCodes.includes(e.response.status)){let e=Number(t);return(Number.isNaN(e)?e=Date.parse(t)-Date.now():e*=1e3,void 0!==this._options.retry.maxRetryAfter&&e>this._options.retry.maxRetryAfter)?0:e}if(413===e.response.status)return 0}let t=this._options.retry.delay(this._retryCount);return Math.min(this._options.retry.backoffLimit,t)}return 0}_decorateResponse(e){return this._options.parseJson&&(e.json=async()=>this._options.parseJson(await e.text())),e}async _retry(e){try{return await e()}catch(r){let t=Math.min(this._calculateRetryDelay(r),m);if(0!==t&&this._retryCount>0){for(let e of(await E(t,{signal:this._options.signal}),this._options.hooks.beforeRetry))if(await e({request:this.request,options:this._options,error:r,retryCount:this._retryCount})===y)return;return this._retry(e)}throw r}}async _fetch(){for(let e of this._options.hooks.beforeRequest){let t=await e(this.request,this._options);if(t instanceof Request){this.request=t;break}if(t instanceof Response)return t}let e=x(this.request,this._options);return!1===this._options.timeout?this._options.fetch(this.request.clone(),e):S(this.request.clone(),e,this.abortController,this._options)}_stream(e,t){let r=Number(e.headers.get("content-length"))||0,n=0;return 204===e.status?(t&&t({percent:1,totalBytes:r,transferredBytes:n},new Uint8Array),new globalThis.Response(null,{status:e.status,statusText:e.statusText,headers:e.headers})):new globalThis.Response(new globalThis.ReadableStream({async start(a){let i=e.body.getReader();async function o(){let{done:e,value:s}=await i.read();if(e)return void a.close();t&&(n+=s.byteLength,t({percent:0===r?0:n/r,transferredBytes:n,totalBytes:r},s)),a.enqueue(s),await o()}t&&t({percent:0,transferredBytes:0,totalBytes:r},new Uint8Array),await o()}}),{status:e.status,statusText:e.statusText,headers:e.headers})}}let k=e=>{let t=(t,r)=>A.create(t,o(e,r));for(let r of p)t[r]=(t,n)=>A.create(t,o(e,n,{method:r}));return t.create=e=>k(o(e)),t.extend=t=>k(o(e,t)),t.stop=y,t},O=k()},70892:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=/^[0-9]{15}$/,o=/^\d{2}-\d{6}-\d{6}-\d{1}$/;function s(e,t){(0,n.default)(e);var r=i;if((t=t||{}).allow_hyphens&&(r=o),!r.test(e))return!1;e=e.replace(/-/g,"");for(var a=0,s=2,l=14,u=0;u<l;u++){var c=parseInt(e.substring(l-u-1,l-u),10)*s;c>=10?a+=c%10+1:a+=c,1===s?s+=1:s-=1}return(10-a%10)%10===parseInt(e.substring(14,15),10)}e.exports=t.default,e.exports.default=t.default},71137:(e,t,r)=>{"use strict";let n=r(5074);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},71384:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=/^#?([0-9A-F]{3}|[0-9A-F]{4}|[0-9A-F]{6}|[0-9A-F]{8})$/i;function o(e){return(0,n.default)(e),i.test(e)}e.exports=t.default,e.exports.default=t.default},71648:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=/^(application|audio|font|image|message|model|multipart|text|video)\/[a-zA-Z0-9\.\-\+_]{1,100}$/i,o=/^text\/[a-zA-Z0-9\.\-\+]{1,100};\s?charset=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?$/i,s=/^multipart\/[a-zA-Z0-9\.\-\+]{1,100}(;\s?(boundary|charset)=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?){0,2}$/i;function l(e){return(0,n.default)(e),i.test(e)||o.test(e)||s.test(e)}e.exports=t.default,e.exports.default=t.default},72107:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=/^(0x)[0-9a-f]{40}$/i;function o(e){return(0,n.default)(e),i.test(e)}e.exports=t.default,e.exports.default=t.default},72206:e=>{"use strict";e.exports=TypeError},72274:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.Hash=t.nextTick=t.swap32IfBE=t.byteSwapIfBE=t.swap8IfBE=t.isLE=void 0,t.isBytes=a,t.anumber=i,t.abytes=o,t.ahash=s,t.aexists=l,t.aoutput=u,t.u8=c,t.u32=d,t.clean=f,t.createView=p,t.rotr=h,t.rotl=m,t.byteSwap=y,t.byteSwap32=g,t.bytesToHex=_,t.hexToBytes=S,t.asyncLoop=E,t.utf8ToBytes=x,t.bytesToUtf8=A,t.toBytes=k,t.kdfInputToBytes=O,t.concatBytes=I,t.checkOpts=C,t.createHasher=P,t.createOptHasher=R,t.createXOFer=N,t.randomBytes=j;let n=r(13536);function a(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function i(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function o(e,...t){if(!a(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function s(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");i(e.outputLen),i(e.blockLen)}function l(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function u(e,t){o(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}function c(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function d(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function f(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function p(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function h(e,t){return e<<32-t|e>>>t}function m(e,t){return e<<t|e>>>32-t>>>0}function y(e){return e<<24&0xff000000|e<<8&0xff0000|e>>>8&65280|e>>>24&255}function g(e){for(let t=0;t<e.length;t++)e[t]=y(e[t]);return e}t.isLE=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0],t.swap8IfBE=t.isLE?e=>e:e=>y(e),t.byteSwapIfBE=t.swap8IfBE,t.swap32IfBE=t.isLE?e=>e:g;let v="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,b=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function _(e){if(o(e),v)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=b[e[r]];return t}let w={_0:48,_9:57,A:65,F:70,a:97,f:102};function $(e){return e>=w._0&&e<=w._9?e-w._0:e>=w.A&&e<=w.F?e-(w.A-10):e>=w.a&&e<=w.f?e-(w.a-10):void 0}function S(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(v)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,a=0;t<r;t++,a+=2){let r=$(e.charCodeAt(a)),i=$(e.charCodeAt(a+1));if(void 0===r||void 0===i)throw Error('hex string expected, got non-hex character "'+(e[a]+e[a+1])+'" at index '+a);n[t]=16*r+i}return n}async function E(e,r,n){let a=Date.now();for(let i=0;i<e;i++){n(i);let e=Date.now()-a;e>=0&&e<r||(await (0,t.nextTick)(),a+=e)}}function x(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function A(e){return new TextDecoder().decode(e)}function k(e){return"string"==typeof e&&(e=x(e)),o(e),e}function O(e){return"string"==typeof e&&(e=x(e)),o(e),e}function I(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];o(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let a=e[t];r.set(a,n),n+=a.length}return r}function C(e,t){if(void 0!==t&&"[object Object]"!==({}).toString.call(t))throw Error("options should be object or undefined");return Object.assign(e,t)}t.nextTick=async()=>{};class T{}function P(e){let t=t=>e().update(k(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function R(e){let t=(t,r)=>e(r).update(k(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}function N(e){let t=(t,r)=>e(r).update(k(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}function j(e=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));if(n.crypto&&"function"==typeof n.crypto.randomBytes)return Uint8Array.from(n.crypto.randomBytes(e));throw Error("crypto.getRandomValues must be defined")}t.Hash=T,t.wrapConstructor=P,t.wrapConstructorWithOpts=R,t.wrapXOFConstructorWithOpts=N},72562:(e,t,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,a=r(47684);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&a()}},72643:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={registered:{},scrollEvent:{register:function(e,t){r.registered[e]=t},remove:function(e){r.registered[e]=null}}};t.default=r},72925:(e,t,r)=>{"use strict";let n=r(26189);e.exports=(e,t,r)=>0>=n(e,t,r)},73169:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i="^\\d{4}-?\\d{3}[\\dX]$";function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,n.default)(e);var r=i;if(r=t.require_hyphen?r.replace("?",""):r,!(r=t.case_sensitive?new RegExp(r):RegExp(r,"i")).test(e))return!1;for(var a=e.replace("-","").toUpperCase(),o=0,s=0;s<a.length;s++){var l=a[s];o+=("X"===l?10:+l)*(8-s)}return o%11==0}e.exports=t.default,e.exports.default=t.default},73242:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CountryCodes=void 0,t.default=o;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=new Set(["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"]);function o(e){return(0,n.default)(e),i.has(e.toUpperCase())}t.CountryCodes=i},73313:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=a(r(29203));function a(e){return e&&e.__esModule?e:{default:e}}var i={hourFormat:"hour24",mode:"default"},o={hour24:{default:/^([01]?[0-9]|2[0-3]):([0-5][0-9])$/,withSeconds:/^([01]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$/},hour12:{default:/^(0?[1-9]|1[0-2]):([0-5][0-9]) (A|P)M$/,withSeconds:/^(0?[1-9]|1[0-2]):([0-5][0-9]):([0-5][0-9]) (A|P)M$/}};function s(e,t){return t=(0,n.default)(t,i),"string"==typeof e&&o[t.hourFormat][t.mode].test(e)}e.exports=t.default,e.exports.default=t.default},73909:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return(0,n.default)(e),isNaN(e=Date.parse(e))?null:new Date(e)}e.exports=t.default,e.exports.default=t.default},74002:e=>{"use strict";e.exports=Error},74499:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=i(r(79922)),a=i(r(29203));function i(e){return e&&e.__esModule?e:{default:e}}var o={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};function s(e,t){(0,n.default)(e),(t=(0,a.default)(t,o)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1)),!0===t.allow_wildcard&&0===e.indexOf("*.")&&(e=e.substring(2));var r=e.split("."),i=r[r.length-1];return!(t.require_tld&&(r.length<2||!t.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(i)||/\s/.test(i)))&&!(!t.allow_numeric_tld&&/^\d+$/.test(i))&&r.every(function(e){return!(e.length>63&&!t.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(e)||/[\uff01-\uff5e]/.test(e)||/^-|-$/.test(e)||!t.allow_underscores&&/_/.test(e))})}e.exports=t.default,e.exports.default=t.default},74818:(e,t,r)=>{"use strict";var n=r(76536),a=r(3194),i=r(83639),o=r(26572);e.exports=function(e){var t=i(arguments),r=e.length-(arguments.length-1);return n(t,1+(r>0?r:0),!0)},a?a(e.exports,"apply",{value:o}):e.exports.apply=o},75657:(e,t,r)=>{var n=r(16076),a=function(e,t){n.call(this,e),this.name="TokenExpiredError",this.expiredAt=t};a.prototype=Object.create(n.prototype),a.prototype.constructor=a,e.exports=a},75705:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=/^(bc1)[a-z0-9]{25,39}$/,o=/^(1|3)[A-HJ-NP-Za-km-z1-9]{25,39}$/;function s(e){return(0,n.default)(e),i.test(e)||o.test(e)}e.exports=t.default,e.exports.default=t.default},75739:e=>{"use strict";e.exports=Math.min},75878:(e,t,r)=>{"use strict";let n=r(38278);e.exports=(e,t,r)=>n(e,t,">",r)},76536:(e,t,r)=>{"use strict";var n=r(3140),a=r(28160),i=r(66957)(),o=r(27654),s=r(72206),l=n("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new s("`fn` is not a function");if("number"!=typeof t||t<0||t>0xffffffff||l(t)!==t)throw new s("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,u=!0;if("length"in e&&o){var c=o(e,"length");c&&!c.configurable&&(n=!1),c&&!c.writable&&(u=!1)}return(n||u||!r)&&(i?a(e,"length",t,!0,!0):a(e,"length",t)),e}},77012:(e,t,r)=>{"use strict";let n=r(8887),a=r(66931),i=r(77721),o=r(96790),s=r(26829),l=r(23136),u=r(29911),c=r(32138),d=r(82965),f=r(57619),p=r(96751),h=r(50892),m=r(49512),y=r(26189),g=r(64331),v=r(41670),b=r(2316),_=r(95586),w=r(38164),$=r(44689),S=r(91526),E=r(92648),x=r(84426),A=r(50736),k=r(72925),O=r(94762),I=r(49059),C=r(50141),T=r(5074),P=r(8759),R=r(86298),N=r(81601),j=r(86159),M=r(44396),L=r(79243),D=r(38278),B=r(75878),F=r(37599),z=r(71137);e.exports={parse:s,valid:l,clean:u,inc:c,diff:d,major:f,minor:p,patch:h,prerelease:m,compare:y,rcompare:g,compareLoose:v,compareBuild:b,sort:_,rsort:w,gt:$,lt:S,eq:E,neq:x,gte:A,lte:k,cmp:O,coerce:I,Comparator:C,Range:T,satisfies:P,toComparators:R,maxSatisfying:N,minSatisfying:j,minVersion:M,validRange:L,outside:D,gtr:B,ltr:F,intersects:z,simplifyRange:r(78540),subset:r(13941),SemVer:i,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:a.SEMVER_SPEC_VERSION,RELEASE_TYPES:a.RELEASE_TYPES,compareIdentifiers:o.compareIdentifiers,rcompareIdentifiers:o.rcompareIdentifiers}},77201:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4264);t.ResizeObservation=function(){function e(e){this.target=e,this.$$broadcastWidth=this.$$broadcastHeight=0}return Object.defineProperty(e.prototype,"broadcastWidth",{get:function(){return this.$$broadcastWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"broadcastHeight",{get:function(){return this.$$broadcastHeight},enumerable:!0,configurable:!0}),e.prototype.isActive=function(){var e=n.ContentRect(this.target);return!!e&&(e.width!==this.broadcastWidth||e.height!==this.broadcastHeight)},e}()},77543:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CurrencyCodes=void 0,t.default=o;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=new Set(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRU","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLE","SLL","SOS","SRD","SSP","STN","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UYW","UZS","VES","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]);function o(e){return(0,n.default)(e),i.has(e.toUpperCase())}t.CurrencyCodes=i},77721:(e,t,r)=>{"use strict";let n=r(77909),{MAX_LENGTH:a,MAX_SAFE_INTEGER:i}=r(66931),{safeRe:o,t:s}=r(8887),l=r(49694),{compareIdentifiers:u}=r(96790);class c{constructor(e,t){if(t=l(t),e instanceof c)if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;else e=e.version;else if("string"!=typeof e)throw TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>a)throw TypeError(`version is longer than ${a} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let r=e.trim().match(t.loose?o[s.LOOSE]:o[s.FULL]);if(!r)throw TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>i||this.major<0)throw TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){let t=+e;if(t>=0&&t<i)return t}return e}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof c)){if("string"==typeof e&&e===this.version)return 0;e=new c(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof c||(e=new c(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof c||(e=new c(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let r=this.prerelease[t],a=e.prerelease[t];if(n("prerelease compare",t,r,a),void 0===r&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===r)return -1;else if(r===a)continue;else return u(r,a)}while(++t)}compareBuild(e){e instanceof c||(e=new c(e,this.options));let t=0;do{let r=this.build[t],a=e.build[t];if(n("build compare",t,r,a),void 0===r&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===r)return -1;else if(r===a)continue;else return u(r,a)}while(++t)}inc(e,t,r){if(e.startsWith("pre")){if(!t&&!1===r)throw Error("invalid increment argument: identifier is empty");if(t){let e=`-${t}`.match(this.options.loose?o[s.PRERELEASELOOSE]:o[s.PRERELEASE]);if(!e||e[1]!==t)throw Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"release":if(0===this.prerelease.length)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{let e=+!!Number(r);if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=c},77827:e=>{"use strict";class t{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(void 0!==t)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){let e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}e.exports=t},77909:(e,t,r)=>{"use strict";var n=r(29143);e.exports="object"==typeof n&&n.env&&n.env.NODE_DEBUG&&/\bsemver\b/i.test(n.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{}},78540:(e,t,r)=>{"use strict";let n=r(8759),a=r(26189);e.exports=(e,t,r)=>{let i=[],o=null,s=null,l=e.sort((e,t)=>a(e,t,r));for(let e of l)n(e,t,r)?(s=e,o||(o=e)):(s&&i.push([o,s]),s=null,o=null);o&&i.push([o,null]);let u=[];for(let[e,t]of i)e===t?u.push(e):t||e!==l[0]?t?e===l[0]?u.push(`<=${t}`):u.push(`${e} - ${t}`):u.push(`>=${e}`):u.push("*");let c=u.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return c.length<d.length?c:t}},78567:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=/^[\x00-\x7F]+$/;function o(e){return(0,n.default)(e),i.test(e)}e.exports=t.default,e.exports.default=t.default},78619:(e,t,r)=>{var n="Expected a function",a=0/0,i="[object Symbol]",o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,d="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,f="object"==typeof self&&self&&self.Object===Object&&self,p=d||f||Function("return this")(),h=Object.prototype.toString,m=Math.max,y=Math.min,g=function(){return p.Date.now()};function v(e,t,r){var a,i,o,s,l,u,c=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw TypeError(n);function h(t){var r=a,n=i;return a=i=void 0,c=t,s=e.apply(n,r)}function v(e){return c=e,l=setTimeout(S,t),d?h(e):s}function _(e){var r=e-u,n=e-c,a=t-r;return f?y(a,o-n):a}function w(e){var r=e-u,n=e-c;return void 0===u||r>=t||r<0||f&&n>=o}function S(){var e=g();if(w(e))return E(e);l=setTimeout(S,_(e))}function E(e){return(l=void 0,p&&a)?h(e):(a=i=void 0,s)}function x(){return void 0===l?s:E(g())}function A(){var e=g(),r=w(e);if(a=arguments,i=this,u=e,r){if(void 0===l)return v(u);if(f)return l=setTimeout(S,t),h(u)}return void 0===l&&(l=setTimeout(S,t)),s}return t=$(t)||0,b(r)&&(d=!!r.leading,o=(f="maxWait"in r)?m($(r.maxWait)||0,t):o,p="trailing"in r?!!r.trailing:p),A.cancel=function(){void 0!==l&&clearTimeout(l),c=0,a=u=i=l=void 0},A.flush=x,A}function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function _(e){return!!e&&"object"==typeof e}function w(e){return"symbol"==typeof e||_(e)&&h.call(e)==i}function $(e){if("number"==typeof e)return e;if(w(e))return a;if(b(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=b(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var r=l.test(e);return r||u.test(e)?c(e.slice(2),r?2:8):s.test(e)?a:+e}e.exports=function(e,t,r){var a=!0,i=!0;if("function"!=typeof e)throw TypeError(n);return b(r)&&(a="leading"in r?!!r.leading:a,i="trailing"in r?!!r.trailing:i),v(e,t,{leading:a,maxWait:t,trailing:i})}},78647:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var n=i(r(79922)),a=i(r(83120));function i(e){return e&&e.__esModule?e:{default:e}}var o={amex:/^3[47][0-9]{13}$/,dinersclub:/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,discover:/^6(?:011|5[0-9][0-9])[0-9]{12,15}$/,jcb:/^(?:2131|1800|35\d{3})\d{11}$/,mastercard:/^5[1-5][0-9]{2}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$/,unionpay:/^(6[27][0-9]{14}|^(81[0-9]{14,17}))$/,visa:/^(?:4[0-9]{12})(?:[0-9]{3,6})?$/},s=function(){var e=[];for(var t in o)o.hasOwnProperty(t)&&e.push(o[t]);return e}();function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,n.default)(e);var r=t.provider,i=e.replace(/[- ]+/g,"");if(r&&r.toLowerCase()in o){if(!o[r.toLowerCase()].test(i))return!1}else if(!r||r.toLowerCase()in o){if(!s.some(function(e){return e.test(i)}))return!1}else throw Error("".concat(r," is not a valid credit card provider."));return(0,a.default)(e)}e.exports=t.default,e.exports.default=t.default},78805:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};s(r(67763));var a=s(r(1156)),i=s(r(10898)),o=s(r(72643));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return a.default[e.smooth]||a.default.defaultEasing},u=function(e){return"function"==typeof e?e:function(){return e}},c=function(){if("undefined"!=typeof window)return window.requestAnimationFrame||window.webkitRequestAnimationFrame},d=function(){return c()||function(e,t,r){window.setTimeout(e,r||1e3/60,new Date().getTime())}}(),f=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},p=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollLeft;var r=void 0!==window.pageXOffset,n="CSS1Compat"===(document.compatMode||"");return r?window.pageXOffset:n?document.documentElement.scrollLeft:document.body.scrollLeft},h=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollTop;var r=void 0!==window.pageXOffset,n="CSS1Compat"===(document.compatMode||"");return r?window.pageYOffset:n?document.documentElement.scrollTop:document.body.scrollTop},m=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollWidth-t.offsetWidth;var r=document.body,n=document.documentElement;return Math.max(r.scrollWidth,r.offsetWidth,n.clientWidth,n.scrollWidth,n.offsetWidth)},y=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollHeight-t.offsetHeight;var r=document.body,n=document.documentElement;return Math.max(r.scrollHeight,r.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)},g=function e(t,r,n){var a=r.data;if(!r.ignoreCancelEvents&&a.cancel){o.default.registered.end&&o.default.registered.end(a.to,a.target,a.currentPositionY);return}if(a.delta=Math.round(a.targetPosition-a.startPosition),null===a.start&&(a.start=n),a.progress=n-a.start,a.percent=a.progress>=a.duration?1:t(a.progress/a.duration),a.currentPosition=a.startPosition+Math.ceil(a.delta*a.percent),a.containerElement&&a.containerElement!==document&&a.containerElement!==document.body?r.horizontal?a.containerElement.scrollLeft=a.currentPosition:a.containerElement.scrollTop=a.currentPosition:r.horizontal?window.scrollTo(a.currentPosition,0):window.scrollTo(0,a.currentPosition),a.percent<1){var i=e.bind(null,t,r);d.call(window,i);return}o.default.registered.end&&o.default.registered.end(a.to,a.target,a.currentPosition)},v=function(e){e.data.containerElement=e?e.containerId?document.getElementById(e.containerId):e.container&&e.container.nodeType?e.container:document:null},b=function(e,t,r,n){if(t.data=t.data||f(),window.clearTimeout(t.data.delayTimeout),i.default.subscribe(function(){t.data.cancel=!0}),v(t),t.data.start=null,t.data.cancel=!1,t.data.startPosition=t.horizontal?p(t):h(t),t.data.targetPosition=t.absolute?e:e+t.data.startPosition,t.data.startPosition===t.data.targetPosition){o.default.registered.end&&o.default.registered.end(t.data.to,t.data.target,t.data.currentPosition);return}t.data.delta=Math.round(t.data.targetPosition-t.data.startPosition),t.data.duration=u(t.duration)(t.data.delta),t.data.duration=isNaN(parseFloat(t.data.duration))?1e3:parseFloat(t.data.duration),t.data.to=r,t.data.target=n;var a=l(t),s=g.bind(null,a,t);if(t&&t.delay>0){t.data.delayTimeout=window.setTimeout(function(){o.default.registered.begin&&o.default.registered.begin(t.data.to,t.data.target),d.call(window,s)},t.delay);return}o.default.registered.begin&&o.default.registered.begin(t.data.to,t.data.target),d.call(window,s)},_=function(e){return(e=n({},e)).data=e.data||f(),e.absolute=!0,e},w=function(e){b(0,_(e))},$=function(e,t){b(e,_(t))},S=function(e){v(e=_(e)),b(e.horizontal?m(e):y(e),e)},E=function(e,t){v(t=_(t)),b(e+(t.horizontal?p(t):h(t)),t)};t.default={animateTopScroll:b,getAnimationType:l,scrollToTop:w,scrollToBottom:S,scrollTo:$,scrollMore:E}},78895:function(e,t,r){!function(e,n){n(t,r(55729))}(0,function(e,t){"use strict";function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){return s(e)||l(e,t)||u(e,t)||d()}function s(e){if(Array.isArray(e))return e}function l(e,t){var r,n,a=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=a){var i=[],o=!0,s=!1;try{for(a=a.call(e);!(o=(r=a.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){s=!0,n=e}finally{try{o||null==a.return||a.return()}finally{if(s)throw n}}return i}}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function d(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){return e(t={exports:{}},t.exports),t.exports}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var p="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function h(){}function m(){}m.resetWarningCache=h;var y=function(){function e(e,t,r,n,a,i){if(i!==p){var o=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:m,resetWarningCache:h};return r.PropTypes=r,r},g=f(function(e){e.exports=y()}),v=function(e){var r=t.useRef(e);return t.useEffect(function(){r.current=e},[e]),r.current},b=function(e){return null!==e&&"object"===a(e)},_=function(e){return b(e)&&"function"==typeof e.then},w=function(e){return b(e)&&"function"==typeof e.elements&&"function"==typeof e.createToken&&"function"==typeof e.createPaymentMethod&&"function"==typeof e.confirmCardPayment},$="[object Object]",S=function e(t,r){if(!b(t)||!b(r))return t===r;var n=Array.isArray(t);if(n!==Array.isArray(r))return!1;var a=Object.prototype.toString.call(t)===$;if(a!==(Object.prototype.toString.call(r)===$))return!1;if(!a&&!n)return t===r;var i=Object.keys(t),o=Object.keys(r);if(i.length!==o.length)return!1;for(var s={},l=0;l<i.length;l+=1)s[i[l]]=!0;for(var u=0;u<o.length;u+=1)s[o[u]]=!0;var c=Object.keys(s);if(c.length!==i.length)return!1;var d=t,f=r,p=function(t){return e(d[t],f[t])};return c.every(p)},E=function(e,t,r){return b(e)?Object.keys(e).reduce(function(a,o){var s=!b(t)||!S(e[o],t[o]);return r.includes(o)?(s&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),a):s?n(n({},a||{}),{},i({},o,e[o])):a},null):null},x="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",A=function(e){if(null===e||w(e))return e;throw Error(x)},k=function(e){if(_(e))return{tag:"async",stripePromise:Promise.resolve(e).then(A)};var t=A(e);return null===t?{tag:"empty"}:{tag:"sync",stripe:t}},O=t.createContext(null);O.displayName="ElementsContext";var I=function(e,t){if(!e)throw Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},C=t.createContext(null);C.displayName="CartElementContext";var T=function(e,t){if(!e)throw Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},P=function(e){var r=e.stripe,n=e.options,a=e.children,i=t.useMemo(function(){return k(r)},[r]),s=o(t.useState(null),2),l=s[0],u=s[1],c=o(t.useState(null),2),d=c[0],f=c[1],p=o(t.useState(function(){return{stripe:"sync"===i.tag?i.stripe:null,elements:"sync"===i.tag?i.stripe.elements(n):null}}),2),h=p[0],m=p[1];t.useEffect(function(){var e=!0,t=function(e){m(function(t){return t.stripe?t:{stripe:e,elements:e.elements(n)}})};return"async"!==i.tag||h.stripe?"sync"!==i.tag||h.stripe||t(i.stripe):i.stripePromise.then(function(r){r&&e&&t(r)}),function(){e=!1}},[i,h,n]);var y=v(r);t.useEffect(function(){null!==y&&y!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[y,r]);var g=v(n);return t.useEffect(function(){if(h.elements){var e=E(n,g,["clientSecret","fonts"]);e&&h.elements.update(e)}},[n,g,h.elements]),t.useEffect(function(){var e=h.stripe;e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"1.16.4"}),e.registerAppInfo({name:"react-stripe-js",version:"1.16.4",url:"https://stripe.com/docs/stripe-js/react"}))},[h.stripe]),t.createElement(O.Provider,{value:h},t.createElement(C.Provider,{value:{cart:l,setCart:u,cartState:d,setCartState:f}},a))};P.propTypes={stripe:g.any,options:g.object};var R=function(e){return I(t.useContext(O),e)},N=function(e){return T(t.useContext(C),e)},j=function(){return R("calls useElements()").elements},M=function(){return R("calls useStripe()").stripe},L=function(){return N("calls useCartElement()").cart},D=function(){return N("calls useCartElementState()").cartState},B=function(e){return(0,e.children)(R("mounts <ElementsConsumer>"))};B.propTypes={children:g.func.isRequired};var F=function(e,r,n){var a=!!n,i=t.useRef(n);t.useEffect(function(){i.current=n},[n]),t.useEffect(function(){if(!a||!e)return function(){};var t=function(){i.current&&i.current.apply(i,arguments)};return e.on(r,t),function(){e.off(r,t)}},[a,r,e,i])},z=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},U=function(e,r){var n="".concat(z(e),"Element"),a=function(r){var a,i=r.id,s=r.className,l=r.options,u=void 0===l?{}:l,c=r.onBlur,d=r.onFocus,f=r.onReady,p=r.onChange,h=r.onEscape,m=r.onClick,y=r.onLoadError,g=r.onLoaderStart,b=r.onNetworksChange,_=r.onCheckout,w=r.onLineItemClick,$=r.onConfirm,S=r.onCancel,x=r.onShippingAddressChange,A=r.onShippingRateChange,k=R("mounts <".concat(n,">")).elements,O=o(t.useState(null),2),I=O[0],C=O[1],T=t.useRef(null),P=t.useRef(null),j=N("mounts <".concat(n,">")),M=j.setCart,L=j.setCartState;F(I,"blur",c),F(I,"focus",d),F(I,"escape",h),F(I,"click",m),F(I,"loaderror",y),F(I,"loaderstart",g),F(I,"networkschange",b),F(I,"lineitemclick",w),F(I,"confirm",$),F(I,"cancel",S),F(I,"shippingaddresschange",x),F(I,"shippingratechange",A),"cart"===e?a=function(e){L(e),f&&f(e)}:f&&(a="payButton"===e?f:function(){f(I)}),F(I,"ready",a),F(I,"change","cart"===e?function(e){L(e),p&&p(e)}:p),F(I,"checkout","cart"===e?function(e){L(e),_&&_(e)}:_),t.useLayoutEffect(function(){if(null===T.current&&k&&null!==P.current){var t=k.create(e,u);"cart"===e&&M&&M(t),T.current=t,C(t),t.mount(P.current)}},[k,u,M]);var D=v(u);return t.useEffect(function(){if(T.current){var e=E(u,D,["paymentRequest"]);e&&T.current.update(e)}},[u,D]),t.useLayoutEffect(function(){return function(){T.current&&(T.current.destroy(),T.current=null)}},[]),t.createElement("div",{id:i,className:s,ref:P})},i=function(e){R("mounts <".concat(n,">")),N("mounts <".concat(n,">"));var r=e.id,a=e.className;return t.createElement("div",{id:r,className:a})},s=r?i:a;return s.propTypes={id:g.string,className:g.string,onChange:g.func,onBlur:g.func,onFocus:g.func,onReady:g.func,onEscape:g.func,onClick:g.func,onLoadError:g.func,onLoaderStart:g.func,onNetworksChange:g.func,onCheckout:g.func,onLineItemClick:g.func,onConfirm:g.func,onCancel:g.func,onShippingAddressChange:g.func,onShippingRateChange:g.func,options:g.object},s.displayName=n,s.__elementType=e,s},Z="undefined"==typeof window,H=U("auBankAccount",Z),V=U("card",Z),W=U("cardNumber",Z),q=U("cardExpiry",Z),K=U("cardCvc",Z),G=U("fpxBank",Z),J=U("iban",Z),Y=U("idealBank",Z),X=U("p24Bank",Z),Q=U("epsBank",Z),ee=U("payment",Z),et=U("payButton",Z),er=U("paymentRequestButton",Z),en=U("linkAuthentication",Z),ea=U("address",Z),ei=U("shippingAddress",Z),eo=U("cart",Z),es=U("paymentMethodMessaging",Z),el=U("affirmMessage",Z),eu=U("afterpayClearpayMessage",Z);e.AddressElement=ea,e.AffirmMessageElement=el,e.AfterpayClearpayMessageElement=eu,e.AuBankAccountElement=H,e.CardCvcElement=K,e.CardElement=V,e.CardExpiryElement=q,e.CardNumberElement=W,e.CartElement=eo,e.Elements=P,e.ElementsConsumer=B,e.EpsBankElement=Q,e.FpxBankElement=G,e.IbanElement=J,e.IdealBankElement=Y,e.LinkAuthenticationElement=en,e.P24BankElement=X,e.PayButtonElement=et,e.PaymentElement=ee,e.PaymentMethodMessagingElement=es,e.PaymentRequestButtonElement=er,e.ShippingAddressElement=ei,e.useCartElement=L,e.useCartElementState=D,e.useElements=j,e.useStripe=M,Object.defineProperty(e,"__esModule",{value:!0})})},79243:(e,t,r)=>{"use strict";let n=r(5074);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},79616:(e,t,r)=>{"use strict";r.d(t,{w:()=>l});var n=r(31078),a=r(29143);function i(e){let t=e.runtimeEnvStrict??e.runtimeEnv??a.env;if(e.emptyStringAsUndefined)for(let[e,r]of Object.entries(t))""===r&&delete t[e];if(e.skipValidation)return t;let r="object"==typeof e.client?e.client:{},i="object"==typeof e.server?e.server:{},o="object"==typeof e.shared?e.shared:{},s=(0,n.Ik)(r),l=(0,n.Ik)(i),u=(0,n.Ik)(o),c=e.isServer??("undefined"==typeof window||"Deno"in window),d=s.merge(u),f=l.merge(u).merge(s),p=c?f.safeParse(t):d.safeParse(t),h=e.onValidationError??(e=>{throw console.error("❌ Invalid environment variables:",e.flatten().fieldErrors),Error("Invalid environment variables")}),m=e.onInvalidAccess??(e=>{throw Error("❌ Attempted to access a server-side environment variable on the client")});if(!1===p.success)return h(p.error);let y=t=>!e.clientPrefix||!t.startsWith(e.clientPrefix)&&!(t in u.shape),g=e=>c||!y(e),v=e=>"__esModule"===e||"$$typeof"===e,b=(e.extends??[]).reduce((e,t)=>Object.assign(e,t),{});return new Proxy(Object.assign(p.data,b),{get(e,t){if("string"==typeof t&&!v(t))return g(t)?Reflect.get(e,t):m(t)}})}var o=r(29143);let s="NEXT_PUBLIC_";function l(e){let t="object"==typeof e.client?e.client:{},r="object"==typeof e.server?e.server:{},n=e.shared,a=e.runtimeEnv?e.runtimeEnv:{...o.env,...e.experimental__runtimeEnv};return i({...e,shared:n,client:t,server:r,clientPrefix:s,runtimeEnv:a})}},79922:(e,t)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e){if(!("string"==typeof e||e instanceof String)){var t=r(e);throw null===e?t="null":"object"===t&&(t=e.constructor.name),TypeError("Expected a string but received a ".concat(t))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default,e.exports.default=t.default},79998:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=i(r(79922)),a=r(73242);function i(e){return e&&e.__esModule?e:{default:e}}var o=/^[A-Za-z]{6}[A-Za-z0-9]{2}([A-Za-z0-9]{3})?$/;function s(e){(0,n.default)(e);var t=e.slice(4,6).toUpperCase();return(!!a.CountryCodes.has(t)||"XK"===t)&&o.test(e)}e.exports=t.default,e.exports.default=t.default},80124:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=o(r(55729)),i=o(r(26882));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function u(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),n(t,[{key:"render",value:function(){return a.default.createElement("input",this.props,this.props.children)}}]),t}(a.default.Component);t.default=(0,i.default)(c)},80454:(e,t,r)=>{"use strict";var n,a=r(54913),i=r(27721)(),o=r(98516),s=r(27654);if(i){var l=a("RegExp.prototype.exec"),u={},c=function(){throw u},d={toString:c,valueOf:c};"symbol"==typeof Symbol.toPrimitive&&(d[Symbol.toPrimitive]=c),n=function(e){if(!e||"object"!=typeof e)return!1;var t=s(e,"lastIndex");if(!(t&&o(t,"value")))return!1;try{l(e,d)}catch(e){return e===u}}}else{var f=a("Object.prototype.toString"),p="[object RegExp]";n=function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&f(e)===p}}e.exports=n},80510:(e,t,r)=>{"use strict";var n=r(3140),a=r(54913),i=r(16526),o=r(72206),s=n("%Map%",!0),l=a("Map.prototype.get",!0),u=a("Map.prototype.set",!0),c=a("Map.prototype.has",!0),d=a("Map.prototype.delete",!0),f=a("Map.prototype.size",!0);e.exports=!!s&&function(){var e,t={assert:function(e){if(!t.has(e))throw new o("Side channel does not contain "+i(e))},delete:function(t){if(e){var r=d(e,t);return 0===f(e)&&(e=void 0),r}return!1},get:function(t){if(e)return l(e,t)},has:function(t){return!!e&&c(e,t)},set:function(t,r){e||(e=new s),u(e,t,r)}};return t}},80656:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",r=Object.prototype.toString,n=Math.max,a="[object Function]",i=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var a=0;a<t.length;a+=1)r[a+e.length]=t[a];return r},o=function(e,t){for(var r=[],n=t||0,a=0;n<e.length;n+=1,a+=1)r[a]=e[n];return r},s=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r};e.exports=function(e){var l,u=this;if("function"!=typeof u||r.apply(u)!==a)throw TypeError(t+u);for(var c=o(arguments,1),d=function(){if(this instanceof l){var t=u.apply(this,i(c,arguments));return Object(t)===t?t:this}return u.apply(e,i(c,arguments))},f=n(0,u.length-c.length),p=[],h=0;h<f;h++)p[h]="$"+h;if(l=Function("binder","return function ("+s(p,",")+"){ return binder.apply(this,arguments); }")(d),u.prototype){var m=function(){};m.prototype=u.prototype,l.prototype=new m,m.prototype=null}return l}},81278:(e,t,r)=>{e.exports=r(79098)},81601:(e,t,r)=>{"use strict";let n=r(77721),a=r(5074);e.exports=(e,t,r)=>{let i=null,o=null,s=null;try{s=new a(t,r)}catch(e){return null}return e.forEach(e=>{s.test(e)&&(!i||-1===o.compare(e))&&(o=new n(i=e,r))}),i}},82010:(e,t,r)=>{"use strict";r.d(t,{H4:()=>_,d1:()=>m,mD:()=>I});var n=r(56832),a=r(83579),i={code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw Error('"text" parts expect a string value.');return{type:"text",value:e}}},o={code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw Error('"error" parts expect a string value.');return{type:"error",value:e}}},s={code:"4",name:"assistant_message",parse:e=>{if(null==e||"object"!=typeof e||!("id"in e)||!("role"in e)||!("content"in e)||"string"!=typeof e.id||"string"!=typeof e.role||"assistant"!==e.role||!Array.isArray(e.content)||!e.content.every(e=>null!=e&&"object"==typeof e&&"type"in e&&"text"===e.type&&"text"in e&&null!=e.text&&"object"==typeof e.text&&"value"in e.text&&"string"==typeof e.text.value))throw Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},l={code:"5",name:"assistant_control_data",parse:e=>{if(null==e||"object"!=typeof e||!("threadId"in e)||!("messageId"in e)||"string"!=typeof e.threadId||"string"!=typeof e.messageId)throw Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},u={code:"6",name:"data_message",parse:e=>{if(null==e||"object"!=typeof e||!("role"in e)||!("data"in e)||"string"!=typeof e.role||"data"!==e.role)throw Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},c=[i,o,s,l,u],d={[i.code]:i,[o.code]:o,[s.code]:s,[l.code]:l,[u.code]:u};i.name,i.code,o.name,o.code,s.name,s.code,l.name,l.code,u.name,u.code;var f=c.map(e=>e.code);function p({promptTokens:e,completionTokens:t}){return{promptTokens:e,completionTokens:t,totalTokens:e+t}}function h(e){let t=["ROOT"],r=-1,n=null;function a(e,a,i){switch(e){case'"':r=a,t.pop(),t.push(i),t.push("INSIDE_STRING");break;case"f":case"t":case"n":r=a,n=a,t.pop(),t.push(i),t.push("INSIDE_LITERAL");break;case"-":t.pop(),t.push(i),t.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=a,t.pop(),t.push(i),t.push("INSIDE_NUMBER");break;case"{":r=a,t.pop(),t.push(i),t.push("INSIDE_OBJECT_START");break;case"[":r=a,t.pop(),t.push(i),t.push("INSIDE_ARRAY_START")}}function i(e,n){switch(e){case",":t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":r=n,t.pop()}}function o(e,n){switch(e){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":r=n,t.pop()}}for(let s=0;s<e.length;s++){let l=e[s];switch(t[t.length-1]){case"ROOT":a(l,s,"FINISH");break;case"INSIDE_OBJECT_START":switch(l){case'"':t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"}":r=s,t.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":'"'===l&&(t.pop(),t.push("INSIDE_OBJECT_KEY"));break;case"INSIDE_OBJECT_KEY":'"'===l&&(t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY"));break;case"INSIDE_OBJECT_AFTER_KEY":":"===l&&(t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE"));break;case"INSIDE_OBJECT_BEFORE_VALUE":a(l,s,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":i(l,s);break;case"INSIDE_STRING":switch(l){case'"':t.pop(),r=s;break;case"\\":t.push("INSIDE_STRING_ESCAPE");break;default:r=s}break;case"INSIDE_ARRAY_START":"]"===l?(r=s,t.pop()):(r=s,a(l,s,"INSIDE_ARRAY_AFTER_VALUE"));break;case"INSIDE_ARRAY_AFTER_VALUE":switch(l){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":r=s,t.pop();break;default:r=s}break;case"INSIDE_ARRAY_AFTER_COMMA":a(l,s,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":t.pop(),r=s;break;case"INSIDE_NUMBER":switch(l){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=s;break;case"e":case"E":case"-":case".":break;case",":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&o(l,s),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&i(l,s);break;case"}":t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&i(l,s);break;case"]":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&o(l,s);break;default:t.pop()}break;case"INSIDE_LITERAL":{let a=e.substring(n,s+1);"false".startsWith(a)||"true".startsWith(a)||"null".startsWith(a)?r=s:(t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]?i(l,s):"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&o(l,s))}}}let s=e.slice(0,r+1);for(let r=t.length-1;r>=0;r--)switch(t[r]){case"INSIDE_STRING":s+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":s+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":s+="]";break;case"INSIDE_LITERAL":{let t=e.substring(n,e.length);"true".startsWith(t)?s+="true".slice(t.length):"false".startsWith(t)?s+="false".slice(t.length):"null".startsWith(t)&&(s+="null".slice(t.length))}}return s}function m(e){if(void 0===e)return{value:void 0,state:"undefined-input"};let t=(0,n.N8)({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=(0,n.N8)({text:h(e)})).success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"}}var y=[{code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw Error('"text" parts expect a string value.');return{type:"text",value:e}}},{code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw Error('"data" parts expect an array value.');return{type:"data",value:e}}},{code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw Error('"error" parts expect a string value.');return{type:"error",value:e}}},{code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},{code:"9",name:"tool_call",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName||!("args"in e)||"object"!=typeof e.args)throw Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},{code:"a",name:"tool_result",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("result"in e))throw Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},{code:"b",name:"tool_call_streaming_start",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName)throw Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},{code:"c",name:"tool_call_delta",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("argsTextDelta"in e)||"string"!=typeof e.argsTextDelta)throw Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},{code:"d",name:"finish_message",parse:e=>{if(null==e||"object"!=typeof e||!("finishReason"in e)||"string"!=typeof e.finishReason)throw Error('"finish_message" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason};return"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:"number"==typeof e.usage.promptTokens?e.usage.promptTokens:Number.NaN,completionTokens:"number"==typeof e.usage.completionTokens?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}}},{code:"e",name:"finish_step",parse:e=>{if(null==e||"object"!=typeof e||!("finishReason"in e)||"string"!=typeof e.finishReason)throw Error('"finish_step" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:"number"==typeof e.usage.promptTokens?e.usage.promptTokens:Number.NaN,completionTokens:"number"==typeof e.usage.completionTokens?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&"boolean"==typeof e.isContinued&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}}},{code:"f",name:"start_step",parse:e=>{if(null==e||"object"!=typeof e||!("messageId"in e)||"string"!=typeof e.messageId)throw Error('"start_step" parts expect an object with an "id" property.');return{type:"start_step",value:{messageId:e.messageId}}}},{code:"g",name:"reasoning",parse:e=>{if("string"!=typeof e)throw Error('"reasoning" parts expect a string value.');return{type:"reasoning",value:e}}},{code:"h",name:"source",parse:e=>{if(null==e||"object"!=typeof e)throw Error('"source" parts expect a Source object.');return{type:"source",value:e}}},{code:"i",name:"redacted_reasoning",parse:e=>{if(null==e||"object"!=typeof e||!("data"in e)||"string"!=typeof e.data)throw Error('"redacted_reasoning" parts expect an object with a "data" property.');return{type:"redacted_reasoning",value:{data:e.data}}}},{code:"j",name:"reasoning_signature",parse:e=>{if(null==e||"object"!=typeof e||!("signature"in e)||"string"!=typeof e.signature)throw Error('"reasoning_signature" parts expect an object with a "signature" property.');return{type:"reasoning_signature",value:{signature:e.signature}}}},{code:"k",name:"file",parse:e=>{if(null==e||"object"!=typeof e||!("data"in e)||"string"!=typeof e.data||!("mimeType"in e)||"string"!=typeof e.mimeType)throw Error('"file" parts expect an object with a "data" and "mimeType" property.');return{type:"file",value:e}}}],g=Object.fromEntries(y.map(e=>[e.code,e]));Object.fromEntries(y.map(e=>[e.name,e.code]));var v=y.map(e=>e.code),b=e=>{let t=e.indexOf(":");if(-1===t)throw Error("Failed to parse stream string. No separator found.");let r=e.slice(0,t);if(!v.includes(r))throw Error(`Failed to parse stream string. Invalid code ${r}.`);let n=r,a=JSON.parse(e.slice(t+1));return g[n].parse(a)};function _(e,t){let r=y.find(t=>t.name===e);if(!r)throw Error(`Invalid stream part type: ${e}`);return`${r.code}:${JSON.stringify(t)}
`}var w=10;function $(e,t){let r=new Uint8Array(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return e.length=0,r}async function S({stream:e,onTextPart:t,onReasoningPart:r,onReasoningSignaturePart:n,onRedactedReasoningPart:a,onSourcePart:i,onFilePart:o,onDataPart:s,onErrorPart:l,onToolCallStreamingStartPart:u,onToolCallDeltaPart:c,onToolCallPart:d,onToolResultPart:f,onMessageAnnotationsPart:p,onFinishMessagePart:h,onFinishStepPart:m,onStartStepPart:y}){let g=e.getReader(),v=new TextDecoder,_=[],S=0;for(;;){let{value:e}=await g.read();if(e&&(_.push(e),S+=e.length,e[e.length-1]!==w))continue;if(0===_.length)break;let E=$(_,S);for(let{type:e,value:g}of(S=0,v.decode(E,{stream:!0}).split("\n").filter(e=>""!==e).map(b)))switch(e){case"text":await (null==t?void 0:t(g));break;case"reasoning":await (null==r?void 0:r(g));break;case"reasoning_signature":await (null==n?void 0:n(g));break;case"redacted_reasoning":await (null==a?void 0:a(g));break;case"file":await (null==o?void 0:o(g));break;case"source":await (null==i?void 0:i(g));break;case"data":await (null==s?void 0:s(g));break;case"error":await (null==l?void 0:l(g));break;case"message_annotations":await (null==p?void 0:p(g));break;case"tool_call_streaming_start":await (null==u?void 0:u(g));break;case"tool_call_delta":await (null==c?void 0:c(g));break;case"tool_call":await (null==d?void 0:d(g));break;case"tool_result":await (null==f?void 0:f(g));break;case"finish_message":await (null==h?void 0:h(g));break;case"finish_step":await (null==m?void 0:m(g));break;case"start_step":await (null==y?void 0:y(g));break;default:{let t=e;throw Error(`Unknown stream part type: ${t}`)}}}}async function E({stream:e,onTextPart:t}){let r=e.pipeThrough(new TextDecoderStream).getReader();for(;;){let{done:e,value:n}=await r.read();if(e)break;await t(n)}}function x(e,t){var r;let n=null!=(r=null==t?void 0:t.useReferences)&&r;return k((0,a.Ay)(e,{$refStrategy:n?"root":"none",target:"jsonSchema7"}),{validate:t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}}})}var A=Symbol.for("vercel.ai.schema");function k(e,{validate:t}={}){return{[A]:!0,_type:void 0,[n.eu]:!0,jsonSchema:e,validate:t}}function O(e){return"object"==typeof e&&null!==e&&A in e&&!0===e[A]&&"jsonSchema"in e&&"validate"in e}function I(e){return O(e)?e:x(e)}},82189:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r){return(0,n.default)(e),"[object RegExp]"!==Object.prototype.toString.call(t)&&(t=new RegExp(t,r)),!!e.match(t)}e.exports=t.default,e.exports.default=t.default},82965:(e,t,r)=>{"use strict";let n=r(26829);e.exports=(e,t)=>{let r=n(e,null,!0),a=n(t,null,!0),i=r.compare(a);if(0===i)return null;let o=i>0,s=o?r:a,l=o?a:r,u=!!s.prerelease.length;if(l.prerelease.length&&!u){if(!l.patch&&!l.minor)return"major";if(0===l.compareMain(s))return l.minor&&!l.patch?"minor":"patch"}let c=u?"pre":"";return r.major!==a.major?c+"major":r.minor!==a.minor?c+"minor":r.patch!==a.patch?c+"patch":"prerelease"}},83120:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){(0,n.default)(e);for(var t,r,a=e.replace(/[- ]+/g,""),i=0,o=a.length-1;o>=0;o--)t=parseInt(a.substring(o,o+1),10),r&&(t*=2)>=10?i+=t%10+1:i+=t,r=!r;return!!(i%10==0&&a)}e.exports=t.default,e.exports.default=t.default},83455:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return(0,n.default)(e),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")}e.exports=t.default,e.exports.default=t.default},83579:(e,t,r)=>{"use strict";var n,a,i,o;let s,l;r.d(t,{Ay:()=>tC});let u=Symbol("Let zodToJsonSchema decide on which parser to use"),c={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},d=e=>"string"==typeof e?{...c,name:e}:{...c,...e},f=e=>{let t=d(e),r=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,flags:{hasReferencedOpenAiAnyType:!1},currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([e,r])=>[r._def,{def:r._def,path:[...t.basePath,t.definitionPath,e],jsonSchema:void 0}]))}};!function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),n={};for(let e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(n||(n={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(a||(a={}));let p=n.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),h=e=>{switch(typeof e){case"undefined":return p.undefined;case"string":return p.string;case"number":return Number.isNaN(e)?p.nan:p.number;case"boolean":return p.boolean;case"function":return p.function;case"bigint":return p.bigint;case"symbol":return p.symbol;case"object":if(Array.isArray(e))return p.array;if(null===e)return p.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return p.promise;if("undefined"!=typeof Map&&e instanceof Map)return p.map;if("undefined"!=typeof Set&&e instanceof Set)return p.set;if("undefined"!=typeof Date&&e instanceof Date)return p.date;return p.object;default:return p.unknown}},m=n.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class y extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(n);else if("invalid_return_type"===a.code)n(a.returnTypeError);else if("invalid_arguments"===a.code)n(a.argumentsError);else if(0===a.path.length)r._errors.push(t(a));else{let e=r,n=0;for(;n<a.path.length;){let r=a.path[n];n===a.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(a))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof y))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,n.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)if(n.path.length>0){let r=n.path[0];t[r]=t[r]||[],t[r].push(e(n))}else r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}y.create=e=>new y(e);let g=(e,t)=>{let r;switch(e.code){case m.invalid_type:r=e.received===p.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case m.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,n.jsonStringifyReplacer)}`;break;case m.unrecognized_keys:r=`Unrecognized key(s) in object: ${n.joinValues(e.keys,", ")}`;break;case m.invalid_union:r="Invalid input";break;case m.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${n.joinValues(e.options)}`;break;case m.invalid_enum_value:r=`Invalid enum value. Expected ${n.joinValues(e.options)}, received '${e.received}'`;break;case m.invalid_arguments:r="Invalid function arguments";break;case m.invalid_return_type:r="Invalid function return type";break;case m.invalid_date:r="Invalid date";break;case m.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:n.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case m.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case m.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case m.custom:r="Invalid input";break;case m.invalid_intersection_types:r="Intersection results could not be merged";break;case m.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case m.not_finite:r="Number must be finite";break;default:r=t.defaultError,n.assertNever(e)}return{message:r}},v=g;function b(){return v}!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(i||(i={}));let _=e=>{let{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(void 0!==a.message)return{...a,path:i,message:a.message};let s="";for(let e of n.filter(e=>!!e).slice().reverse())s=e(o,{data:t,defaultError:s}).message;return{...a,path:i,message:s}};function w(e,t){let r=b(),n=_({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===g?void 0:g].filter(e=>!!e)});e.common.issues.push(n)}class ${constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return S;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return $.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:a}=n;if("aborted"===t.status||"aborted"===a.status)return S;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==a.value||n.alwaysSet)&&(r[t.value]=a.value)}return{status:e.value,value:r}}}let S=Object.freeze({status:"aborted"}),E=e=>({status:"dirty",value:e}),x=e=>({status:"valid",value:e}),A=e=>"aborted"===e.status,k=e=>"dirty"===e.status,O=e=>"valid"===e.status,I=e=>"undefined"!=typeof Promise&&e instanceof Promise;class C{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let T=(e,t)=>{if(O(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new y(e.common.issues);return this._error=t,this._error}}};function P(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(t,a)=>{let{message:i}=e;return"invalid_enum_value"===t.code?{message:i??a.defaultError}:void 0===a.data?{message:i??n??a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:i??r??a.defaultError}},description:a}}class R{get description(){return this._def.description}_getType(e){return h(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:h(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new $,ctx:{common:e.parent.common,data:e.data,parsedType:h(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(I(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:h(e)},n=this._parseSync({data:e,path:r.path,parent:r});return T(r,n)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:h(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return O(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>O(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:h(e)},n=this._parse({data:e,path:r.path,parent:r});return T(r,await (I(n)?n:Promise.resolve(n)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{let a=e(t),i=()=>n.addIssue({code:m.custom,...r(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(e=>!!e||(i(),!1)):!!a||(i(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new ej({schema:this,typeName:o.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return eM.create(this,this._def)}nullable(){return eL.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ey.create(this)}promise(){return eN.create(this,this._def)}or(e){return eb.create([this,e],this._def)}and(e){return eS.create(this,e,this._def)}transform(e){return new ej({...P(this._def),schema:this,typeName:o.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t="function"==typeof e?e:()=>e;return new eD({...P(this._def),innerType:this,defaultValue:t,typeName:o.ZodDefault})}brand(){return new ez({typeName:o.ZodBranded,type:this,...P(this._def)})}catch(e){let t="function"==typeof e?e:()=>e;return new eB({...P(this._def),innerType:this,catchValue:t,typeName:o.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return eU.create(this,e)}readonly(){return eZ.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let N=/^c[^\s-]{8,}$/i,j=/^[0-9a-z]+$/,M=/^[0-9A-HJKMNP-TV-Z]{26}$/i,L=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,D=/^[a-z0-9_-]{21}$/i,B=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,F=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,z=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,U="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Z=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,H=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,V=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,W=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,q=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,K=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,G="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",J=RegExp(`^${G}$`);function Y(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function X(e){return RegExp(`^${Y(e)}$`)}function Q(e){let t=`${G}T${Y(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}function ee(e,t){return!!(("v4"===t||!t)&&Z.test(e)||("v6"===t||!t)&&V.test(e))}function et(e,t){if(!B.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));if("object"!=typeof a||null===a||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)return!1;return!0}catch{return!1}}function er(e,t){return!!(("v4"===t||!t)&&H.test(e)||("v6"===t||!t)&&W.test(e))}class en extends R{_parse(e){let t;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==p.string){let t=this._getOrReturnCtx(e);return w(t,{code:m.invalid_type,expected:p.string,received:t.parsedType}),S}let r=new $;for(let a of this._def.checks)if("min"===a.kind)e.data.length<a.value&&(w(t=this._getOrReturnCtx(e,t),{code:m.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if("max"===a.kind)e.data.length>a.value&&(w(t=this._getOrReturnCtx(e,t),{code:m.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if("length"===a.kind){let n=e.data.length>a.value,i=e.data.length<a.value;(n||i)&&(t=this._getOrReturnCtx(e,t),n?w(t,{code:m.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):i&&w(t,{code:m.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if("email"===a.kind)z.test(e.data)||(w(t=this._getOrReturnCtx(e,t),{validation:"email",code:m.invalid_string,message:a.message}),r.dirty());else if("emoji"===a.kind)s||(s=RegExp(U,"u")),s.test(e.data)||(w(t=this._getOrReturnCtx(e,t),{validation:"emoji",code:m.invalid_string,message:a.message}),r.dirty());else if("uuid"===a.kind)L.test(e.data)||(w(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:m.invalid_string,message:a.message}),r.dirty());else if("nanoid"===a.kind)D.test(e.data)||(w(t=this._getOrReturnCtx(e,t),{validation:"nanoid",code:m.invalid_string,message:a.message}),r.dirty());else if("cuid"===a.kind)N.test(e.data)||(w(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:m.invalid_string,message:a.message}),r.dirty());else if("cuid2"===a.kind)j.test(e.data)||(w(t=this._getOrReturnCtx(e,t),{validation:"cuid2",code:m.invalid_string,message:a.message}),r.dirty());else if("ulid"===a.kind)M.test(e.data)||(w(t=this._getOrReturnCtx(e,t),{validation:"ulid",code:m.invalid_string,message:a.message}),r.dirty());else if("url"===a.kind)try{new URL(e.data)}catch{w(t=this._getOrReturnCtx(e,t),{validation:"url",code:m.invalid_string,message:a.message}),r.dirty()}else"regex"===a.kind?(a.regex.lastIndex=0,a.regex.test(e.data)||(w(t=this._getOrReturnCtx(e,t),{validation:"regex",code:m.invalid_string,message:a.message}),r.dirty())):"trim"===a.kind?e.data=e.data.trim():"includes"===a.kind?e.data.includes(a.value,a.position)||(w(t=this._getOrReturnCtx(e,t),{code:m.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):"toLowerCase"===a.kind?e.data=e.data.toLowerCase():"toUpperCase"===a.kind?e.data=e.data.toUpperCase():"startsWith"===a.kind?e.data.startsWith(a.value)||(w(t=this._getOrReturnCtx(e,t),{code:m.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):"endsWith"===a.kind?e.data.endsWith(a.value)||(w(t=this._getOrReturnCtx(e,t),{code:m.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):"datetime"===a.kind?Q(a).test(e.data)||(w(t=this._getOrReturnCtx(e,t),{code:m.invalid_string,validation:"datetime",message:a.message}),r.dirty()):"date"===a.kind?J.test(e.data)||(w(t=this._getOrReturnCtx(e,t),{code:m.invalid_string,validation:"date",message:a.message}),r.dirty()):"time"===a.kind?X(a).test(e.data)||(w(t=this._getOrReturnCtx(e,t),{code:m.invalid_string,validation:"time",message:a.message}),r.dirty()):"duration"===a.kind?F.test(e.data)||(w(t=this._getOrReturnCtx(e,t),{validation:"duration",code:m.invalid_string,message:a.message}),r.dirty()):"ip"===a.kind?ee(e.data,a.version)||(w(t=this._getOrReturnCtx(e,t),{validation:"ip",code:m.invalid_string,message:a.message}),r.dirty()):"jwt"===a.kind?et(e.data,a.alg)||(w(t=this._getOrReturnCtx(e,t),{validation:"jwt",code:m.invalid_string,message:a.message}),r.dirty()):"cidr"===a.kind?er(e.data,a.version)||(w(t=this._getOrReturnCtx(e,t),{validation:"cidr",code:m.invalid_string,message:a.message}),r.dirty()):"base64"===a.kind?q.test(e.data)||(w(t=this._getOrReturnCtx(e,t),{validation:"base64",code:m.invalid_string,message:a.message}),r.dirty()):"base64url"===a.kind?K.test(e.data)||(w(t=this._getOrReturnCtx(e,t),{validation:"base64url",code:m.invalid_string,message:a.message}),r.dirty()):n.assertNever(a);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:m.invalid_string,...i.errToObj(r)})}_addCheck(e){return new en({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...i.errToObj(e)})}url(e){return this._addCheck({kind:"url",...i.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...i.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...i.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...i.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...i.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...i.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...i.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...i.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...i.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...i.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...i.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...i.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...i.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...i.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...i.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...i.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...i.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...i.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...i.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...i.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...i.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...i.errToObj(t)})}nonempty(e){return this.min(1,i.errToObj(e))}trim(){return new en({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new en({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new en({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function ea(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}en.create=e=>new en({checks:[],typeName:o.ZodString,coerce:e?.coerce??!1,...P(e)});class ei extends R{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==p.number){let t=this._getOrReturnCtx(e);return w(t,{code:m.invalid_type,expected:p.number,received:t.parsedType}),S}let r=new $;for(let a of this._def.checks)"int"===a.kind?n.isInteger(e.data)||(w(t=this._getOrReturnCtx(e,t),{code:m.invalid_type,expected:"integer",received:"float",message:a.message}),r.dirty()):"min"===a.kind?(a.inclusive?e.data<a.value:e.data<=a.value)&&(w(t=this._getOrReturnCtx(e,t),{code:m.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):"max"===a.kind?(a.inclusive?e.data>a.value:e.data>=a.value)&&(w(t=this._getOrReturnCtx(e,t),{code:m.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):"multipleOf"===a.kind?0!==ea(e.data,a.value)&&(w(t=this._getOrReturnCtx(e,t),{code:m.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):"finite"===a.kind?Number.isFinite(e.data)||(w(t=this._getOrReturnCtx(e,t),{code:m.not_finite,message:a.message}),r.dirty()):n.assertNever(a);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,i.toString(t))}gt(e,t){return this.setLimit("min",e,!1,i.toString(t))}lte(e,t){return this.setLimit("max",e,!0,i.toString(t))}lt(e,t){return this.setLimit("max",e,!1,i.toString(t))}setLimit(e,t,r,n){return new ei({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:i.toString(n)}]})}_addCheck(e){return new ei({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:i.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:i.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:i.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:i.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:i.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:i.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:i.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:i.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:i.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&n.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}ei.create=e=>new ei({checks:[],typeName:o.ZodNumber,coerce:e?.coerce||!1,...P(e)});class eo extends R{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==p.bigint)return this._getInvalidInput(e);let r=new $;for(let a of this._def.checks)"min"===a.kind?(a.inclusive?e.data<a.value:e.data<=a.value)&&(w(t=this._getOrReturnCtx(e,t),{code:m.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):"max"===a.kind?(a.inclusive?e.data>a.value:e.data>=a.value)&&(w(t=this._getOrReturnCtx(e,t),{code:m.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):"multipleOf"===a.kind?e.data%a.value!==BigInt(0)&&(w(t=this._getOrReturnCtx(e,t),{code:m.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):n.assertNever(a);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return w(t,{code:m.invalid_type,expected:p.bigint,received:t.parsedType}),S}gte(e,t){return this.setLimit("min",e,!0,i.toString(t))}gt(e,t){return this.setLimit("min",e,!1,i.toString(t))}lte(e,t){return this.setLimit("max",e,!0,i.toString(t))}lt(e,t){return this.setLimit("max",e,!1,i.toString(t))}setLimit(e,t,r,n){return new eo({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:i.toString(n)}]})}_addCheck(e){return new eo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:i.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:i.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:i.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:i.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:i.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}eo.create=e=>new eo({checks:[],typeName:o.ZodBigInt,coerce:e?.coerce??!1,...P(e)});class es extends R{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==p.boolean){let t=this._getOrReturnCtx(e);return w(t,{code:m.invalid_type,expected:p.boolean,received:t.parsedType}),S}return x(e.data)}}es.create=e=>new es({typeName:o.ZodBoolean,coerce:e?.coerce||!1,...P(e)});class el extends R{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==p.date){let t=this._getOrReturnCtx(e);return w(t,{code:m.invalid_type,expected:p.date,received:t.parsedType}),S}if(Number.isNaN(e.data.getTime()))return w(this._getOrReturnCtx(e),{code:m.invalid_date}),S;let r=new $;for(let a of this._def.checks)"min"===a.kind?e.data.getTime()<a.value&&(w(t=this._getOrReturnCtx(e,t),{code:m.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):"max"===a.kind?e.data.getTime()>a.value&&(w(t=this._getOrReturnCtx(e,t),{code:m.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):n.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new el({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:i.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:i.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}el.create=e=>new el({checks:[],coerce:e?.coerce||!1,typeName:o.ZodDate,...P(e)});class eu extends R{_parse(e){if(this._getType(e)!==p.symbol){let t=this._getOrReturnCtx(e);return w(t,{code:m.invalid_type,expected:p.symbol,received:t.parsedType}),S}return x(e.data)}}eu.create=e=>new eu({typeName:o.ZodSymbol,...P(e)});class ec extends R{_parse(e){if(this._getType(e)!==p.undefined){let t=this._getOrReturnCtx(e);return w(t,{code:m.invalid_type,expected:p.undefined,received:t.parsedType}),S}return x(e.data)}}ec.create=e=>new ec({typeName:o.ZodUndefined,...P(e)});class ed extends R{_parse(e){if(this._getType(e)!==p.null){let t=this._getOrReturnCtx(e);return w(t,{code:m.invalid_type,expected:p.null,received:t.parsedType}),S}return x(e.data)}}ed.create=e=>new ed({typeName:o.ZodNull,...P(e)});class ef extends R{constructor(){super(...arguments),this._any=!0}_parse(e){return x(e.data)}}ef.create=e=>new ef({typeName:o.ZodAny,...P(e)});class ep extends R{constructor(){super(...arguments),this._unknown=!0}_parse(e){return x(e.data)}}ep.create=e=>new ep({typeName:o.ZodUnknown,...P(e)});class eh extends R{_parse(e){let t=this._getOrReturnCtx(e);return w(t,{code:m.invalid_type,expected:p.never,received:t.parsedType}),S}}eh.create=e=>new eh({typeName:o.ZodNever,...P(e)});class em extends R{_parse(e){if(this._getType(e)!==p.undefined){let t=this._getOrReturnCtx(e);return w(t,{code:m.invalid_type,expected:p.void,received:t.parsedType}),S}return x(e.data)}}em.create=e=>new em({typeName:o.ZodVoid,...P(e)});class ey extends R{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==p.array)return w(t,{code:m.invalid_type,expected:p.array,received:t.parsedType}),S;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,a=t.data.length<n.exactLength.value;(e||a)&&(w(t,{code:e?m.too_big:m.too_small,minimum:a?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(w(t,{code:m.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(w(t,{code:m.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new C(t,e,t.path,r)))).then(e=>$.mergeArray(r,e));let a=[...t.data].map((e,r)=>n.type._parseSync(new C(t,e,t.path,r)));return $.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new ey({...this._def,minLength:{value:e,message:i.toString(t)}})}max(e,t){return new ey({...this._def,maxLength:{value:e,message:i.toString(t)}})}length(e,t){return new ey({...this._def,exactLength:{value:e,message:i.toString(t)}})}nonempty(e){return this.min(1,e)}}function eg(e){if(e instanceof ev){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=eM.create(eg(n))}return new ev({...e._def,shape:()=>t})}if(e instanceof ey)return new ey({...e._def,type:eg(e.element)});if(e instanceof eM)return eM.create(eg(e.unwrap()));if(e instanceof eL)return eL.create(eg(e.unwrap()));if(e instanceof eE)return eE.create(e.items.map(e=>eg(e)));else return e}ey.create=(e,t)=>new ey({type:e,minLength:null,maxLength:null,exactLength:null,typeName:o.ZodArray,...P(t)});class ev extends R{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=n.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==p.object){let t=this._getOrReturnCtx(e);return w(t,{code:m.invalid_type,expected:p.object,received:t.parsedType}),S}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:a}=this._getCached(),i=[];if(!(this._def.catchall instanceof eh&&"strip"===this._def.unknownKeys))for(let e in r.data)a.includes(e)||i.push(e);let o=[];for(let e of a){let t=n[e],a=r.data[e];o.push({key:{status:"valid",value:e},value:t._parse(new C(r,a,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof eh){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of i)o.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)i.length>0&&(w(r,{code:m.unrecognized_keys,keys:i}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of i){let n=r.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new C(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of o){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>$.mergeObjectSync(t,e)):$.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return i.errToObj,new ev({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let n=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:i.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new ev({...this._def,unknownKeys:"strip"})}passthrough(){return new ev({...this._def,unknownKeys:"passthrough"})}extend(e){return new ev({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ev({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:o.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ev({...this._def,catchall:e})}pick(e){let t={};for(let r of n.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new ev({...this._def,shape:()=>t})}omit(e){let t={};for(let r of n.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new ev({...this._def,shape:()=>t})}deepPartial(){return eg(this)}partial(e){let t={};for(let r of n.objectKeys(this.shape)){let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}return new ev({...this._def,shape:()=>t})}required(e){let t={};for(let r of n.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof eM;)e=e._def.innerType;t[r]=e}return new ev({...this._def,shape:()=>t})}keyof(){return eT(n.objectKeys(this.shape))}}ev.create=(e,t)=>new ev({shape:()=>e,unknownKeys:"strip",catchall:eh.create(),typeName:o.ZodObject,...P(t)}),ev.strictCreate=(e,t)=>new ev({shape:()=>e,unknownKeys:"strict",catchall:eh.create(),typeName:o.ZodObject,...P(t)}),ev.lazycreate=(e,t)=>new ev({shape:e,unknownKeys:"strip",catchall:eh.create(),typeName:o.ZodObject,...P(t)});class eb extends R{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function n(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new y(e.ctx.common.issues));return w(t,{code:m.invalid_union,unionErrors:r}),S}if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(n);{let e,n=[];for(let a of r){let r={...t,common:{...t.common,issues:[]},parent:null},i=a._parseSync({data:t.data,path:t.path,parent:r});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let a=n.map(e=>new y(e));return w(t,{code:m.invalid_union,unionErrors:a}),S}}get options(){return this._def.options}}eb.create=(e,t)=>new eb({options:e,typeName:o.ZodUnion,...P(t)});let e_=e=>{if(e instanceof eI)return e_(e.schema);if(e instanceof ej)return e_(e.innerType());if(e instanceof eC)return[e.value];if(e instanceof eP)return e.options;if(e instanceof eR)return n.objectValues(e.enum);else if(e instanceof eD)return e_(e._def.innerType);else if(e instanceof ec)return[void 0];else if(e instanceof ed)return[null];else if(e instanceof eM)return[void 0,...e_(e.unwrap())];else if(e instanceof eL)return[null,...e_(e.unwrap())];else if(e instanceof ez)return e_(e.unwrap());else if(e instanceof eZ)return e_(e.unwrap());else if(e instanceof eB)return e_(e._def.innerType);else return[]};class ew extends R{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==p.object)return w(t,{code:m.invalid_type,expected:p.object,received:t.parsedType}),S;let r=this.discriminator,n=t.data[r],a=this.optionsMap.get(n);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(w(t,{code:m.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),S)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=e_(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of t){if(n.has(a))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);n.set(a,r)}}return new ew({typeName:o.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...P(r)})}}function e$(e,t){let r=h(e),a=h(t);if(e===t)return{valid:!0,data:e};if(r===p.object&&a===p.object){let r=n.objectKeys(t),a=n.objectKeys(e).filter(e=>-1!==r.indexOf(e)),i={...e,...t};for(let r of a){let n=e$(e[r],t[r]);if(!n.valid)return{valid:!1};i[r]=n.data}return{valid:!0,data:i}}if(r===p.array&&a===p.array){if(e.length!==t.length)return{valid:!1};let r=[];for(let n=0;n<e.length;n++){let a=e$(e[n],t[n]);if(!a.valid)return{valid:!1};r.push(a.data)}return{valid:!0,data:r}}if(r===p.date&&a===p.date&&+e==+t)return{valid:!0,data:e};return{valid:!1}}class eS extends R{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(A(e)||A(n))return S;let a=e$(e.value,n.value);return a.valid?((k(e)||k(n))&&t.dirty(),{status:t.value,value:a.data}):(w(r,{code:m.invalid_intersection_types}),S)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}eS.create=(e,t,r)=>new eS({left:e,right:t,typeName:o.ZodIntersection,...P(r)});class eE extends R{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==p.array)return w(r,{code:m.invalid_type,expected:p.array,received:r.parsedType}),S;if(r.data.length<this._def.items.length)return w(r,{code:m.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),S;!this._def.rest&&r.data.length>this._def.items.length&&(w(r,{code:m.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new C(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>$.mergeArray(t,e)):$.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new eE({...this._def,rest:e})}}eE.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new eE({items:e,typeName:o.ZodTuple,rest:null,...P(t)})};class ex extends R{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==p.object)return w(r,{code:m.invalid_type,expected:p.object,received:r.parsedType}),S;let n=[],a=this._def.keyType,i=this._def.valueType;for(let e in r.data)n.push({key:a._parse(new C(r,e,r.path,e)),value:i._parse(new C(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?$.mergeObjectAsync(t,n):$.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new ex(t instanceof R?{keyType:e,valueType:t,typeName:o.ZodRecord,...P(r)}:{keyType:en.create(),valueType:e,typeName:o.ZodRecord,...P(t)})}}class eA extends R{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==p.map)return w(r,{code:m.invalid_type,expected:p.map,received:r.parsedType}),S;let n=this._def.keyType,a=this._def.valueType,i=[...r.data.entries()].map(([e,t],i)=>({key:n._parse(new C(r,e,r.path,[i,"key"])),value:a._parse(new C(r,t,r.path,[i,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of i){let n=await r.key,a=await r.value;if("aborted"===n.status||"aborted"===a.status)return S;("dirty"===n.status||"dirty"===a.status)&&t.dirty(),e.set(n.value,a.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of i){let n=r.key,a=r.value;if("aborted"===n.status||"aborted"===a.status)return S;("dirty"===n.status||"dirty"===a.status)&&t.dirty(),e.set(n.value,a.value)}return{status:t.value,value:e}}}}eA.create=(e,t,r)=>new eA({valueType:t,keyType:e,typeName:o.ZodMap,...P(r)});class ek extends R{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==p.set)return w(r,{code:m.invalid_type,expected:p.set,received:r.parsedType}),S;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(w(r,{code:m.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(w(r,{code:m.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let a=this._def.valueType;function i(e){let r=new Set;for(let n of e){if("aborted"===n.status)return S;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let o=[...r.data.values()].map((e,t)=>a._parse(new C(r,e,r.path,t)));return r.common.async?Promise.all(o).then(e=>i(e)):i(o)}min(e,t){return new ek({...this._def,minSize:{value:e,message:i.toString(t)}})}max(e,t){return new ek({...this._def,maxSize:{value:e,message:i.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ek.create=(e,t)=>new ek({valueType:e,minSize:null,maxSize:null,typeName:o.ZodSet,...P(t)});class eO extends R{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==p.function)return w(t,{code:m.invalid_type,expected:p.function,received:t.parsedType}),S;function r(e,r){return _({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,b(),g].filter(e=>!!e),issueData:{code:m.invalid_arguments,argumentsError:r}})}function n(e,r){return _({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,b(),g].filter(e=>!!e),issueData:{code:m.invalid_return_type,returnTypeError:r}})}let a={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof eN){let e=this;return x(async function(...t){let o=new y([]),s=await e._def.args.parseAsync(t,a).catch(e=>{throw o.addIssue(r(t,e)),o}),l=await Reflect.apply(i,this,s);return await e._def.returns._def.type.parseAsync(l,a).catch(e=>{throw o.addIssue(n(l,e)),o})})}{let e=this;return x(function(...t){let o=e._def.args.safeParse(t,a);if(!o.success)throw new y([r(t,o.error)]);let s=Reflect.apply(i,this,o.data),l=e._def.returns.safeParse(s,a);if(!l.success)throw new y([n(s,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new eO({...this._def,args:eE.create(e).rest(ep.create())})}returns(e){return new eO({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new eO({args:e||eE.create([]).rest(ep.create()),returns:t||ep.create(),typeName:o.ZodFunction,...P(r)})}}class eI extends R{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}eI.create=(e,t)=>new eI({getter:e,typeName:o.ZodLazy,...P(t)});class eC extends R{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return w(t,{received:t.data,code:m.invalid_literal,expected:this._def.value}),S}return{status:"valid",value:e.data}}get value(){return this._def.value}}function eT(e,t){return new eP({values:e,typeName:o.ZodEnum,...P(t)})}eC.create=(e,t)=>new eC({value:e,typeName:o.ZodLiteral,...P(t)});class eP extends R{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return w(t,{expected:n.joinValues(r),received:t.parsedType,code:m.invalid_type}),S}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return w(t,{received:t.data,code:m.invalid_enum_value,options:r}),S}return x(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return eP.create(e,{...this._def,...t})}exclude(e,t=this._def){return eP.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}eP.create=eT;class eR extends R{_parse(e){let t=n.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==p.string&&r.parsedType!==p.number){let e=n.objectValues(t);return w(r,{expected:n.joinValues(e),received:r.parsedType,code:m.invalid_type}),S}if(this._cache||(this._cache=new Set(n.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=n.objectValues(t);return w(r,{received:r.data,code:m.invalid_enum_value,options:e}),S}return x(e.data)}get enum(){return this._def.values}}eR.create=(e,t)=>new eR({values:e,typeName:o.ZodNativeEnum,...P(t)});class eN extends R{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==p.promise&&!1===t.common.async?(w(t,{code:m.invalid_type,expected:p.promise,received:t.parsedType}),S):x((t.parsedType===p.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}eN.create=(e,t)=>new eN({type:e,typeName:o.ZodPromise,...P(t)});class ej extends R{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===o.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),a=this._def.effect||null,i={addIssue:e=>{w(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===a.type){let e=a.transform(r.data,i);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return S;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?S:"dirty"===n.status||"dirty"===t.value?E(n.value):n});{if("aborted"===t.value)return S;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?S:"dirty"===n.status||"dirty"===t.value?E(n.value):n}}if("refinement"===a.type){let e=e=>{let t=a.refinement(e,i);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?S:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?S:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===a.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>O(e)?Promise.resolve(a.transform(e.value,i)).then(e=>({status:t.value,value:e})):S);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!O(e))return S;let n=a.transform(e.value,i);if(n instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:n}}n.assertNever(a)}}ej.create=(e,t,r)=>new ej({schema:e,typeName:o.ZodEffects,effect:t,...P(r)}),ej.createWithPreprocess=(e,t,r)=>new ej({schema:t,effect:{type:"preprocess",transform:e},typeName:o.ZodEffects,...P(r)});class eM extends R{_parse(e){return this._getType(e)===p.undefined?x(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eM.create=(e,t)=>new eM({innerType:e,typeName:o.ZodOptional,...P(t)});class eL extends R{_parse(e){return this._getType(e)===p.null?x(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eL.create=(e,t)=>new eL({innerType:e,typeName:o.ZodNullable,...P(t)});class eD extends R{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===p.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}eD.create=(e,t)=>new eD({innerType:e,typeName:o.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...P(t)});class eB extends R{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return I(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new y(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new y(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}eB.create=(e,t)=>new eB({innerType:e,typeName:o.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...P(t)});class eF extends R{_parse(e){if(this._getType(e)!==p.nan){let t=this._getOrReturnCtx(e);return w(t,{code:m.invalid_type,expected:p.nan,received:t.parsedType}),S}return{status:"valid",value:e.data}}}eF.create=e=>new eF({typeName:o.ZodNaN,...P(e)}),Symbol("zod_brand");class ez extends R{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class eU extends R{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?S:"dirty"===e.status?(t.dirty(),E(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?S:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new eU({in:e,out:t,typeName:o.ZodPipeline})}}class eZ extends R{_parse(e){let t=this._def.innerType._parse(e),r=e=>(O(e)&&(e.value=Object.freeze(e.value)),e);return I(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}eZ.create=(e,t)=>new eZ({innerType:e,typeName:o.ZodReadonly,...P(t)}),ev.lazycreate,function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(o||(o={})),en.create,ei.create,eF.create,eo.create,es.create,el.create,eu.create,ec.create,ed.create,ef.create,ep.create,eh.create,em.create,ey.create,ev.create,ev.strictCreate,eb.create,ew.create,eS.create,eE.create,ex.create,eA.create,ek.create,eO.create,eI.create,eC.create,eP.create,eR.create,eN.create,ej.create,eM.create,eL.create,ej.createWithPreprocess,eU.create;let eH=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")};function eV(e){if("openAi"!==e.target)return{};let t=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:"relative"===e.$refStrategy?eH(t,e.currentPath):t.join("/")}}function eW(e,t,r,n){n?.errorMessages&&r&&(e.errorMessage={...e.errorMessage,[t]:r})}function eq(e,t,r,n,a){e[t]=r,eW(e,t,n,a)}function eK(e,t){let r={type:"array"};return e.type?._def&&e.type?._def?.typeName!==o.ZodAny&&(r.items=tk(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&eq(r,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&eq(r,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(eq(r,"minItems",e.exactLength.value,e.exactLength.message,t),eq(r,"maxItems",e.exactLength.value,e.exactLength.message,t)),r}function eG(e,t){let r={type:"integer",format:"int64"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"min":"jsonSchema7"===t.target?n.inclusive?eq(r,"minimum",n.value,n.message,t):eq(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),eq(r,"minimum",n.value,n.message,t));break;case"max":"jsonSchema7"===t.target?n.inclusive?eq(r,"maximum",n.value,n.message,t):eq(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),eq(r,"maximum",n.value,n.message,t));break;case"multipleOf":eq(r,"multipleOf",n.value,n.message,t)}return r}function eJ(){return{type:"boolean"}}function eY(e,t){return tk(e.type._def,t)}let eX=(e,t)=>tk(e.innerType._def,t);function eQ(e,t,r){let n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((r,n)=>eQ(e,t,r))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return e0(e,t)}}let e0=(e,t)=>{let r={type:"integer",format:"unix-time"};if("openApi3"===t.target)return r;for(let n of e.checks)switch(n.kind){case"min":eq(r,"minimum",n.value,n.message,t);break;case"max":eq(r,"maximum",n.value,n.message,t)}return r};function e1(e,t){return{...tk(e.innerType._def,t),default:e.defaultValue()}}function e2(e,t){return"input"===t.effectStrategy?tk(e.schema._def,t):eV(t)}function e3(e){return{type:"string",enum:Array.from(e.values)}}let e9=e=>(!("type"in e)||"string"!==e.type)&&"allOf"in e;function e4(e,t){let r=[tk(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),tk(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(e=>!!e),n="jsonSchema2019-09"===t.target?{unevaluatedProperties:!1}:void 0,a=[];return r.forEach(e=>{if(e9(e))a.push(...e.allOf),void 0===e.unevaluatedProperties&&(n=void 0);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){let{additionalProperties:r,...n}=e;t=n}else n=void 0;a.push(t)}}),a.length?{allOf:a,...n}:void 0}function e8(e,t){let r=typeof e.value;return"bigint"!==r&&"number"!==r&&"boolean"!==r&&"string"!==r?{type:Array.isArray(e.value)?"array":"object"}:"openApi3"===t.target?{type:"bigint"===r?"integer":r,enum:[e.value]}:{type:"bigint"===r?"integer":r,const:e.value}}let e6={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===l&&(l=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),l),ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function e5(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":eq(r,"minLength","number"==typeof r.minLength?Math.max(r.minLength,n.value):n.value,n.message,t);break;case"max":eq(r,"maxLength","number"==typeof r.maxLength?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"email":switch(t.emailStrategy){case"format:email":tr(r,"email",n.message,t);break;case"format:idn-email":tr(r,"idn-email",n.message,t);break;case"pattern:zod":tn(r,e6.email,n.message,t)}break;case"url":tr(r,"uri",n.message,t);break;case"uuid":tr(r,"uuid",n.message,t);break;case"regex":tn(r,n.regex,n.message,t);break;case"cuid":tn(r,e6.cuid,n.message,t);break;case"cuid2":tn(r,e6.cuid2,n.message,t);break;case"startsWith":tn(r,RegExp(`^${e7(n.value,t)}`),n.message,t);break;case"endsWith":tn(r,RegExp(`${e7(n.value,t)}$`),n.message,t);break;case"datetime":tr(r,"date-time",n.message,t);break;case"date":tr(r,"date",n.message,t);break;case"time":tr(r,"time",n.message,t);break;case"duration":tr(r,"duration",n.message,t);break;case"length":eq(r,"minLength","number"==typeof r.minLength?Math.max(r.minLength,n.value):n.value,n.message,t),eq(r,"maxLength","number"==typeof r.maxLength?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"includes":tn(r,RegExp(e7(n.value,t)),n.message,t);break;case"ip":"v6"!==n.version&&tr(r,"ipv4",n.message,t),"v4"!==n.version&&tr(r,"ipv6",n.message,t);break;case"base64url":tn(r,e6.base64url,n.message,t);break;case"jwt":tn(r,e6.jwt,n.message,t);break;case"cidr":"v6"!==n.version&&tn(r,e6.ipv4Cidr,n.message,t),"v4"!==n.version&&tn(r,e6.ipv6Cidr,n.message,t);break;case"emoji":tn(r,e6.emoji(),n.message,t);break;case"ulid":tn(r,e6.ulid,n.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":tr(r,"binary",n.message,t);break;case"contentEncoding:base64":eq(r,"contentEncoding","base64",n.message,t);break;case"pattern:zod":tn(r,e6.base64,n.message,t)}break;case"nanoid":tn(r,e6.nanoid,n.message,t);case"toLowerCase":case"toUpperCase":case"trim":break;default:(e=>{})(0)}return r}function e7(e,t){return"escape"===t.patternStrategy?tt(e):e}let te=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function tt(e){let t="";for(let r=0;r<e.length;r++)te.has(e[r])||(t+="\\"),t+=e[r];return t}function tr(e,t,r,n){e.format||e.anyOf?.some(e=>e.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):eq(e,"format",t,r,n)}function tn(e,t,r,n){e.pattern||e.allOf?.some(e=>e.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.allOf.push({pattern:ta(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):eq(e,"pattern",ta(t,n),r,n)}function ta(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;let r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},n=r.i?e.source.toLowerCase():e.source,a="",i=!1,o=!1,s=!1;for(let e=0;e<n.length;e++){if(i){a+=n[e],i=!1;continue}if(r.i){if(o){if(n[e].match(/[a-z]/)){s?(a+=n[e],a+=`${n[e-2]}-${n[e]}`.toUpperCase(),s=!1):"-"===n[e+1]&&n[e+2]?.match(/[a-z]/)?(a+=n[e],s=!0):a+=`${n[e]}${n[e].toUpperCase()}`;continue}}else if(n[e].match(/[a-z]/)){a+=`[${n[e]}${n[e].toUpperCase()}]`;continue}}if(r.m){if("^"===n[e]){a+=`(^|(?<=[\r
]))`;continue}else if("$"===n[e]){a+=`($|(?=[\r
]))`;continue}}if(r.s&&"."===n[e]){a+=o?`${n[e]}\r
`:`[${n[e]}\r
]`;continue}a+=n[e],"\\"===n[e]?i=!0:o&&"]"===n[e]?o=!1:o||"["!==n[e]||(o=!0)}try{new RegExp(a)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return a}function ti(e,t){if("openAi"===t.target&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),"openApi3"===t.target&&e.keyType?._def.typeName===o.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((r,n)=>({...r,[n]:tk(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",n]})??eV(t)}),{}),additionalProperties:t.rejectedAdditionalProperties};let r={type:"object",additionalProperties:tk(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if("openApi3"===t.target)return r;if(e.keyType?._def.typeName===o.ZodString&&e.keyType._def.checks?.length){let{type:n,...a}=e5(e.keyType._def,t);return{...r,propertyNames:a}}if(e.keyType?._def.typeName===o.ZodEnum)return{...r,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===o.ZodBranded&&e.keyType._def.type._def.typeName===o.ZodString&&e.keyType._def.type._def.checks?.length){let{type:n,...a}=eY(e.keyType._def,t);return{...r,propertyNames:a}}return r}function to(e,t){return"record"===t.mapStrategy?ti(e,t):{type:"array",maxItems:125,items:{type:"array",items:[tk(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||eV(t),tk(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||eV(t)],minItems:2,maxItems:2}}}function ts(e){let t=e.values,r=Object.keys(e.values).filter(e=>"number"!=typeof t[t[e]]).map(e=>t[e]),n=Array.from(new Set(r.map(e=>typeof e)));return{type:1===n.length?"string"===n[0]?"string":"number":["string","number"],enum:r}}function tl(e){return"openAi"===e.target?void 0:{not:eV({...e,currentPath:[...e.currentPath,"not"]})}}function tu(e){return"openApi3"===e.target?{enum:["null"],nullable:!0}:{type:"null"}}let tc={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function td(e,t){if("openApi3"===t.target)return tf(e,t);let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(e=>e._def.typeName in tc&&(!e._def.checks||!e._def.checks.length))){let e=r.reduce((e,t)=>{let r=tc[t._def.typeName];return r&&!e.includes(r)?[...e,r]:e},[]);return{type:e.length>1?e:e[0]}}if(r.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){let e=r.reduce((e,t)=>{let r=typeof t._def.value;switch(r){case"string":case"number":case"boolean":return[...e,r];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}},[]);if(e.length===r.length){let t=e.filter((e,t,r)=>r.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:r.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(r.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:r.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return tf(e,t)}let tf=(e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((e,r)=>tk(e._def,{...t,currentPath:[...t.currentPath,"anyOf",`${r}`]})).filter(e=>!!e&&(!t.strictUnions||"object"==typeof e&&Object.keys(e).length>0));return r.length?{anyOf:r}:void 0};function tp(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return"openApi3"===t.target?{type:tc[e.innerType._def.typeName],nullable:!0}:{type:[tc[e.innerType._def.typeName],"null"]};if("openApi3"===t.target){let r=tk(e.innerType._def,{...t,currentPath:[...t.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}let r=tk(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function th(e,t){let r={type:"number"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"int":r.type="integer",eW(r,"type",n.message,t);break;case"min":"jsonSchema7"===t.target?n.inclusive?eq(r,"minimum",n.value,n.message,t):eq(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),eq(r,"minimum",n.value,n.message,t));break;case"max":"jsonSchema7"===t.target?n.inclusive?eq(r,"maximum",n.value,n.message,t):eq(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),eq(r,"maximum",n.value,n.message,t));break;case"multipleOf":eq(r,"multipleOf",n.value,n.message,t)}return r}function tm(e,t){let r="openAi"===t.target,n={type:"object",properties:{}},a=[],i=e.shape();for(let e in i){let o=i[e];if(void 0===o||void 0===o._def)continue;let s=tg(o);s&&r&&("ZodOptional"===o._def.typeName&&(o=o._def.innerType),o.isNullable()||(o=o.nullable()),s=!1);let l=tk(o._def,{...t,currentPath:[...t.currentPath,"properties",e],propertyPath:[...t.currentPath,"properties",e]});void 0!==l&&(n.properties[e]=l,s||a.push(e))}a.length&&(n.required=a);let o=ty(e,t);return void 0!==o&&(n.additionalProperties=o),n}function ty(e,t){if("ZodNever"!==e.catchall._def.typeName)return tk(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return"strict"===t.removeAdditionalStrategy?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function tg(e){try{return e.isOptional()}catch{return!0}}let tv=(e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return tk(e.innerType._def,t);let r=tk(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:eV(t)},r]}:eV(t)},tb=(e,t)=>{if("input"===t.pipeStrategy)return tk(e.in._def,t);if("output"===t.pipeStrategy)return tk(e.out._def,t);let r=tk(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=tk(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(e=>void 0!==e)}};function t_(e,t){return tk(e.type._def,t)}function tw(e,t){let r={type:"array",uniqueItems:!0,items:tk(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&eq(r,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&eq(r,"maxItems",e.maxSize.value,e.maxSize.message,t),r}function t$(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((e,r)=>tk(e._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:tk(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,r)=>tk(e._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[])}}function tS(e){return{not:eV(e)}}function tE(e){return eV(e)}let tx=(e,t)=>tk(e.innerType._def,t),tA=(e,t,r)=>{switch(t){case o.ZodString:return e5(e,r);case o.ZodNumber:return th(e,r);case o.ZodObject:return tm(e,r);case o.ZodBigInt:return eG(e,r);case o.ZodBoolean:return eJ();case o.ZodDate:return eQ(e,r);case o.ZodUndefined:return tS(r);case o.ZodNull:return tu(r);case o.ZodArray:return eK(e,r);case o.ZodUnion:case o.ZodDiscriminatedUnion:return td(e,r);case o.ZodIntersection:return e4(e,r);case o.ZodTuple:return t$(e,r);case o.ZodRecord:return ti(e,r);case o.ZodLiteral:return e8(e,r);case o.ZodEnum:return e3(e);case o.ZodNativeEnum:return ts(e);case o.ZodNullable:return tp(e,r);case o.ZodOptional:return tv(e,r);case o.ZodMap:return to(e,r);case o.ZodSet:return tw(e,r);case o.ZodLazy:return()=>e.getter()._def;case o.ZodPromise:return t_(e,r);case o.ZodNaN:case o.ZodNever:return tl(r);case o.ZodEffects:return e2(e,r);case o.ZodAny:return eV(r);case o.ZodUnknown:return tE(r);case o.ZodDefault:return e1(e,r);case o.ZodBranded:return eY(e,r);case o.ZodReadonly:return tx(e,r);case o.ZodCatch:return eX(e,r);case o.ZodPipeline:return tb(e,r);case o.ZodFunction:case o.ZodVoid:case o.ZodSymbol:return;default:let n;return void(n=0)}};function tk(e,t,r=!1){let n=t.seen.get(e);if(t.override){let a=t.override?.(e,t,n,r);if(a!==u)return a}if(n&&!r){let e=tO(n,t);if(void 0!==e)return e}let a={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,a);let i=tA(e,e.typeName,t),o="function"==typeof i?tk(i(),t):i;if(o&&tI(e,t,o),t.postProcess){let r=t.postProcess(o,e,t);return a.jsonSchema=o,r}return a.jsonSchema=o,o}let tO=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:eH(t.currentPath,e.path)};case"none":case"seen":if(e.path.length<t.currentPath.length&&e.path.every((e,r)=>t.currentPath[r]===e))return console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),eV(t);return"seen"===t.$refStrategy?eV(t):void 0}},tI=(e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r),tC=(e,t)=>{let r=f(t),n="object"==typeof t&&t.definitions?Object.entries(t.definitions).reduce((e,[t,n])=>({...e,[t]:tk(n._def,{...r,currentPath:[...r.basePath,r.definitionPath,t]},!0)??eV(r)}),{}):void 0,a="string"==typeof t?t:t?.nameStrategy==="title"?void 0:t?.name,i=tk(e._def,void 0===a?r:{...r,currentPath:[...r.basePath,r.definitionPath,a]},!1)??eV(r),o="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==o&&(i.title=o),r.flags.hasReferencedOpenAiAnyType&&(n||(n={}),n[r.openAiAnyTypeName]||(n[r.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:"relative"===r.$refStrategy?"1":[...r.basePath,r.definitionPath,r.openAiAnyTypeName].join("/")}}));let s=void 0===a?n?{...i,[r.definitionPath]:n}:i:{$ref:[..."relative"===r.$refStrategy?[]:r.basePath,r.definitionPath,a].join("/"),[r.definitionPath]:{...n,[a]:i}};return"jsonSchema7"===r.target?s.$schema="http://json-schema.org/draft-07/schema#":("jsonSchema2019-09"===r.target||"openAi"===r.target)&&(s.$schema="https://json-schema.org/draft/2019-09/schema#"),"openAi"===r.target&&("anyOf"in s||"oneOf"in s||"allOf"in s||"type"in s&&Array.isArray(s.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),s}},83637:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=a(r(87398));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return(0,n.default)(e)?parseFloat(e):NaN}e.exports=t.default,e.exports.default=t.default},83639:(e,t,r)=>{"use strict";var n=r(14274),a=r(72206),i=r(95185),o=r(95605);e.exports=function(e){if(e.length<1||"function"!=typeof e[0])throw new a("a function is required");return o(n,i,e)}},84035:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},84173:(e,t,r)=>{"use strict";var n=r(44050);e.exports=function(e){return!!n(e)}},84409:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,o=/^[-+]?[0-9]+$/;function s(e,t){(0,n.default)(e);var r=!1===(t=t||{}).allow_leading_zeroes?i:o,a=!t.hasOwnProperty("min")||e>=t.min,s=!t.hasOwnProperty("max")||e<=t.max,l=!t.hasOwnProperty("lt")||e<t.lt,u=!t.hasOwnProperty("gt")||e>t.gt;return r.test(e)&&a&&s&&l&&u}e.exports=t.default,e.exports.default=t.default},84426:(e,t,r)=>{"use strict";let n=r(26189);e.exports=(e,t,r)=>0!==n(e,t,r)},84864:(e,t,r)=>{var n=r(29143),a=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},i=/%[sdj%]/g;t.format=function(e){if(!S(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(u(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,a=n.length,o=String(e).replace(i,function(e){if("%%"===e)return"%";if(r>=a)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),s=n[r];r<a;s=n[++r])w(s)||!A(s)?o+=" "+s:o+=" "+u(s);return o},t.deprecate=function(e,r){if(void 0!==n&&!0===n.noDeprecation)return e;if(void 0===n)return function(){return t.deprecate(e,r).apply(this,arguments)};var a=!1;return function(){if(!a){if(n.throwDeprecation)throw Error(r);n.traceDeprecation?console.trace(r):console.error(r),a=!0}return e.apply(this,arguments)}};var o={},s=/^$/;if(n.env.NODE_DEBUG){var l=n.env.NODE_DEBUG;s=RegExp("^"+(l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase())+"$","i")}function u(e,r){var n={seen:[],stylize:d};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),_(r)?n.showHidden=r:r&&t._extend(n,r),E(n.showHidden)&&(n.showHidden=!1),E(n.depth)&&(n.depth=2),E(n.colors)&&(n.colors=!1),E(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),p(n,e,n.depth)}function c(e,t){var r=u.styles[t];return r?"\x1b["+u.colors[r][0]+"m"+e+"\x1b["+u.colors[r][1]+"m":e}function d(e,t){return e}function f(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function p(e,r,n){if(e.customInspect&&r&&I(r.inspect)&&r.inspect!==t.inspect&&!(r.constructor&&r.constructor.prototype===r)){var a,i=r.inspect(n,e);return S(i)||(i=p(e,i,n)),i}var o=h(e,r);if(o)return o;var s=Object.keys(r),l=f(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),O(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return m(r);if(0===s.length){if(I(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(x(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(k(r))return e.stylize(Date.prototype.toString.call(r),"date");if(O(r))return m(r)}var c="",d=!1,_=["{","}"];if(b(r)&&(d=!0,_=["[","]"]),I(r)&&(c=" [Function"+(r.name?": "+r.name:"")+"]"),x(r)&&(c=" "+RegExp.prototype.toString.call(r)),k(r)&&(c=" "+Date.prototype.toUTCString.call(r)),O(r)&&(c=" "+m(r)),0===s.length&&(!d||0==r.length))return _[0]+c+_[1];if(n<0)if(x(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");else return e.stylize("[Object]","special");return e.seen.push(r),a=d?y(e,r,n,l,s):s.map(function(t){return g(e,r,n,l,t,d)}),e.seen.pop(),v(a,c,_)}function h(e,t){if(E(t))return e.stylize("undefined","undefined");if(S(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return $(t)?e.stylize(""+t,"number"):_(t)?e.stylize(""+t,"boolean"):w(t)?e.stylize("null","null"):void 0}function m(e){return"["+Error.prototype.toString.call(e)+"]"}function y(e,t,r,n,a){for(var i=[],o=0,s=t.length;o<s;++o)N(t,String(o))?i.push(g(e,t,r,n,String(o),!0)):i.push("");return a.forEach(function(a){a.match(/^\d+$/)||i.push(g(e,t,r,n,a,!0))}),i}function g(e,t,r,n,a,i){var o,s,l;if((l=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),N(n,a)||(o="["+a+"]"),!s&&(0>e.seen.indexOf(l.value)?(s=w(r)?p(e,l.value,null):p(e,l.value,r-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").slice(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),E(o)){if(i&&a.match(/^\d+$/))return s;(o=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.slice(1,-1),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function v(e,t,r){var n=0;return e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function b(e){return Array.isArray(e)}function _(e){return"boolean"==typeof e}function w(e){return null===e}function $(e){return"number"==typeof e}function S(e){return"string"==typeof e}function E(e){return void 0===e}function x(e){return A(e)&&"[object RegExp]"===C(e)}function A(e){return"object"==typeof e&&null!==e}function k(e){return A(e)&&"[object Date]"===C(e)}function O(e){return A(e)&&("[object Error]"===C(e)||e instanceof Error)}function I(e){return"function"==typeof e}function C(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(!o[e=e.toUpperCase()])if(s.test(e)){var r=n.pid;o[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else o[e]=function(){};return o[e]},t.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=r(30629),t.isArray=b,t.isBoolean=_,t.isNull=w,t.isNullOrUndefined=function(e){return null==e},t.isNumber=$,t.isString=S,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=E,t.isRegExp=x,t.types.isRegExp=x,t.isObject=A,t.isDate=k,t.types.isDate=k,t.isError=O,t.types.isNativeError=O,t.isFunction=I,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(43946);var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),P[e.getMonth()],t].join(" ")}function N(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",R(),t.format.apply(t,arguments))},t.inherits=r(84035),t._extend=function(e,t){if(!t||!A(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var j="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function M(e,t){if(!e){var r=Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw TypeError('The "original" argument must be of type Function');if(j&&e[j]){var t=e[j];if("function"!=typeof t)throw TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,j,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise(function(e,n){t=e,r=n}),a=[],i=0;i<arguments.length;i++)a.push(arguments[i]);a.push(function(e,n){e?r(e):t(n)});try{e.apply(this,a)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),j&&Object.defineProperty(t,j,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,a(e))},t.promisify.custom=j,t.callbackify=function(e){if("function"!=typeof e)throw TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var a=t.pop();if("function"!=typeof a)throw TypeError("The last argument must be of type Function");var i=this,o=function(){return a.apply(i,arguments)};e.apply(this,t).then(function(e){n.nextTick(o.bind(null,null,e))},function(e){n.nextTick(M.bind(null,e,o))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,a(e)),t}},85397:(e,t,r)=>{"use strict";var n=r(72206),a=r(16526),i=r(19782),o=r(80510),s=r(35146)||o||i;e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new n("Side channel does not contain "+a(e))},delete:function(t){return!!e&&e.delete(t)},get:function(t){return e&&e.get(t)},has:function(t){return!!e&&e.has(t)},set:function(t,r){e||(e=s()),e.set(t,r)}};return t}},85463:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=c,t.vatMatchers=void 0;var a=l(r(79922)),i=s(r(93563));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&({}).hasOwnProperty.call(e,s)){var l=i?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(a,s,l):a[s]=e[s]}return a.default=e,r&&r.set(e,a),a}function l(e){return e&&e.__esModule?e:{default:e}}var u=t.vatMatchers={AT:function(e){return/^(AT)?U\d{8}$/.test(e)},BE:function(e){return/^(BE)?\d{10}$/.test(e)},BG:function(e){return/^(BG)?\d{9,10}$/.test(e)},HR:function(e){return/^(HR)?\d{11}$/.test(e)},CY:function(e){return/^(CY)?\w{9}$/.test(e)},CZ:function(e){return/^(CZ)?\d{8,10}$/.test(e)},DK:function(e){return/^(DK)?\d{8}$/.test(e)},EE:function(e){return/^(EE)?\d{9}$/.test(e)},FI:function(e){return/^(FI)?\d{8}$/.test(e)},FR:function(e){return/^(FR)?\w{2}\d{9}$/.test(e)},DE:function(e){return/^(DE)?\d{9}$/.test(e)},EL:function(e){return/^(EL)?\d{9}$/.test(e)},HU:function(e){return/^(HU)?\d{8}$/.test(e)},IE:function(e){return/^(IE)?\d{7}\w{1}(W)?$/.test(e)},IT:function(e){return/^(IT)?\d{11}$/.test(e)},LV:function(e){return/^(LV)?\d{11}$/.test(e)},LT:function(e){return/^(LT)?\d{9,12}$/.test(e)},LU:function(e){return/^(LU)?\d{8}$/.test(e)},MT:function(e){return/^(MT)?\d{8}$/.test(e)},NL:function(e){return/^(NL)?\d{9}B\d{2}$/.test(e)},PL:function(e){return/^(PL)?(\d{10}|(\d{3}-\d{3}-\d{2}-\d{2})|(\d{3}-\d{2}-\d{2}-\d{3}))$/.test(e)},PT:function(e){var t=e.match(/^(PT)?(\d{9})$/);if(!t)return!1;var r=t[2],n=11-i.reverseMultiplyAndSum(r.split("").slice(0,8).map(function(e){return parseInt(e,10)}),9)%11;return n>9?0===parseInt(r[8],10):n===parseInt(r[8],10)},RO:function(e){return/^(RO)?\d{2,10}$/.test(e)},SK:function(e){return/^(SK)?\d{10}$/.test(e)},SI:function(e){return/^(SI)?\d{8}$/.test(e)},ES:function(e){return/^(ES)?\w\d{7}[A-Z]$/.test(e)},SE:function(e){return/^(SE)?\d{12}$/.test(e)},AL:function(e){return/^(AL)?\w{9}[A-Z]$/.test(e)},MK:function(e){return/^(MK)?\d{13}$/.test(e)},AU:function(e){if(!e.match(/^(AU)?(\d{11})$/))return!1;for(var t=[10,1,3,5,7,9,11,13,15,17,19],r=(parseInt((e=e.replace(/^AU/,"")).slice(0,1),10)-1).toString()+e.slice(1),n=0,a=0;a<11;a++)n+=t[a]*r.charAt(a);return 0!==n&&n%89==0},BY:function(e){return/^(УНП )?\d{9}$/.test(e)},CA:function(e){return/^(CA)?\d{9}$/.test(e)},IS:function(e){return/^(IS)?\d{5,6}$/.test(e)},IN:function(e){return/^(IN)?\d{15}$/.test(e)},ID:function(e){return/^(ID)?(\d{15}|(\d{2}.\d{3}.\d{3}.\d{1}-\d{3}.\d{3}))$/.test(e)},IL:function(e){return/^(IL)?\d{9}$/.test(e)},KZ:function(e){return/^(KZ)?\d{12}$/.test(e)},NZ:function(e){return/^(NZ)?\d{9}$/.test(e)},NG:function(e){return/^(NG)?(\d{12}|(\d{8}-\d{4}))$/.test(e)},NO:function(e){return/^(NO)?\d{9}MVA$/.test(e)},PH:function(e){return/^(PH)?(\d{12}|\d{3} \d{3} \d{3} \d{3})$/.test(e)},RU:function(e){return/^(RU)?(\d{10}|\d{12})$/.test(e)},SM:function(e){return/^(SM)?\d{5}$/.test(e)},SA:function(e){return/^(SA)?\d{15}$/.test(e)},RS:function(e){return/^(RS)?\d{9}$/.test(e)},CH:function(e){var t=function(e){var t=e.pop(),r=[5,4,3,2,7,6,5,4];return t===(11-e.reduce(function(e,t,n){return e+t*r[n]},0)%11)%11};return/^(CHE[- ]?)?(\d{9}|(\d{3}\.\d{3}\.\d{3})|(\d{3} \d{3} \d{3})) ?(TVA|MWST|IVA)?$/.test(e)&&t(e.match(/\d/g).map(function(e){return+e}))},TR:function(e){return/^(TR)?\d{10}$/.test(e)},UA:function(e){return/^(UA)?\d{12}$/.test(e)},GB:function(e){return/^GB((\d{3} \d{4} ([0-8][0-9]|9[0-6]))|(\d{9} \d{3})|(((GD[0-4])|(HA[5-9]))[0-9]{2}))$/.test(e)},UZ:function(e){return/^(UZ)?\d{9}$/.test(e)},AR:function(e){return/^(AR)?\d{11}$/.test(e)},BO:function(e){return/^(BO)?\d{7}$/.test(e)},BR:function(e){return/^(BR)?((\d{2}.\d{3}.\d{3}\/\d{4}-\d{2})|(\d{3}.\d{3}.\d{3}-\d{2}))$/.test(e)},CL:function(e){return/^(CL)?\d{8}-\d{1}$/.test(e)},CO:function(e){return/^(CO)?\d{10}$/.test(e)},CR:function(e){return/^(CR)?\d{9,12}$/.test(e)},EC:function(e){return/^(EC)?\d{13}$/.test(e)},SV:function(e){return/^(SV)?\d{4}-\d{6}-\d{3}-\d{1}$/.test(e)},GT:function(e){return/^(GT)?\d{7}-\d{1}$/.test(e)},HN:function(e){return/^(HN)?$/.test(e)},MX:function(e){return/^(MX)?\w{3,4}\d{6}\w{3}$/.test(e)},NI:function(e){return/^(NI)?\d{3}-\d{6}-\d{4}\w{1}$/.test(e)},PA:function(e){return/^(PA)?$/.test(e)},PY:function(e){return/^(PY)?\d{6,8}-\d{1}$/.test(e)},PE:function(e){return/^(PE)?\d{11}$/.test(e)},DO:function(e){return/^(DO)?(\d{11}|(\d{3}-\d{7}-\d{1})|[1,4,5]{1}\d{8}|([1,4,5]{1})-\d{2}-\d{5}-\d{1})$/.test(e)},UY:function(e){return/^(UY)?\d{12}$/.test(e)},VE:function(e){return/^(VE)?[J,G,V,E]{1}-(\d{9}|(\d{8}-\d{1}))$/.test(e)}};function c(e,t){if((0,a.default)(e),(0,a.default)(t),t in u)return u[t](e);throw Error("Invalid country code: '".concat(t,"'"))}},85652:(e,t,r)=>{"use strict";var n=r(59102).Buffer,a=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function o(e){var t=i(e);if("string"!=typeof t&&(n.isEncoding===a||!a(e)))throw Error("Unknown encoding: "+e);return t||e}function s(e){var t;switch(this.encoding=o(e),this.encoding){case"utf16le":this.text=h,this.end=m,t=4;break;case"utf8":this.fillLast=d,t=4;break;case"base64":this.text=y,this.end=g,t=3;break;default:this.write=v,this.end=b;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function l(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function u(e,t,r){var n=t.length-1;if(n<r)return 0;var a=l(t[n]);return a>=0?(a>0&&(e.lastNeed=a-1),a):--n<r||-2===a?0:(a=l(t[n]))>=0?(a>0&&(e.lastNeed=a-2),a):--n<r||-2===a?0:(a=l(t[n]))>=0?(a>0&&(2===a?a=0:e.lastNeed=a-3),a):0}function c(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,"�"}}function d(e){var t=this.lastTotal-this.lastNeed,r=c(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function f(e,t){var r=u(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function p(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function h(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function m(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function y(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function g(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function v(e){return e.toString(this.encoding)}function b(e){return e&&e.length?this.write(e):""}t.StringDecoder=s,s.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=p,s.prototype.text=f,s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},85761:(e,t,r)=>{"use strict";var n=r(85397),a=r(24245),i=r(32236),o=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,u=Array.prototype.push,c=function(e,t){u.apply(e,l(t)?t:[t])},d=Date.prototype.toISOString,f=i.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:a.encode,encodeValuesOnly:!1,format:f,formatter:i.formatters[f],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},h=function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e||"bigint"==typeof e},m={},y=function e(t,r,i,o,s,u,d,f,y,g,v,b,_,w,$,S){for(var E,x=t,A=S,k=0,O=!1;void 0!==(A=A.get(m))&&!O;){var I=A.get(t);if(k+=1,void 0!==I)if(I===k)throw RangeError("Cyclic object value");else O=!0;void 0===A.get(m)&&(k=0)}if("function"==typeof f?x=f(r,x):x instanceof Date?x=v(x):"comma"===i&&l(x)&&(x=a.maybeMap(x,function(e){return e instanceof Date?v(e):e})),null===x){if(s)return d&&!w?d(r,p.encoder,$,"key",b):r;x=""}if(h(x)||a.isBuffer(x))return d?[_(w?r:d(r,p.encoder,$,"key",b))+"="+_(d(x,p.encoder,$,"value",b))]:[_(r)+"="+_(String(x))];var C=[];if(void 0===x)return C;if("comma"===i&&l(x))w&&d&&(x=a.maybeMap(x,d)),E=[{value:x.length>0?x.join(",")||null:void 0}];else if(l(f))E=f;else{var T=Object.keys(x);E=y?T.sort(y):T}for(var P=o&&l(x)&&1===x.length?r+"[]":r,R=0;R<E.length;++R){var N=E[R],j="object"==typeof N&&void 0!==N.value?N.value:x[N];if(!u||null!==j){var M=l(x)?"function"==typeof i?i(P,N):P:P+(g?"."+N:"["+N+"]");S.set(t,k);var L=n();L.set(m,S),c(C,e(j,M,i,o,s,u,"comma"===i&&w&&l(x)?null:d,f,y,g,v,b,_,w,$,L))}}return C},g=function(e){if(!e)return p;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=i.default;if(void 0!==e.format){if(!o.call(i.formatters,e.format))throw TypeError("Unknown format option provided.");r=e.format}var n=i.formatters[r],a=p.filter;return("function"==typeof e.filter||l(e.filter))&&(a=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===e.allowDots?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:a,format:r,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}};e.exports=function(e,t){var r,a,i,o=e,u=g(t);"function"==typeof u.filter?o=(a=u.filter)("",o):l(u.filter)&&(r=a=u.filter);var d=[];if("object"!=typeof o||null===o)return"";i=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var f=s[i];if(t&&"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw TypeError("`commaRoundTrip` must be a boolean, or absent");var p="comma"===f&&t&&t.commaRoundTrip;r||(r=Object.keys(o)),u.sort&&r.sort(u.sort);for(var h=n(),m=0;m<r.length;++m){var v=r[m];u.skipNulls&&null===o[v]||c(d,y(o[v],v,f,p,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.format,u.formatter,u.encodeValuesOnly,u.charset,h))}var b=d.join(u.delimiter),_=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),b.length>0?_+b:""}},86153:(e,t,r)=>{"use strict";var n;r.d(t,{s:()=>n}),function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(n||(n={}))},86159:(e,t,r)=>{"use strict";let n=r(77721),a=r(5074);e.exports=(e,t,r)=>{let i=null,o=null,s=null;try{s=new a(t,r)}catch(e){return null}return e.forEach(e=>{s.test(e)&&(!i||1===o.compare(e))&&(o=new n(i=e,r))}),i}},86246:(e,t,r)=>{var n=r(51642).Buffer;let a=r(10594),i=r(55032),o=r(55790),s=r(89809),{includes:l,isBoolean:u,isInteger:c,isNumber:d,isPlainObject:f,isString:p,once:h}=r(71434),{KeyObject:m,createSecretKey:y,createPrivateKey:g}=r(62701),v=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];i&&v.splice(3,0,"PS256","PS384","PS512");let b={expiresIn:{isValid:function(e){return c(e)||p(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return c(e)||p(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return p(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:l.bind(null,v),message:'"algorithm" must be a valid string enum value'},header:{isValid:f,message:'"header" must be an object'},encoding:{isValid:p,message:'"encoding" must be a string'},issuer:{isValid:p,message:'"issuer" must be a string'},subject:{isValid:p,message:'"subject" must be a string'},jwtid:{isValid:p,message:'"jwtid" must be a string'},noTimestamp:{isValid:u,message:'"noTimestamp" must be a boolean'},keyid:{isValid:p,message:'"keyid" must be a string'},mutatePayload:{isValid:u,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:u,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:u,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},_={iat:{isValid:d,message:'"iat" should be a number of seconds'},exp:{isValid:d,message:'"exp" should be a number of seconds'},nbf:{isValid:d,message:'"nbf" should be a number of seconds'}};function w(e,t,r,n){if(!f(r))throw Error('Expected "'+n+'" to be a plain object.');Object.keys(r).forEach(function(a){let i=e[a];if(!i){if(!t)throw Error('"'+a+'" is not allowed in "'+n+'"');return}if(!i.isValid(r[a]))throw Error(i.message)})}function $(e){return w(b,!1,e,"options")}function S(e){return w(_,!0,e,"payload")}let E={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},x=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];e.exports=function(e,t,r,i){"function"==typeof r?(i=r,r={}):r=r||{};let l="object"==typeof e&&!n.isBuffer(e),u=Object.assign({alg:r.algorithm||"HS256",typ:l?"JWT":void 0,kid:r.keyid},r.header);function c(e){if(i)return i(e);throw e}if(!t&&"none"!==r.algorithm)return c(Error("secretOrPrivateKey must have a value"));if(null!=t&&!(t instanceof m))try{t=g(t)}catch(e){try{t=y("string"==typeof t?n.from(t):t)}catch(e){return c(Error("secretOrPrivateKey is not valid key material"))}}if(u.alg.startsWith("HS")&&"secret"!==t.type)return c(Error(`secretOrPrivateKey must be a symmetric key when using ${u.alg}`));if(/^(?:RS|PS|ES)/.test(u.alg)){if("private"!==t.type)return c(Error(`secretOrPrivateKey must be an asymmetric key when using ${u.alg}`));if(!r.allowInsecureKeySizes&&!u.alg.startsWith("ES")&&void 0!==t.asymmetricKeyDetails&&t.asymmetricKeyDetails.modulusLength<2048)return c(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`))}if(void 0===e)return c(Error("payload is required"));if(l){try{S(e)}catch(e){return c(e)}r.mutatePayload||(e=Object.assign({},e))}else{let t=x.filter(function(e){return void 0!==r[e]});if(t.length>0)return c(Error("invalid "+t.join(",")+" option for "+typeof e+" payload"))}if(void 0!==e.exp&&void 0!==r.expiresIn)return c(Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==e.nbf&&void 0!==r.notBefore)return c(Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{$(r)}catch(e){return c(e)}if(!r.allowInvalidAsymmetricKeyTypes)try{o(u.alg,t)}catch(e){return c(e)}let d=e.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete e.iat:l&&(e.iat=d),void 0!==r.notBefore){try{e.nbf=a(r.notBefore,d)}catch(e){return c(e)}if(void 0===e.nbf)return c(Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==r.expiresIn&&"object"==typeof e){try{e.exp=a(r.expiresIn,d)}catch(e){return c(e)}if(void 0===e.exp)return c(Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(E).forEach(function(t){let n=E[t];if(void 0!==r[t]){if(void 0!==e[n])return c(Error('Bad "options.'+t+'" option. The payload already has an "'+n+'" property.'));e[n]=r[t]}});let f=r.encoding||"utf8";if("function"==typeof i)i=i&&h(i),s.createSign({header:u,privateKey:t,payload:e,encoding:f}).once("error",i).once("done",function(e){if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(u.alg)&&e.length<256)return i(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`));i(null,e)});else{let n=s.sign({header:u,payload:e,secret:t,encoding:f});if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(u.alg)&&n.length<256)throw Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`);return n}}},86298:(e,t,r)=>{"use strict";let n=r(5074);e.exports=(e,t)=>new n(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},86357:(e,t,r)=>{"use strict";var n,a=r(54913),i=r(47824)(/^\s*(?:function)?\*/),o=r(27721)(),s=r(50865),l=a("Object.prototype.toString"),u=a("Function.prototype.toString"),c=function(){if(!o)return!1;try{return Function("return function*() {}")()}catch(e){}};e.exports=function(e){if("function"!=typeof e)return!1;if(i(u(e)))return!0;if(!o)return"[object GeneratorFunction]"===l(e);if(!s)return!1;if(void 0===n){var t=c();n=!!t&&s(t)}return s(e)===n}},86387:(e,t,r)=>{"use strict";var n,a={value:!0},i=r(77201),o=r(34289),s=[],l=function(){function e(e){this.$$observationTargets=[],this.$$activeTargets=[],this.$$skippedTargets=[];var t=d(e);if(t)throw TypeError(t);this.$$callback=e}return e.prototype.observe=function(e){var t=f("observe",e);if(t)throw TypeError(t);p(this.$$observationTargets,e)>=0||(this.$$observationTargets.push(new i.ResizeObservation(e)),u(this))},e.prototype.unobserve=function(e){var t=f("unobserve",e);if(t)throw TypeError(t);var r=p(this.$$observationTargets,e);r<0||(this.$$observationTargets.splice(r,1),0===this.$$observationTargets.length&&c(this))},e.prototype.disconnect=function(){this.$$observationTargets=[],this.$$activeTargets=[],c(this)},e}();function u(e){0>s.indexOf(e)&&(s.push(e),w())}function c(e){var t=s.indexOf(e);t>=0&&(s.splice(t,1),S())}function d(e){return void 0===e?"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.":"function"!=typeof e?"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.":void 0}function f(e,t){return void 0===t?"Failed to execute '"+e+"' on 'ResizeObserver': 1 argument required, but only 0 present.":t&&t.nodeType===window.Node.ELEMENT_NODE?void 0:"Failed to execute '"+e+"' on 'ResizeObserver': parameter 1 is not of type 'Element'."}function p(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return -1}t.tb=l;var h=function(e){s.forEach(function(t){t.$$activeTargets=[],t.$$skippedTargets=[],t.$$observationTargets.forEach(function(r){r.isActive()&&(b(r.target)>e?t.$$activeTargets.push(r):t.$$skippedTargets.push(r))})})},m=function(){return s.some(function(e){return!!e.$$activeTargets.length})},y=function(){return s.some(function(e){return!!e.$$skippedTargets.length})},g=function(){var e=1/0;return s.forEach(function(t){if(t.$$activeTargets.length){var r=[];t.$$activeTargets.forEach(function(t){var n=new o.ResizeObserverEntry(t.target);r.push(n),t.$$broadcastWidth=n.contentRect.width,t.$$broadcastHeight=n.contentRect.height;var a=b(t.target);a<e&&(e=a)}),t.$$callback(r,t),t.$$activeTargets=[]}}),e},v=function(){var e=new window.ErrorEvent("ResizeLoopError",{message:"ResizeObserver loop completed with undelivered notifications."});window.dispatchEvent(e)},b=function(e){for(var t=0;e.parentNode;)e=e.parentNode,t+=1;return t},_=function(){var e=0;for(h(0);m();)h(e=g());y()&&v()},w=function(){n||$()},$=function(){n=window.requestAnimationFrame(function(){_(),$()})},S=function(){n&&!s.some(function(e){return!!e.$$observationTargets.length})&&(window.cancelAnimationFrame(n),n=void 0)};a=function(){return window.ResizeObserver=l}},86610:e=>{"use strict";function t(e){return(e/8|0)+ +(e%8!=0)}var r={ES256:t(256),ES384:t(384),ES512:t(521)};e.exports=function(e){var t=r[e];if(t)return t;throw Error('Unknown algorithm "'+e+'"')}},87398:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,t.locales=void 0;var n=i(r(79922)),a=r(21988);function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){(0,n.default)(e),t=t||{};var r=new RegExp("^(?:[-+])?(?:[0-9]+)?(?:\\".concat(t.locale?a.decimal[t.locale]:".","[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$"));if(""===e||"."===e||","===e||"-"===e||"+"===e)return!1;var i=parseFloat(e.replace(",","."));return r.test(e)&&(!t.hasOwnProperty("min")||i>=t.min)&&(!t.hasOwnProperty("max")||i<=t.max)&&(!t.hasOwnProperty("lt")||i<t.lt)&&(!t.hasOwnProperty("gt")||i>t.gt)}t.locales=Object.keys(a.decimal)},87896:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=new Set(["aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","de","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","hr","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mr","ms","mt","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","pl","ps","pt","qu","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh","zu"]);function o(e){return(0,n.default)(e),i.has(e)}e.exports=t.default,e.exports.default=t.default},87931:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=i(r(79922)),a=i(r(73909));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);(0,n.default)(e);var r=(0,a.default)(t),i=(0,a.default)(e);return!!(i&&r&&i<r)}e.exports=t.default,e.exports.default=t.default},89089:(e,t)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e){return"object"===r(e)&&null!==e?e="function"==typeof e.toString?e.toString():"[object Object]":(null==e||isNaN(e)&&!e.length)&&(e=""),String(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default,e.exports.default=t.default},89809:(e,t,r)=>{var n=r(47701),a=r(92781);t.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],t.sign=n.sign,t.verify=a.verify,t.decode=a.decode,t.isValid=a.isValid,t.createSign=function(e){return new n(e)},t.createVerify=function(e){return new a(e)}},89843:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=/[0-9]{4}/,o=/(0[1-9]|1[0-2])/,s=/([12]\d|0[1-9]|3[01])/,l=/([01][0-9]|2[0-3])/,u=/[0-5][0-9]/,c=/([0-5][0-9]|60)/,d=/(\.[0-9]+)?/,f=new RegExp("[-+]".concat(l.source,":").concat(u.source)),p=new RegExp("([zZ]|".concat(f.source,")")),h=new RegExp("".concat(l.source,":").concat(u.source,":").concat(c.source).concat(d.source)),m=new RegExp("".concat(i.source,"-").concat(o.source,"-").concat(s.source)),y=new RegExp("".concat(h.source).concat(p.source)),g=new RegExp("^".concat(m.source,"[ tT]").concat(y.source,"$"));function v(e){return(0,n.default)(e),g.test(e)}e.exports=t.default,e.exports.default=t.default},90416:(e,t,r)=>{"use strict";r.d(t,{EC:()=>w,H4:()=>v}),r(83579);var n={code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw Error('"text" parts expect a string value.');return{type:"text",value:e}}},a={code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw Error('"error" parts expect a string value.');return{type:"error",value:e}}},i={code:"4",name:"assistant_message",parse:e=>{if(null==e||"object"!=typeof e||!("id"in e)||!("role"in e)||!("content"in e)||"string"!=typeof e.id||"string"!=typeof e.role||"assistant"!==e.role||!Array.isArray(e.content)||!e.content.every(e=>null!=e&&"object"==typeof e&&"type"in e&&"text"===e.type&&"text"in e&&null!=e.text&&"object"==typeof e.text&&"value"in e.text&&"string"==typeof e.text.value))throw Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},o={code:"5",name:"assistant_control_data",parse:e=>{if(null==e||"object"!=typeof e||!("threadId"in e)||!("messageId"in e)||"string"!=typeof e.threadId||"string"!=typeof e.messageId)throw Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},s={code:"6",name:"data_message",parse:e=>{if(null==e||"object"!=typeof e||!("role"in e)||!("data"in e)||"string"!=typeof e.role||"data"!==e.role)throw Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},l=[n,a,i,o,s],u={[n.code]:n,[a.code]:a,[i.code]:i,[o.code]:o,[s.code]:s};n.name,n.code,a.name,a.code,i.name,i.code,o.name,o.code,s.name,s.code;var c=l.map(e=>e.code);function d({promptTokens:e,completionTokens:t}){return{promptTokens:e,completionTokens:t,totalTokens:e+t}}function f(e){let t=["ROOT"],r=-1,n=null;function a(e,a,i){switch(e){case'"':r=a,t.pop(),t.push(i),t.push("INSIDE_STRING");break;case"f":case"t":case"n":r=a,n=a,t.pop(),t.push(i),t.push("INSIDE_LITERAL");break;case"-":t.pop(),t.push(i),t.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=a,t.pop(),t.push(i),t.push("INSIDE_NUMBER");break;case"{":r=a,t.pop(),t.push(i),t.push("INSIDE_OBJECT_START");break;case"[":r=a,t.pop(),t.push(i),t.push("INSIDE_ARRAY_START")}}function i(e,n){switch(e){case",":t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":r=n,t.pop()}}function o(e,n){switch(e){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":r=n,t.pop()}}for(let s=0;s<e.length;s++){let l=e[s];switch(t[t.length-1]){case"ROOT":a(l,s,"FINISH");break;case"INSIDE_OBJECT_START":switch(l){case'"':t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"}":r=s,t.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":'"'===l&&(t.pop(),t.push("INSIDE_OBJECT_KEY"));break;case"INSIDE_OBJECT_KEY":'"'===l&&(t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY"));break;case"INSIDE_OBJECT_AFTER_KEY":":"===l&&(t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE"));break;case"INSIDE_OBJECT_BEFORE_VALUE":a(l,s,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":i(l,s);break;case"INSIDE_STRING":switch(l){case'"':t.pop(),r=s;break;case"\\":t.push("INSIDE_STRING_ESCAPE");break;default:r=s}break;case"INSIDE_ARRAY_START":"]"===l?(r=s,t.pop()):(r=s,a(l,s,"INSIDE_ARRAY_AFTER_VALUE"));break;case"INSIDE_ARRAY_AFTER_VALUE":switch(l){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":r=s,t.pop();break;default:r=s}break;case"INSIDE_ARRAY_AFTER_COMMA":a(l,s,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":t.pop(),r=s;break;case"INSIDE_NUMBER":switch(l){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=s;break;case"e":case"E":case"-":case".":break;case",":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&o(l,s),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&i(l,s);break;case"}":t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&i(l,s);break;case"]":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&o(l,s);break;default:t.pop()}break;case"INSIDE_LITERAL":{let a=e.substring(n,s+1);"false".startsWith(a)||"true".startsWith(a)||"null".startsWith(a)?r=s:(t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]?i(l,s):"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&o(l,s))}}}let s=e.slice(0,r+1);for(let r=t.length-1;r>=0;r--)switch(t[r]){case"INSIDE_STRING":s+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":s+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":s+="]";break;case"INSIDE_LITERAL":{let t=e.substring(n,e.length);"true".startsWith(t)?s+="true".slice(t.length):"false".startsWith(t)?s+="false".slice(t.length):"null".startsWith(t)&&(s+="null".slice(t.length))}}return s}function p(e){if(void 0===e)return{value:void 0,state:"undefined-input"};let t=safeParseJSON({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=safeParseJSON({text:f(e)})).success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"}}var h=[{code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw Error('"text" parts expect a string value.');return{type:"text",value:e}}},{code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw Error('"data" parts expect an array value.');return{type:"data",value:e}}},{code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw Error('"error" parts expect a string value.');return{type:"error",value:e}}},{code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},{code:"9",name:"tool_call",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName||!("args"in e)||"object"!=typeof e.args)throw Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},{code:"a",name:"tool_result",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("result"in e))throw Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},{code:"b",name:"tool_call_streaming_start",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName)throw Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},{code:"c",name:"tool_call_delta",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("argsTextDelta"in e)||"string"!=typeof e.argsTextDelta)throw Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},{code:"d",name:"finish_message",parse:e=>{if(null==e||"object"!=typeof e||!("finishReason"in e)||"string"!=typeof e.finishReason)throw Error('"finish_message" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason};return"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:"number"==typeof e.usage.promptTokens?e.usage.promptTokens:Number.NaN,completionTokens:"number"==typeof e.usage.completionTokens?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}}},{code:"e",name:"finish_step",parse:e=>{if(null==e||"object"!=typeof e||!("finishReason"in e)||"string"!=typeof e.finishReason)throw Error('"finish_step" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:"number"==typeof e.usage.promptTokens?e.usage.promptTokens:Number.NaN,completionTokens:"number"==typeof e.usage.completionTokens?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&"boolean"==typeof e.isContinued&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}}},{code:"f",name:"start_step",parse:e=>{if(null==e||"object"!=typeof e||!("messageId"in e)||"string"!=typeof e.messageId)throw Error('"start_step" parts expect an object with an "id" property.');return{type:"start_step",value:{messageId:e.messageId}}}},{code:"g",name:"reasoning",parse:e=>{if("string"!=typeof e)throw Error('"reasoning" parts expect a string value.');return{type:"reasoning",value:e}}},{code:"h",name:"source",parse:e=>{if(null==e||"object"!=typeof e)throw Error('"source" parts expect a Source object.');return{type:"source",value:e}}},{code:"i",name:"redacted_reasoning",parse:e=>{if(null==e||"object"!=typeof e||!("data"in e)||"string"!=typeof e.data)throw Error('"redacted_reasoning" parts expect an object with a "data" property.');return{type:"redacted_reasoning",value:{data:e.data}}}},{code:"j",name:"reasoning_signature",parse:e=>{if(null==e||"object"!=typeof e||!("signature"in e)||"string"!=typeof e.signature)throw Error('"reasoning_signature" parts expect an object with a "signature" property.');return{type:"reasoning_signature",value:{signature:e.signature}}}},{code:"k",name:"file",parse:e=>{if(null==e||"object"!=typeof e||!("data"in e)||"string"!=typeof e.data||!("mimeType"in e)||"string"!=typeof e.mimeType)throw Error('"file" parts expect an object with a "data" and "mimeType" property.');return{type:"file",value:e}}}],m=Object.fromEntries(h.map(e=>[e.code,e]));Object.fromEntries(h.map(e=>[e.name,e.code]));var y=h.map(e=>e.code),g=e=>{let t=e.indexOf(":");if(-1===t)throw Error("Failed to parse stream string. No separator found.");let r=e.slice(0,t);if(!y.includes(r))throw Error(`Failed to parse stream string. Invalid code ${r}.`);let n=r,a=JSON.parse(e.slice(t+1));return m[n].parse(a)};function v(e,t){let r=h.find(t=>t.name===e);if(!r)throw Error(`Invalid stream part type: ${e}`);return`${r.code}:${JSON.stringify(t)}
`}var b=10;function _(e,t){let r=new Uint8Array(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return e.length=0,r}async function w({stream:e,onTextPart:t,onReasoningPart:r,onReasoningSignaturePart:n,onRedactedReasoningPart:a,onSourcePart:i,onFilePart:o,onDataPart:s,onErrorPart:l,onToolCallStreamingStartPart:u,onToolCallDeltaPart:c,onToolCallPart:d,onToolResultPart:f,onMessageAnnotationsPart:p,onFinishMessagePart:h,onFinishStepPart:m,onStartStepPart:y}){let v=e.getReader(),w=new TextDecoder,$=[],S=0;for(;;){let{value:e}=await v.read();if(e&&($.push(e),S+=e.length,e[e.length-1]!==b))continue;if(0===$.length)break;let E=_($,S);for(let{type:e,value:v}of(S=0,w.decode(E,{stream:!0}).split("\n").filter(e=>""!==e).map(g)))switch(e){case"text":await (null==t?void 0:t(v));break;case"reasoning":await (null==r?void 0:r(v));break;case"reasoning_signature":await (null==n?void 0:n(v));break;case"redacted_reasoning":await (null==a?void 0:a(v));break;case"file":await (null==o?void 0:o(v));break;case"source":await (null==i?void 0:i(v));break;case"data":await (null==s?void 0:s(v));break;case"error":await (null==l?void 0:l(v));break;case"message_annotations":await (null==p?void 0:p(v));break;case"tool_call_streaming_start":await (null==u?void 0:u(v));break;case"tool_call_delta":await (null==c?void 0:c(v));break;case"tool_call":await (null==d?void 0:d(v));break;case"tool_result":await (null==f?void 0:f(v));break;case"finish_message":await (null==h?void 0:h(v));break;case"finish_step":await (null==m?void 0:m(v));break;case"start_step":await (null==y?void 0:y(v));break;default:{let t=e;throw Error(`Unknown stream part type: ${t}`)}}}}async function $({stream:e,onTextPart:t}){let r=e.pipeThrough(new TextDecoderStream).getReader();for(;;){let{done:e,value:n}=await r.read();if(e)break;await t(n)}}var S=Symbol.for("vercel.ai.schema");function E(e,{validate:t}={}){return{[S]:!0,_type:void 0,[validatorSymbol]:!0,jsonSchema:e,validate:t}}},90614:(e,t,r)=>{"use strict";r.d(t,{T:()=>eG});var n,a,i,o,s,l,u,c,d,f,p,h,m,y,g="vercel.ai.error",v=Symbol.for(g),b=class e extends Error{constructor({name:e,message:t,cause:r}){super(t),this[n]=!0,this.name=e,this.cause=r}static isInstance(t){return e.hasMarker(t,g)}static hasMarker(e,t){let r=Symbol.for(t);return null!=e&&"object"==typeof e&&r in e&&"boolean"==typeof e[r]&&!0===e[r]}};n=v;var _=b,w="AI_APICallError",$=`vercel.ai.error.${w}`,S=Symbol.for($),E=class extends _{constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:i,responseBody:o,cause:s,isRetryable:l=null!=n&&(408===n||409===n||429===n||n>=500),data:u}){super({name:w,message:e,cause:s}),this[a]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=i,this.responseBody=o,this.isRetryable=l,this.data=u}static isInstance(e){return _.hasMarker(e,$)}};a=S;var x="AI_EmptyResponseBodyError",A=`vercel.ai.error.${x}`,k=Symbol.for(A),O=class extends _{constructor({message:e="Empty response body"}={}){super({name:x,message:e}),this[i]=!0}static isInstance(e){return _.hasMarker(e,A)}};function I(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}i=k;var C="AI_InvalidArgumentError",T=`vercel.ai.error.${C}`,P=Symbol.for(T),R=class extends _{constructor({message:e,cause:t,argument:r}){super({name:C,message:e,cause:t}),this[o]=!0,this.argument=r}static isInstance(e){return _.hasMarker(e,T)}};o=P;var N="AI_InvalidPromptError";s=Symbol.for(`vercel.ai.error.${N}`);var j="AI_InvalidResponseDataError";l=Symbol.for(`vercel.ai.error.${j}`);var M="AI_JSONParseError",L=`vercel.ai.error.${M}`,D=Symbol.for(L),B=class extends _{constructor({text:e,cause:t}){super({name:M,message:`JSON parsing failed: Text: ${e}.
Error message: ${I(t)}`,cause:t}),this[u]=!0,this.text=e}static isInstance(e){return _.hasMarker(e,L)}};u=D;var F="AI_LoadAPIKeyError",z=`vercel.ai.error.${F}`,U=Symbol.for(z),Z=class extends _{constructor({message:e}){super({name:F,message:e}),this[c]=!0}static isInstance(e){return _.hasMarker(e,z)}};c=U;var H="AI_LoadSettingError";d=Symbol.for(`vercel.ai.error.${H}`);var V="AI_NoContentGeneratedError";f=Symbol.for(`vercel.ai.error.${V}`);var W="AI_NoSuchModelError";p=Symbol.for(`vercel.ai.error.${W}`);var q="AI_TooManyEmbeddingValuesForCallError",K=`vercel.ai.error.${q}`,G=Symbol.for(K),J=class extends _{constructor(e){super({name:q,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[h]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return _.hasMarker(e,K)}};h=G;var Y="AI_TypeValidationError",X=`vercel.ai.error.${Y}`,Q=Symbol.for(X),ee=class e extends _{constructor({value:e,cause:t}){super({name:Y,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${I(t)}`,cause:t}),this[m]=!0,this.value=e}static isInstance(e){return _.hasMarker(e,X)}static wrap({value:t,cause:r}){return e.isInstance(r)&&r.value===t?r:new e({value:t,cause:r})}};m=Q;var et=ee,er="AI_UnsupportedFunctionalityError",en=`vercel.ai.error.${er}`,ea=Symbol.for(en),ei=class extends _{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:er,message:t}),this[y]=!0,this.functionality=e}static isInstance(e){return _.hasMarker(e,en)}};function eo(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||(Array.isArray(e)?e.every(eo):"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&eo(t)))}y=ea;let es=(e,t=21)=>(r=t)=>{let n="",a=0|r;for(;a--;)n+=e[Math.random()*e.length|0];return n};var el=r(29486),eu=r(29143);function ec(...e){return e.reduce((e,t)=>({...e,...null!=t?t:{}}),{})}function ed(){let e,t,r,n="",a=[];function i(e,t){if(""===e)return void o(t);if(e.startsWith(":"))return;let r=e.indexOf(":");if(-1===r)return void s(e,"");let n=e.slice(0,r),a=r+1;s(n,a<e.length&&" "===e[a]?e.slice(a+1):e.slice(a))}function o(n){a.length>0&&(n.enqueue({event:e,data:a.join("\n"),id:t,retry:r}),a=[],e=void 0,r=void 0)}function s(n,i){switch(n){case"event":e=i;break;case"data":a.push(i);break;case"id":t=i;break;case"retry":let o=parseInt(i,10);isNaN(o)||(r=o)}}return new TransformStream({transform(e,t){let{lines:r,incompleteLine:a}=ef(n,e);n=a;for(let e=0;e<r.length;e++)i(r[e],t)},flush(e){i(n,e),o(e)}})}function ef(e,t){let r=[],n=e;for(let e=0;e<t.length;){let a=t[e++];"\n"===a?(r.push(n),n=""):"\r"===a?(r.push(n),n="","\n"===t[e]&&e++):n+=a}return{lines:r,incompleteLine:n}}function ep(e){let t={};return e.headers.forEach((e,r)=>{t[r]=e}),t}function eh(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>null!=t))}function em(e){return e instanceof Error&&("AbortError"===e.name||"TimeoutError"===e.name)}(({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let a=es(r,t);if(null!=e){if(r.includes(n))throw new R({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return t=>`${e}${n}${a(t)}`}})();function ey({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if("string"==typeof e)return e;if(null!=e)throw new Z({message:`${n} API key must be a string.`});if(void 0===eu)throw new Z({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(null==(e=eu.env[t]))throw new Z({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if("string"!=typeof e)throw new Z({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}var eg=Symbol.for("vercel.ai.validator");function ev(e){return{[eg]:!0,validate:e}}function eb(e){return"object"==typeof e&&null!==e&&eg in e&&!0===e[eg]&&"validate"in e}function e_(e){return eb(e)?e:ew(e)}function ew(e){return ev(t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}})}function e$({value:e,schema:t}){let r=eS({value:e,schema:t});if(!r.success)throw et.wrap({value:e,cause:r.error});return r.value}function eS({value:e,schema:t}){let r=e_(t);try{if(null==r.validate)return{success:!0,value:e};let t=r.validate(e);if(t.success)return t;return{success:!1,error:et.wrap({value:e,cause:t.error})}}catch(t){return{success:!1,error:et.wrap({value:e,cause:t})}}}function eE({text:e,schema:t}){try{let r=el.parse(e);if(null==t)return r;return e$({value:r,schema:t})}catch(t){if(B.isInstance(t)||et.isInstance(t))throw t;throw new B({text:e,cause:t})}}function ex({text:e,schema:t}){try{let r=el.parse(e);if(null==t)return{success:!0,value:r,rawValue:r};let n=eS({value:r,schema:t});return n.success?{...n,rawValue:r}:n}catch(t){return{success:!1,error:B.isInstance(t)?t:new B({text:e,cause:t})}}}var eA=()=>globalThis.fetch,ek=async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o})=>eO({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o}),eO=async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:a,abortSignal:i,fetch:o=eA()})=>{try{let s=await o(e,{method:"POST",headers:eh(t),body:r.content,signal:i}),l=ep(s);if(!s.ok){let t;try{t=await a({response:s,url:e,requestBodyValues:r.values})}catch(t){if(em(t)||E.isInstance(t))throw t;throw new E({message:"Failed to process error response",cause:t,statusCode:s.status,url:e,responseHeaders:l,requestBodyValues:r.values})}throw t.value}try{return await n({response:s,url:e,requestBodyValues:r.values})}catch(t){if(t instanceof Error&&(em(t)||E.isInstance(t)))throw t;throw new E({message:"Failed to process successful response",cause:t,statusCode:s.status,url:e,responseHeaders:l,requestBodyValues:r.values})}}catch(t){if(em(t))throw t;if(t instanceof TypeError&&"fetch failed"===t.message){let n=t.cause;if(null!=n)throw new E({message:`Cannot connect to API: ${n.message}`,cause:n,url:e,requestBodyValues:r.values,isRetryable:!0})}throw t}},eI=({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:a,requestBodyValues:i})=>{let o=await n.text(),s=ep(n);if(""===o.trim())return{responseHeaders:s,value:new E({message:n.statusText,url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,isRetryable:null==r?void 0:r(n)})};try{let l=eE({text:o,schema:e});return{responseHeaders:s,value:new E({message:t(l),url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,data:l,isRetryable:null==r?void 0:r(n,l)})}}catch(e){return{responseHeaders:s,value:new E({message:n.statusText,url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,isRetryable:null==r?void 0:r(n)})}}},eC=e=>async({response:t})=>{let r=ep(t);if(null==t.body)throw new O({});return{responseHeaders:r,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(ed()).pipeThrough(new TransformStream({transform({data:t},r){"[DONE]"!==t&&r.enqueue(ex({text:t,schema:e}))}}))}},eT=e=>async({response:t,url:r,requestBodyValues:n})=>{let a=await t.text(),i=ex({text:a,schema:e}),o=ep(t);if(!i.success)throw new E({message:"Invalid JSON response",cause:i.error,statusCode:t.status,responseHeaders:o,responseBody:a,url:r,requestBodyValues:n});return{responseHeaders:o,value:i.value,rawValue:i.rawValue}},{btoa:eP,atob:eR}=globalThis;function eN(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return eP(t)}function ej(e){return null==e?void 0:e.replace(/\/$/,"")}var eM=r(31078);function eL(e){let t=[];for(let r=0;r<e.length;r++){let{role:n,content:a}=e[r],i=r===e.length-1;switch(n){case"system":t.push({role:"system",content:a});break;case"user":t.push({role:"user",content:a.map(e=>{var t;switch(e.type){case"text":return{type:"text",text:e.text};case"image":return{type:"image_url",image_url:e.image instanceof URL?e.image.toString():`data:${null!=(t=e.mimeType)?t:"image/jpeg"};base64,${eN(e.image)}`};case"file":if(!(e.data instanceof URL))throw new ei({functionality:"File content parts in user messages"});if("application/pdf"===e.mimeType)return{type:"document_url",document_url:e.data.toString()};throw new ei({functionality:"Only PDF files are supported in user messages"})}})});break;case"assistant":{let e="",r=[];for(let t of a)switch(t.type){case"text":e+=t.text;break;case"tool-call":r.push({id:t.toolCallId,type:"function",function:{name:t.toolName,arguments:JSON.stringify(t.args)}})}t.push({role:"assistant",content:e,prefix:!!i||void 0,tool_calls:r.length>0?r:void 0});break}case"tool":for(let e of a)t.push({role:"tool",name:e.toolName,content:JSON.stringify(e.result),tool_call_id:e.toolCallId});break;default:{let e=n;throw Error(`Unsupported role: ${e}`)}}}return t}function eD(e){switch(e){case"stop":return"stop";case"length":case"model_length":return"length";case"tool_calls":return"tool-calls";default:return"unknown"}}var eB=eI({errorSchema:eM.z.object({object:eM.z.literal("error"),message:eM.z.string(),type:eM.z.string(),param:eM.z.string().nullable(),code:eM.z.string().nullable()}),errorToMessage:e=>e.message});function eF({id:e,model:t,created:r}){return{id:null!=e?e:void 0,modelId:null!=t?t:void 0,timestamp:null!=r?new Date(1e3*r):void 0}}function ez(e){var t;let r=(null==(t=e.tools)?void 0:t.length)?e.tools:void 0,n=[];if(null==r)return{tools:void 0,tool_choice:void 0,toolWarnings:n};let a=[];for(let e of r)"provider-defined"===e.type?n.push({type:"unsupported-tool",tool:e}):a.push({type:"function",function:{name:e.name,description:e.description,parameters:e.parameters}});let i=e.toolChoice;if(null==i)return{tools:a,tool_choice:void 0,toolWarnings:n};let o=i.type;switch(o){case"auto":case"none":return{tools:a,tool_choice:o,toolWarnings:n};case"required":return{tools:a,tool_choice:"any",toolWarnings:n};case"tool":return{tools:a.filter(e=>e.function.name===i.toolName),tool_choice:"any",toolWarnings:n};default:{let e=o;throw new ei({functionality:`Unsupported tool choice type: ${e}`})}}}var eU=class{constructor(e,t,r){this.specificationVersion="v1",this.defaultObjectGenerationMode="json",this.supportsImageUrls=!1,this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}supportsUrl(e){return"https:"===e.protocol}getArgs({mode:e,prompt:t,maxTokens:r,temperature:n,topP:a,topK:i,frequencyPenalty:o,presencePenalty:s,stopSequences:l,responseFormat:u,seed:c,providerMetadata:d}){var f,p;let h=e.type,m=[];null!=i&&m.push({type:"unsupported-setting",setting:"topK"}),null!=o&&m.push({type:"unsupported-setting",setting:"frequencyPenalty"}),null!=s&&m.push({type:"unsupported-setting",setting:"presencePenalty"}),null!=l&&m.push({type:"unsupported-setting",setting:"stopSequences"}),null!=u&&"json"===u.type&&null!=u.schema&&m.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is not supported"});let y={model:this.modelId,safe_prompt:this.settings.safePrompt,max_tokens:r,temperature:n,top_p:a,random_seed:c,response_format:(null==u?void 0:u.type)==="json"?{type:"json_object"}:void 0,document_image_limit:null==(f=null==d?void 0:d.mistral)?void 0:f.documentImageLimit,document_page_limit:null==(p=null==d?void 0:d.mistral)?void 0:p.documentPageLimit,messages:eL(t)};switch(h){case"regular":{let{tools:t,tool_choice:r,toolWarnings:n}=ez(e);return{args:{...y,tools:t,tool_choice:r},warnings:[...m,...n]}}case"object-json":return{args:{...y,response_format:{type:"json_object"}},warnings:m};case"object-tool":return{args:{...y,tool_choice:"any",tools:[{type:"function",function:e.tool}]},warnings:m};default:{let e=h;throw Error(`Unsupported type: ${e}`)}}}async doGenerate(e){var t;let{args:r,warnings:n}=this.getArgs(e),{responseHeaders:a,value:i,rawValue:o}=await ek({url:`${this.config.baseURL}/chat/completions`,headers:ec(this.config.headers(),e.headers),body:r,failedResponseHandler:eB,successfulResponseHandler:eT(eV),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:s,...l}=r,u=i.choices[0],c=eZ(u.message.content),d=s[s.length-1];return"assistant"===d.role&&(null==c?void 0:c.startsWith(d.content))&&(c=c.slice(d.content.length)),{text:c,toolCalls:null==(t=u.message.tool_calls)?void 0:t.map(e=>({toolCallType:"function",toolCallId:e.id,toolName:e.function.name,args:e.function.arguments})),finishReason:eD(u.finish_reason),usage:{promptTokens:i.usage.prompt_tokens,completionTokens:i.usage.completion_tokens},rawCall:{rawPrompt:s,rawSettings:l},rawResponse:{headers:a,body:o},request:{body:JSON.stringify(r)},response:eF(i),warnings:n}}async doStream(e){let{args:t,warnings:r}=this.getArgs(e),n={...t,stream:!0},{responseHeaders:a,value:i}=await ek({url:`${this.config.baseURL}/chat/completions`,headers:ec(this.config.headers(),e.headers),body:n,failedResponseHandler:eB,successfulResponseHandler:eC(eW),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:o,...s}=t,l="unknown",u={promptTokens:Number.NaN,completionTokens:Number.NaN},c=0,d=!1;return{stream:i.pipeThrough(new TransformStream({transform(e,t){if(!e.success)return void t.enqueue({type:"error",error:e.error});c++;let r=e.value;1===c&&t.enqueue({type:"response-metadata",...eF(r)}),null!=r.usage&&(u={promptTokens:r.usage.prompt_tokens,completionTokens:r.usage.completion_tokens});let n=r.choices[0];if((null==n?void 0:n.finish_reason)!=null&&(l=eD(n.finish_reason)),(null==n?void 0:n.delta)==null)return;let a=n.delta,i=eZ(a.content);if(c<=2){let e=o[o.length-1];if("assistant"===e.role&&i===e.content.trimEnd()){i.length<e.content.length&&(d=!0);return}}if(null!=i&&(t.enqueue({type:"text-delta",textDelta:d?i.trimStart():i}),d=!1),null!=a.tool_calls)for(let e of a.tool_calls)t.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:e.id,toolName:e.function.name,argsTextDelta:e.function.arguments}),t.enqueue({type:"tool-call",toolCallType:"function",toolCallId:e.id,toolName:e.function.name,args:e.function.arguments})},flush(e){e.enqueue({type:"finish",finishReason:l,usage:u})}})),rawCall:{rawPrompt:o,rawSettings:s},rawResponse:{headers:a},request:{body:JSON.stringify(n)},warnings:r}}};function eZ(e){if("string"==typeof e)return e;if(null==e)return;let t=[];for(let r of e){let{type:e}=r;switch(e){case"text":t.push(r.text);break;case"image_url":case"reference":break;default:{let t=e;throw Error(`Unsupported type: ${t}`)}}}return t.length?t.join(""):void 0}var eH=eM.z.union([eM.z.string(),eM.z.array(eM.z.discriminatedUnion("type",[eM.z.object({type:eM.z.literal("text"),text:eM.z.string()}),eM.z.object({type:eM.z.literal("image_url"),image_url:eM.z.union([eM.z.string(),eM.z.object({url:eM.z.string(),detail:eM.z.string().nullable()})])}),eM.z.object({type:eM.z.literal("reference"),reference_ids:eM.z.array(eM.z.number())})]))]).nullish(),eV=eM.z.object({id:eM.z.string().nullish(),created:eM.z.number().nullish(),model:eM.z.string().nullish(),choices:eM.z.array(eM.z.object({message:eM.z.object({role:eM.z.literal("assistant"),content:eH,tool_calls:eM.z.array(eM.z.object({id:eM.z.string(),function:eM.z.object({name:eM.z.string(),arguments:eM.z.string()})})).nullish()}),index:eM.z.number(),finish_reason:eM.z.string().nullish()})),object:eM.z.literal("chat.completion"),usage:eM.z.object({prompt_tokens:eM.z.number(),completion_tokens:eM.z.number()})}),eW=eM.z.object({id:eM.z.string().nullish(),created:eM.z.number().nullish(),model:eM.z.string().nullish(),choices:eM.z.array(eM.z.object({delta:eM.z.object({role:eM.z.enum(["assistant"]).optional(),content:eH,tool_calls:eM.z.array(eM.z.object({id:eM.z.string(),function:eM.z.object({name:eM.z.string(),arguments:eM.z.string()})})).nullish()}),finish_reason:eM.z.string().nullish(),index:eM.z.number()})),usage:eM.z.object({prompt_tokens:eM.z.number(),completion_tokens:eM.z.number()}).nullish()}),eq=class{constructor(e,t,r){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return null!=(e=this.settings.maxEmbeddingsPerCall)?e:32}get supportsParallelCalls(){var e;return null!=(e=this.settings.supportsParallelCalls)&&e}async doEmbed({values:e,abortSignal:t,headers:r}){if(e.length>this.maxEmbeddingsPerCall)throw new J({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let{responseHeaders:n,value:a}=await ek({url:`${this.config.baseURL}/embeddings`,headers:ec(this.config.headers(),r),body:{model:this.modelId,input:e,encoding_format:"float"},failedResponseHandler:eB,successfulResponseHandler:eT(eK),abortSignal:t,fetch:this.config.fetch});return{embeddings:a.data.map(e=>e.embedding),usage:a.usage?{tokens:a.usage.prompt_tokens}:void 0,rawResponse:{headers:n}}}},eK=eM.z.object({data:eM.z.array(eM.z.object({embedding:eM.z.array(eM.z.number())})),usage:eM.z.object({prompt_tokens:eM.z.number()}).nullish()});function eG(e={}){var t;let r=null!=(t=ej(e.baseURL))?t:"https://api.mistral.ai/v1",n=()=>({Authorization:`Bearer ${ey({apiKey:e.apiKey,environmentVariableName:"MISTRAL_API_KEY",description:"Mistral"})}`,...e.headers}),a=(t,a={})=>new eU(t,a,{provider:"mistral.chat",baseURL:r,headers:n,fetch:e.fetch}),i=(t,a={})=>new eq(t,a,{provider:"mistral.embedding",baseURL:r,headers:n,fetch:e.fetch}),o=function(e,t){if(new.target)throw Error("The Mistral model function cannot be called with the new keyword.");return a(e,t)};return o.languageModel=a,o.chat=a,o.embedding=i,o.textEmbedding=i,o.textEmbeddingModel=i,o}eG()},90629:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var n=a(r(29203));function a(e){return e&&e.__esModule?e:{default:e}}var i={all_lowercase:!0,gmail_lowercase:!0,gmail_remove_dots:!0,gmail_remove_subaddress:!0,gmail_convert_googlemaildotcom:!0,outlookdotcom_lowercase:!0,outlookdotcom_remove_subaddress:!0,yahoo_lowercase:!0,yahoo_remove_subaddress:!0,yandex_lowercase:!0,icloud_lowercase:!0,icloud_remove_subaddress:!0},o=["icloud.com","me.com"],s=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"],l=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"],u=["yandex.ru","yandex.ua","yandex.kz","yandex.com","yandex.by","ya.ru"];function c(e){return e.length>1?e:""}function d(e,t){t=(0,n.default)(t,i);var r=e.split("@"),a=r.pop(),d=[r.join("@"),a];if(d[1]=d[1].toLowerCase(),"gmail.com"===d[1]||"googlemail.com"===d[1]){if(t.gmail_remove_subaddress&&(d[0]=d[0].split("+")[0]),t.gmail_remove_dots&&(d[0]=d[0].replace(/\.+/g,c)),!d[0].length)return!1;(t.all_lowercase||t.gmail_lowercase)&&(d[0]=d[0].toLowerCase()),d[1]=t.gmail_convert_googlemaildotcom?"gmail.com":d[1]}else if(o.indexOf(d[1])>=0){if(t.icloud_remove_subaddress&&(d[0]=d[0].split("+")[0]),!d[0].length)return!1;(t.all_lowercase||t.icloud_lowercase)&&(d[0]=d[0].toLowerCase())}else if(s.indexOf(d[1])>=0){if(t.outlookdotcom_remove_subaddress&&(d[0]=d[0].split("+")[0]),!d[0].length)return!1;(t.all_lowercase||t.outlookdotcom_lowercase)&&(d[0]=d[0].toLowerCase())}else if(l.indexOf(d[1])>=0){if(t.yahoo_remove_subaddress){var f=d[0].split("-");d[0]=f.length>1?f.slice(0,-1).join("-"):f[0]}if(!d[0].length)return!1;(t.all_lowercase||t.yahoo_lowercase)&&(d[0]=d[0].toLowerCase())}else u.indexOf(d[1])>=0?((t.all_lowercase||t.yandex_lowercase)&&(d[0]=d[0].toLowerCase()),d[1]="yandex.ru"):t.all_lowercase&&(d[0]=d[0].toLowerCase());return d.join("@")}e.exports=t.default,e.exports.default=t.default},91385:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=i(r(79922)),a=i(r(60091));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){(0,n.default)(e);var t=e.split(".");return 3===t.length&&t.reduce(function(e,t){return e&&(0,a.default)(t,{urlSafe:!0})},!0)}e.exports=t.default,e.exports.default=t.default},91428:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=/^(?!(1[3-9])|(20)|(3[3-9])|(4[0-9])|(5[0-9])|(60)|(7[3-9])|(8[1-9])|(9[0-2])|(9[3-9]))[0-9]{9}$/;function o(e){if((0,n.default)(e),!i.test(e))return!1;for(var t=0,r=0;r<e.length;r++)r%3==0?t+=3*e[r]:r%3==1?t+=7*e[r]:t+=+e[r];return t%10==0}e.exports=t.default,e.exports.default=t.default},91526:(e,t,r)=>{"use strict";let n=r(26189);e.exports=(e,t,r)=>0>n(e,t,r)},91925:e=>{"use strict";e.exports=Math.floor},92178:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=i(r(79922)),a=i(r(83637));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return(0,n.default)(e),(0,a.default)(e)%parseInt(t,10)==0}e.exports=t.default,e.exports.default=t.default},92349:(e,t,r)=>{"use strict";n={value:!0};var n=n=n=t.Nk=n=n=n=n=n=n=void 0,a=h(r(59748)),i=h(r(80124)),o=h(r(1956)),s=h(r(43232)),l=h(r(72643)),u=h(r(46440)),c=h(r(78805)),d=h(r(26882)),f=h(r(20970)),p=h(r(47967));function h(e){return e&&e.__esModule?e:{default:e}}n=a.default,n=i.default,n=o.default,n=s.default,n=l.default,n=u.default,t.Nk=c.default,n=d.default,n=f.default,n=p.default,n={Link:a.default,Button:i.default,Element:o.default,scroller:s.default,Events:l.default,scrollSpy:u.default,animateScroll:c.default,ScrollLink:d.default,ScrollElement:f.default,Helpers:p.default}},92648:(e,t,r)=>{"use strict";let n=r(26189);e.exports=(e,t,r)=>0===n(e,t,r)},92709:e=>{"use strict";e.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},92781:(e,t,r)=>{var n=r(9823).Buffer,a=r(15618),i=r(3347),o=r(46994),s=r(21175),l=r(84864),u=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function c(e){return"[object Object]"===Object.prototype.toString.call(e)}function d(e){if(c(e))return e;try{return JSON.parse(e)}catch(e){return}}function f(e){var t=e.split(".",1)[0];return d(n.from(t,"base64").toString("binary"))}function p(e){return e.split(".",2).join(".")}function h(e){return e.split(".")[2]}function m(e,t){t=t||"utf8";var r=e.split(".")[1];return n.from(r,"base64").toString(t)}function y(e){return u.test(e)&&!!f(e)}function g(e,t,r){if(!t){var n=Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}var a=h(e=s(e)),o=p(e);return i(t).verify(o,a,r)}function v(e,t){if(t=t||{},!y(e=s(e)))return null;var r=f(e);if(!r)return null;var n=m(e);return("JWT"===r.typ||t.json)&&(n=JSON.parse(n,t.encoding)),{header:r,payload:n,signature:h(e)}}function b(e){var t=new a((e=e||{}).secret||e.publicKey||e.key);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=t,this.signature=new a(e.signature),this.secret.once("close",(function(){!this.signature.writable&&this.readable&&this.verify()}).bind(this)),this.signature.once("close",(function(){!this.secret.writable&&this.readable&&this.verify()}).bind(this))}l.inherits(b,o),b.prototype.verify=function(){try{var e=g(this.signature.buffer,this.algorithm,this.key.buffer),t=v(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},b.decode=v,b.isValid=y,b.verify=g,e.exports=b},92946:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return(0,n.default)(e),parseInt(e,t||10)}e.exports=t.default,e.exports.default=t.default},93563:(e,t)=>{"use strict";function r(e){for(var t=10,r=0;r<e.length-1;r++)t=(parseInt(e[r],10)+t)%10==0?9:(parseInt(e[r],10)+t)%10*2%11;return(t=1===t?0:11-t)===parseInt(e[10],10)}function n(e){for(var t=0,r=!1,n=e.length-1;n>=0;n--){if(r){var a=2*parseInt(e[n],10);a>9?t+=a.toString().split("").map(function(e){return parseInt(e,10)}).reduce(function(e,t){return e+t},0):t+=a}else t+=parseInt(e[n],10);r=!r}return t%10==0}function a(e,t){for(var r=0,n=0;n<e.length;n++)r+=e[n]*(t-n);return r}function i(e){for(var t=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],r=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],n=e.split("").reverse().join(""),a=0,i=0;i<n.length;i++)a=t[a][r[i%8][parseInt(n[i],10)]];return 0===a}Object.defineProperty(t,"__esModule",{value:!0}),t.iso7064Check=r,t.luhnCheck=n,t.reverseMultiplyAndSum=a,t.verhoeffCheck=i},94265:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i={"cs-CZ":function(e){return/^(([ABCDEFHIJKLMNPRSTUVXYZ]|[0-9])-?){5,8}$/.test(e)},"de-DE":function(e){return/^((A|AA|AB|AC|AE|AH|AK|AM|AN|AÖ|AP|AS|AT|AU|AW|AZ|B|BA|BB|BC|BE|BF|BH|BI|BK|BL|BM|BN|BO|BÖ|BS|BT|BZ|C|CA|CB|CE|CO|CR|CW|D|DA|DD|DE|DH|DI|DL|DM|DN|DO|DU|DW|DZ|E|EA|EB|ED|EE|EF|EG|EH|EI|EL|EM|EN|ER|ES|EU|EW|F|FB|FD|FF|FG|FI|FL|FN|FO|FR|FS|FT|FÜ|FW|FZ|G|GA|GC|GD|GE|GF|GG|GI|GK|GL|GM|GN|GÖ|GP|GR|GS|GT|GÜ|GV|GW|GZ|H|HA|HB|HC|HD|HE|HF|HG|HH|HI|HK|HL|HM|HN|HO|HP|HR|HS|HU|HV|HX|HY|HZ|IK|IL|IN|IZ|J|JE|JL|K|KA|KB|KC|KE|KF|KG|KH|KI|KK|KL|KM|KN|KO|KR|KS|KT|KU|KW|KY|L|LA|LB|LC|LD|LF|LG|LH|LI|LL|LM|LN|LÖ|LP|LR|LU|M|MA|MB|MC|MD|ME|MG|MH|MI|MK|ML|MM|MN|MO|MQ|MR|MS|MÜ|MW|MY|MZ|N|NB|ND|NE|NF|NH|NI|NK|NM|NÖ|NP|NR|NT|NU|NW|NY|NZ|OA|OB|OC|OD|OE|OF|OG|OH|OK|OL|OP|OS|OZ|P|PA|PB|PE|PF|PI|PL|PM|PN|PR|PS|PW|PZ|R|RA|RC|RD|RE|RG|RH|RI|RL|RM|RN|RO|RP|RS|RT|RU|RV|RW|RZ|S|SB|SC|SE|SG|SI|SK|SL|SM|SN|SO|SP|SR|ST|SU|SW|SY|SZ|TE|TF|TG|TO|TP|TR|TS|TT|TÜ|ÜB|UE|UH|UL|UM|UN|V|VB|VG|VK|VR|VS|W|WA|WB|WE|WF|WI|WK|WL|WM|WN|WO|WR|WS|WT|WÜ|WW|WZ|Z|ZE|ZI|ZP|ZR|ZW|ZZ)[- ]?[A-Z]{1,2}[- ]?\d{1,4}|(ABG|ABI|AIB|AIC|ALF|ALZ|ANA|ANG|ANK|APD|ARN|ART|ASL|ASZ|AUR|AZE|BAD|BAR|BBG|BCH|BED|BER|BGD|BGL|BID|BIN|BIR|BIT|BIW|BKS|BLB|BLK|BNA|BOG|BOH|BOR|BOT|BRA|BRB|BRG|BRK|BRL|BRV|BSB|BSK|BTF|BÜD|BUL|BÜR|BÜS|BÜZ|CAS|CHA|CLP|CLZ|COC|COE|CUX|DAH|DAN|DAU|DBR|DEG|DEL|DGF|DIL|DIN|DIZ|DKB|DLG|DON|DUD|DÜW|EBE|EBN|EBS|ECK|EIC|EIL|EIN|EIS|EMD|EMS|ERB|ERH|ERK|ERZ|ESB|ESW|FDB|FDS|FEU|FFB|FKB|FLÖ|FOR|FRG|FRI|FRW|FTL|FÜS|GAN|GAP|GDB|GEL|GEO|GER|GHA|GHC|GLA|GMN|GNT|GOA|GOH|GRA|GRH|GRI|GRM|GRZ|GTH|GUB|GUN|GVM|HAB|HAL|HAM|HAS|HBN|HBS|HCH|HDH|HDL|HEB|HEF|HEI|HER|HET|HGN|HGW|HHM|HIG|HIP|HMÜ|HOG|HOH|HOL|HOM|HOR|HÖS|HOT|HRO|HSK|HST|HVL|HWI|IGB|ILL|JÜL|KEH|KEL|KEM|KIB|KLE|KLZ|KÖN|KÖT|KÖZ|KRU|KÜN|KUS|KYF|LAN|LAU|LBS|LBZ|LDK|LDS|LEO|LER|LEV|LIB|LIF|LIP|LÖB|LOS|LRO|LSZ|LÜN|LUP|LWL|MAB|MAI|MAK|MAL|MED|MEG|MEI|MEK|MEL|MER|MET|MGH|MGN|MHL|MIL|MKK|MOD|MOL|MON|MOS|MSE|MSH|MSP|MST|MTK|MTL|MÜB|MÜR|MYK|MZG|NAB|NAI|NAU|NDH|NEA|NEB|NEC|NEN|NES|NEW|NMB|NMS|NOH|NOL|NOM|NOR|NVP|NWM|OAL|OBB|OBG|OCH|OHA|ÖHR|OHV|OHZ|OPR|OSL|OVI|OVL|OVP|PAF|PAN|PAR|PCH|PEG|PIR|PLÖ|PRÜ|QFT|QLB|RDG|REG|REH|REI|RID|RIE|ROD|ROF|ROK|ROL|ROS|ROT|ROW|RSL|RÜD|RÜG|SAB|SAD|SAN|SAW|SBG|SBK|SCZ|SDH|SDL|SDT|SEB|SEE|SEF|SEL|SFB|SFT|SGH|SHA|SHG|SHK|SHL|SIG|SIM|SLE|SLF|SLK|SLN|SLS|SLÜ|SLZ|SMÜ|SOB|SOG|SOK|SÖM|SON|SPB|SPN|SRB|SRO|STA|STB|STD|STE|STL|SUL|SÜW|SWA|SZB|TBB|TDO|TET|TIR|TÖL|TUT|UEM|UER|UFF|USI|VAI|VEC|VER|VIB|VIE|VIT|VOH|WAF|WAK|WAN|WAR|WAT|WBS|WDA|WEL|WEN|WER|WES|WHV|WIL|WIS|WIT|WIZ|WLG|WMS|WND|WOB|WOH|WOL|WOR|WOS|WRN|WSF|WST|WSW|WTL|WTM|WUG|WÜM|WUN|WUR|WZL|ZEL|ZIG)[- ]?(([A-Z][- ]?\d{1,4})|([A-Z]{2}[- ]?\d{1,3})))[- ]?(E|H)?$/.test(e)},"de-LI":function(e){return/^FL[- ]?\d{1,5}[UZ]?$/.test(e)},"en-IN":function(e){return/^[A-Z]{2}[ -]?[0-9]{1,2}(?:[ -]?[A-Z])(?:[ -]?[A-Z]*)?[ -]?[0-9]{4}$/.test(e)},"es-AR":function(e){return/^(([A-Z]{2} ?[0-9]{3} ?[A-Z]{2})|([A-Z]{3} ?[0-9]{3}))$/.test(e)},"fi-FI":function(e){return/^(?=.{4,7})(([A-Z]{1,3}|[0-9]{1,3})[\s-]?([A-Z]{1,3}|[0-9]{1,5}))$/.test(e)},"hu-HU":function(e){return/^((((?!AAA)(([A-NPRSTVZWXY]{1})([A-PR-Z]{1})([A-HJ-NPR-Z]))|(A[ABC]I)|A[ABC]O|A[A-W]Q|BPI|BPO|UCO|UDO|XAO)-(?!000)\d{3})|(M\d{6})|((CK|DT|CD|HC|H[ABEFIKLMNPRSTVX]|MA|OT|R[A-Z]) \d{2}-\d{2})|(CD \d{3}-\d{3})|(C-(C|X) \d{4})|(X-(A|B|C) \d{4})|(([EPVZ]-\d{5}))|(S A[A-Z]{2} \d{2})|(SP \d{2}-\d{2}))$/.test(e)},"pt-BR":function(e){return/^[A-Z]{3}[ -]?[0-9][A-Z][0-9]{2}|[A-Z]{3}[ -]?[0-9]{4}$/.test(e)},"pt-PT":function(e){return/^([A-Z]{2}|[0-9]{2})[ -·]?([A-Z]{2}|[0-9]{2})[ -·]?([A-Z]{2}|[0-9]{2})$/.test(e)},"sq-AL":function(e){return/^[A-Z]{2}[- ]?((\d{3}[- ]?(([A-Z]{2})|T))|(R[- ]?\d{3}))$/.test(e)},"sv-SE":function(e){return/^[A-HJ-PR-UW-Z]{3} ?[\d]{2}[A-HJ-PR-UW-Z1-9]$|(^[A-ZÅÄÖ ]{2,7}$)/.test(e.trim())},"en-PK":function(e){return/(^[A-Z]{2}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]{3}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]{4}((\s|-){0,1})[0-9]{3,4}((\s|-)[0-9]{2}){0,1}$)|(^[A-Z]((\s|-){0,1})[0-9]{4}((\s|-)[0-9]{2}){0,1}$)/.test(e.trim())}};function o(e,t){if((0,n.default)(e),t in i)return i[t](e);if("any"===t){for(var r in i)if((0,i[r])(e))return!0;return!1}throw Error("Invalid locale '".concat(t,"'"))}e.exports=t.default,e.exports.default=t.default},94762:(e,t,r)=>{"use strict";let n=r(92648),a=r(84426),i=r(44689),o=r(50736),s=r(91526),l=r(72925);e.exports=(e,t,r,u)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,u);case"!=":return a(e,r,u);case">":return i(e,r,u);case">=":return o(e,r,u);case"<":return s(e,r,u);case"<=":return l(e,r,u);default:throw TypeError(`Invalid operator: ${t}`)}}},95185:e=>{"use strict";e.exports=Function.prototype.call},95232:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>iB,h1:()=>iF});let n={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|3(?:[0-3589]\\d|4[0-578]|6[1-9]|7[0-35-9])|7(?:[013-57-9]\\d|2[0-8]))\\d{3}|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4]))|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:(?:79|94)[01]|83[0-389])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[016-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|22"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","[025-7]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[025-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[047]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","[24-689]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]]]],BL:["590","00","590\\d{6}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|5[12]|87)\\d{4}"],["69(?:0\\d\\d|1(?:2[2-9]|3[0-5]))\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:395|76[018])\\d|475[0-2])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","(?:[2-467]\\d\\d|8001)\\d{5}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[23]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","(?:[1-46-9]\\d\\d|5(?:[0-46-9]\\d|5[0-46-9]))\\d{8}|[1-9]\\d{9}|[3589]\\d{8}|[34]\\d{7}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37)","4(?:02|37)0|[34]00"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[17]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|7"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-79]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","(?:[2-8]\\d|90)\\d{8}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|50|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|73)|90[25])[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:00|2[125-9]|33|44|66|77|88)|622)[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:(?:79|94)[01]|83[0-389])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[016-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","[189]\\d{8}|[1-68]\\d{6}",[7,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9[2-9]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-9]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","1[127]\\d{8,9}|2\\d{9}(?:\\d{2})?|[12]\\d{6,7}|86\\d{6}|(?:1[03-689]\\d|6)\\d{7,9}|(?:[3-579]\\d|8[0-57-9])\\d{6,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]","(?:10|2[0-57-9])(?:10|9[56])","10(?:10|9[56])|2[0-57-9](?:100|9[56])"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:60\\d\\d|9101)\\d{6}|(?:1\\d|3)\\d{9}",[10,11],[["(\\d{3})(\\d{7})","$1 $2",["6"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|91"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0(4(?:[14]4|56)|[579])?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","[27]\\d{6,7}|[34]\\d{5,7}|(?:5|8\\d\\d)\\d{7}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["5"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:(?:79|94)[01]|83[0-389])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[016-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[0568]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[189]"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d)(\\d{4,9})","$1 $2",["[2568][1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["[12]00|[368]|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[1245]|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,0,0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0235])|4(?:[0-5]\\d\\d|69[7-9]|70[0-579])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|50))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-2]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","[56]94\\d{6}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[56]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","590\\d{6}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1289]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["69(?:0\\d\\d|1(?:2[2-9]|3[0-5]))\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:395|76[018])\\d|475[0-2])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([3-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","9008\\d{3}|(?:[2-467]\\d\\d|862)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-46-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","(?:[24-69]\\d|3[0-79])\\d{7}|80\\d{5,7}|[1-79]\\d{7}|6\\d{5,6}",[6,7,8,9],[["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-5]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","(?:[2-489]\\d|55)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","(?:(?:00[1-9]|8\\d)\\d{4}|[1-36])\\d{6}|00\\d{10}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,10}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["3"]]],0,0,0,0,0,0,[["0669[0-79]\\d{1,6}|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[1-9]\\d{8}|3[2-9]\\d{7}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],0,0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97[7-9]))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[257-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51|63)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9]|636)|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9]|636[457-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["[36]|4(?:2[09]|7[01])","[36]|4(?:2(?:0|9[02-69])|7(?:0[019]|1))"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[27-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9])|5(?:2|3[045]|4[0-369]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|49|51|6(?:[0-24]|36|5[0-3589]|72|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:49|55|83)[29]|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[23]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|72|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|7[015-9]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17|3[015-9]))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9(?:[019]|4[1-3]|6(?:[0-47-9]|5[01346-9])))|3(?:[29]|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[23]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|72|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|829(?:2|66)|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[257-9]"],"0$1"]],"0"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|(?:[235-8]\\d|99)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["30[013-9]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-7]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[25]\\d|33|77|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[4-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(8-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"8 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(8-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(8-$1)",1]],"8",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[269]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{5})(\\d{4})","$1-$2",["5(?:29|38)","5(?:29[1289]|389)","529(?:1[1-46-9]|2[013-8]|90)|5(?:298|389)[0-46-9]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-489]|3[5-9]|9)|892","5(?:2(?:[2-49]|8[235-9])|3[5-9]|9)|892"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5293[01]\\d{4}|5(?:2(?:[0-25-7]\\d|3[1-578]|4[02-46-8]|8[0235-7]|9[0-289])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[0189]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[017]\\d|2[0-2]|6[0-8]|8[0-3]))\\d{6}"],["80\\d{7}"],["89\\d{7}"],0,0,0,0,["592(?:4[0-2]|93)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","590\\d{6}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|30|5[0-268]|87)\\d{4}"],["69(?:0\\d\\d|1(?:2[2-9]|3[0-5]))\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:395|76[018])\\d|475[0-2])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["[45]|6(?:0[23]|[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-6]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","596\\d{6}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","1(?:(?:[27]2|44|99)[1-9]|65[0-689])\\d{7}|(?:1(?:[01]\\d|2[13-9]|[35][1-9]|4[0-35-9]|6[0-46-9]|7[013-9]|8[1-79]|9[1-8])|[2-9]\\d)\\d{8}",[10,11],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"],0,1],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 $3 $4",["1(?:33|5[56]|81)"],0,1],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 $3 $4",["1"],0,1]],"01",0,"0(?:[12]|4[45])|1",0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[047]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:[124-7]|9\\d{3})\\d{6}|[1-9]\\d{7}|[78]\\d{9,13}",[7,8,10,11,12,13,14],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["78"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|9(?:0[3-9]|[1-9])"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[3-7]|8[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:444|(?:55|8\\d)\\d|666)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[4-68]"]]]],NU:["683","00","(?:[47]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[29]\\d{7,9}|50\\d{5}(?:\\d{2,3})?|6[0-35-9]\\d{6}|7\\d{7,8}|8\\d{4,9}|(?:11\\d|[34])\\d{7}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-579]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|[89]0","50(?:[0367]|88)|[89]0"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[59]|80"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7|86"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|80\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-6])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[16]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2689]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-3]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:0[0-46]|1[013]|2[0-2]|3[0-39]|4\\d|5[0-5]|6[0-6]|7[0-27]|8[0-8]|9[0-479]))|9(?:399[0-3]|479[0-2]|76(?:2[27]|3[0-37]|9\\d)))\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,0,["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[2378]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[237-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,"3[04-689]|[489]",0,"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]]],"0"],SA:["966","00","92\\d{7}|(?:[15]|8\\d)\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["81"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","(?:[1-6]|[7-9]\\d\\d)\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","800\\d{4}|(?:[249]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-6]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|[57]9)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[3478]|64|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|68|[78]\\d)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-8]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|[89]00\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-39]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-5]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|[69]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2679]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","[0-57-9]\\d{8}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[34]7|91[78]"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3[1-5]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","[1-6]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["6"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|616)","5(?:[0-59]|6161)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["5056(?:[0-35-9]\\d|4[46])\\d{4}|(?:4722|505[2-57-9])\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-589]|3[149]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-57-9]|1[02-9]|2[01356]|3[0-24679]|4[167]|5[0-2]|6[014]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-47-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|[34][016]|5[01679]|6[0-279]|78|8[0-29])|7(?:0[1-46-8]|1[2-9]|2[04-7]|3[1247]|4[037]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[068]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-389]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"]]],UY:["598","0(?:0|1[3-9]\\d)","(?:0004|4)\\d{9}|[1249]\\d{7}|(?:[49]\\d|80)\\d{5}",[7,8,10,13],[["(\\d{3})(\\d{4})","$1 $2",["405|8|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["4"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","810","(?:33|[5-79]\\d|88)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[35-9]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[69]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[3578]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72)\\d{4}|8\\d{5}(?:\\d{3})?",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[478]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","[23]\\d{7,8}|(?:4\\d\\d|[89]00)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[23]"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","(?:(?:(?:26|63)9|80\\d)\\d|9398)\\d{5}",[9],0,"0",0,0,0,0,"269|63|9398"],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|63|[79]\\d)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[79]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[35-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[35-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"[0-36-9]\\d{8}",[9],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-36-9]"]]],0,0,0,0,0,0,[0,["[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,0,0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[013-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){return p(e)||f(e,t)||c(e,t)||u()}function u(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var i=[],o=!0,s=!1;try{for(a=a.call(e);!(o=(r=a.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){s=!0,n=e}finally{try{o||null==a.return||a.return()}finally{if(s)throw n}}return i}}function p(e){if(Array.isArray(e))return e}function h(e){var t,r,n,a=l(Array.prototype.slice.call(e),4),i=a[0],s=a[1],u=a[2],c=a[3];if("string"==typeof i)t=i;else throw TypeError("A text for parsing must be a string.");if(s&&"string"!=typeof s)if(m(s))u?(r=s,n=u):n=s;else throw Error("Invalid second argument: ".concat(s));else c?(r=u,n=c):(r=void 0,n=u),s&&(r=o({defaultCountry:s},r));return{text:t,options:r,metadata:n}}var m=function(e){return"object"===a(e)},y=2,g=17,v=3,b="0-9０-９٠-٩۰-۹",_="-‐-―−ー－",w="／/",$="．.",S=" \xa0\xad​⁠　",E="()（）［］\\[\\]",x="~⁓∼～",A="".concat(_).concat(w).concat($).concat(S).concat(E).concat(x),k="+＋";function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function C(e,t,r){return t&&I(e.prototype,t),r&&I(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function T(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function P(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}function R(e){var t=D();return function(){var r,n=z(e);return r=t?Reflect.construct(n,arguments,z(this).constructor):n.apply(this,arguments),N(this,r)}}function N(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){var t="function"==typeof Map?new Map:void 0;return(M=function(e){if(null===e||!B(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return L(e,arguments,z(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),F(r,e)})(e)}function L(e,t,r){return(L=D()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&F(a,r.prototype),a}).apply(null,arguments)}function D(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function B(e){return -1!==Function.toString.call(e).indexOf("[native code]")}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var U=function(e){P(r,e);var t=R(r);function r(e){var n;return T(this,r),Object.setPrototypeOf(j(n=t.call(this,e)),r.prototype),n.name=n.constructor.name,n}return C(r)}(M(Error));function Z(e,t){e=e.split("-"),t=t.split("-");for(var r=e[0].split("."),n=t[0].split("."),a=0;a<3;a++){var i=Number(r[a]),o=Number(n[a]);if(i>o)return 1;if(o>i)return -1;if(!isNaN(i)&&isNaN(o))return 1;if(isNaN(i)&&!isNaN(o))return -1}return e[1]&&t[1]?e[1]>t[1]?1:e[1]<t[1]?-1:0:!e[1]&&t[1]?1:e[1]&&!t[1]?-1:0}function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function W(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function q(e,t,r){return t&&W(e.prototype,t),r&&W(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var K="1.2.0",G="1.7.35",J=" ext. ",Y=/^\d+$/,X=function(){function e(t){V(this,e),ea(t),this.metadata=t,eu.call(this,t)}return q(e,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(e){return"001"!==e})}},{key:"getCountryMetadata",value:function(e){return this.metadata.countries[e]}},{key:"nonGeographic",value:function(){if(!this.v1&&!this.v2&&!this.v3)return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(e){return void 0!==this.getCountryMetadata(e)}},{key:"hasCallingCode",value:function(e){if(this.getCountryCodesForCallingCode(e))return!0;if(this.nonGeographic()){if(this.nonGeographic()[e])return!0}else{var t=this.countryCallingCodes()[e];if(t&&1===t.length&&"001"===t[0])return!0}}},{key:"isNonGeographicCallingCode",value:function(e){return this.nonGeographic()?!!this.nonGeographic()[e]:!this.getCountryCodesForCallingCode(e)}},{key:"country",value:function(e){return this.selectNumberingPlan(e)}},{key:"selectNumberingPlan",value:function(e,t){if(e&&Y.test(e)&&(t=e,e=null),e&&"001"!==e){if(!this.hasCountry(e))throw Error("Unknown country: ".concat(e));this.numberingPlan=new Q(this.getCountryMetadata(e),this)}else if(t){if(!this.hasCallingCode(t))throw Error("Unknown calling code: ".concat(t));this.numberingPlan=new Q(this.getNumberingPlanMetadata(t),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(e){var t=this.countryCallingCodes()[e];if(t){if(1===t.length&&3===t[0].length)return;return t}}},{key:"getCountryCodeForCallingCode",value:function(e){var t=this.getCountryCodesForCallingCode(e);if(t)return t[0]}},{key:"getNumberingPlanMetadata",value:function(e){var t=this.getCountryCodeForCallingCode(e);if(t)return this.getCountryMetadata(t);if(this.nonGeographic()){var r=this.nonGeographic()[e];if(r)return r}else{var n=this.countryCallingCodes()[e];if(n&&1===n.length&&"001"===n[0])return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(e){return this.numberingPlan.type(e)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(e){return this.selectNumberingPlan(e)}},{key:"hasSelectedNumberingPlan",value:function(){return void 0!==this.numberingPlan}}]),e}(),Q=function(){function e(t,r){V(this,e),this.globalMetadataObject=r,this.metadata=t,eu.call(this,r.metadata)}return q(e,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!this.v1&&!this.v2)return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!this.v1&&!this.v2)return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(e){return e[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var e=this;return(this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[]).map(function(t){return new ee(t,e)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(e){return e[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return(!this.types()||0!==this.types().length)&&!!this.types()}},{key:"type",value:function(e){if(this.hasTypes()&&en(this.types(),e))return new er(en(this.types(),e),this)}},{key:"ext",value:function(){return this.v1||this.v2?J:this.metadata[13]||J}}]),e}(),ee=function(){function e(t,r){V(this,e),this._format=t,this.metadata=r}return q(e,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!(!this.nationalPrefixFormattingRule()||et.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}]),e}(),et=/^\(?\$1\)?$/,er=function(){function e(t,r){V(this,e),this.type=t,this.metadata=r}return q(e,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}]),e}();function en(e,t){switch(t){case"FIXED_LINE":return e[0];case"MOBILE":return e[1];case"TOLL_FREE":return e[2];case"PREMIUM_RATE":return e[3];case"PERSONAL_NUMBER":return e[4];case"VOICEMAIL":return e[5];case"UAN":return e[6];case"PAGER":return e[7];case"VOIP":return e[8];case"SHARED_COST":return e[9]}}function ea(e){if(!e)throw Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!ei(e)||!ei(e.countries))throw Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(ei(e)?"an object of shape: { "+Object.keys(e).join(", ")+" }":"a "+eo(e)+": "+e,"."))}var ei=function(e){return"object"===H(e)},eo=function(e){return H(e)};function es(e,t){if((t=new X(t)).hasCountry(e))return t.country(e).countryCallingCode();throw Error("Unknown country: ".concat(e))}function el(e,t){return void 0!==t.countries[e]}function eu(e){var t=e.version;"number"==typeof t?(this.v1=1===t,this.v2=2===t,this.v3=3===t,this.v4=4===t):t?-1===Z(t,K)?this.v2=!0:-1===Z(t,G)?this.v3=!0:this.v4=!0:this.v1=!0}var ec=";ext=",ed=function(e){return"([".concat(b,"]{1,").concat(e,"})")};function ef(e){var t="20",r="15",n="9",a="6",i="[ \xa0\\t,]*",o="[:\\.．]?[ \xa0\\t,-]*",s="#?",l="(?:e?xt(?:ensi(?:ó?|\xf3))?n?|ｅ?ｘｔｎ?|доб|anexo)",u="(?:[xｘ#＃~～]|int|ｉｎｔ)",c="[- ]+",d="[ \xa0\\t]*",f="(?:,{2}|;)";return ec+ed(t)+"|"+(i+l+o+ed(t)+s)+"|"+(i+u+o+ed(n)+s)+"|"+(c+ed(a))+"#|"+(d+f+o+ed(r)+s)+"|"+(d+"(?:,)+"+o+ed(n))+s}var ep="["+b+"]{"+y+"}",eh="["+k+"]{0,1}(?:["+A+"]*["+b+"]){3,}["+A+b+"]*",em=RegExp("^["+k+"]{0,1}(?:["+A+"]*["+b+"]){1,2}$","i"),ey=RegExp("^"+ep+"$|^"+(eh+"(?:"+ef())+")?$","i");function eg(e){return e.length>=y&&ey.test(e)}function ev(e){return em.test(e)}var eb=RegExp("(?:"+ef()+")$","i");function e_(e){var t=e.search(eb);if(t<0)return{};for(var r=e.slice(0,t),n=e.match(eb),a=1;a<n.length;){if(n[a])return{number:r,ext:n[a]};a++}}function ew(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=e$(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function e$(e,t){if(e){if("string"==typeof e)return eS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eS(e,t)}}function eS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var eE={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9"};function ex(e){return eE[e]}function eA(e){for(var t,r="",n=ew(e.split(""));!(t=n()).done;){var a=ex(t.value);a&&(r+=a)}return r}function ek(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=eO(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function eO(e,t){if(e){if("string"==typeof e)return eI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eI(e,t)}}function eI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eC(e){for(var t,r="",n=ek(e.split(""));!(t=n()).done;){var a=t.value;r+=eT(a,r)||""}return r}function eT(e,t){if("+"===e){if(t)return;return"+"}return ex(e)}function eP(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=eR(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function eR(e,t){if(e){if("string"==typeof e)return eN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eN(e,t)}}function eN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ej(e,t){for(var r,n=e.slice(),a=eP(t);!(r=a()).done;){var i=r.value;0>e.indexOf(i)&&n.push(i)}return n.sort(function(e,t){return e-t})}function eM(e,t){return eL(e,void 0,t)}function eL(e,t,r){var n=r.type(t),a=n&&n.possibleLengths()||r.possibleLengths();if(!a)return"IS_POSSIBLE";if("FIXED_LINE_OR_MOBILE"===t){if(!r.type("FIXED_LINE"))return eL(e,"MOBILE",r);var i=r.type("MOBILE");i&&(a=ej(a,i.possibleLengths()))}else if(t&&!n)return"INVALID_LENGTH";var o=e.length,s=a[0];return s===o?"IS_POSSIBLE":s>o?"TOO_SHORT":a[a.length-1]<o?"TOO_LONG":a.indexOf(o,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function eD(e,t,r){if(void 0===t&&(t={}),r=new X(r),t.v2){if(!e.countryCallingCode)throw Error("Invalid phone number object passed");r.selectNumberingPlan(e.countryCallingCode)}else{if(!e.phone)return!1;if(e.country){if(!r.hasCountry(e.country))throw Error("Unknown country: ".concat(e.country));r.country(e.country)}else{if(!e.countryCallingCode)throw Error("Invalid phone number object passed");r.selectNumberingPlan(e.countryCallingCode)}}if(r.possibleLengths())return eB(e.phone||e.nationalNumber,r);if(e.countryCallingCode&&r.isNonGeographicCallingCode(e.countryCallingCode))return!0;throw Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function eB(e,t){return"IS_POSSIBLE"===eM(e,t)}function eF(e,t){return e=e||"",RegExp("^(?:"+t+")$").test(e)}function ez(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=eU(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function eU(e,t){if(e){if("string"==typeof e)return eZ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eZ(e,t)}}function eZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var eH=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function eV(e,t,r){if(t=t||{},e.country){(r=new X(r)).selectNumberingPlan(e.country,e.countryCallingCode);var n=t.v2?e.nationalNumber:e.phone;if(eF(n,r.nationalNumberPattern())){if(eW(n,"FIXED_LINE",r))return r.type("MOBILE")&&""===r.type("MOBILE").pattern()||!r.type("MOBILE")||eW(n,"MOBILE",r)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var a,i=ez(eH);!(a=i()).done;){var o=a.value;if(eW(n,o,r))return o}}}}function eW(e,t,r){return!(!(t=r.type(t))||!t.pattern()||t.possibleLengths()&&0>t.possibleLengths().indexOf(e.length))&&eF(e,t.pattern())}function eq(e,t,r){return(t=t||{},(r=new X(r)).selectNumberingPlan(e.country,e.countryCallingCode),r.hasTypes())?void 0!==eV(e,t,r.metadata):eF(t.v2?e.nationalNumber:e.phone,r.nationalNumberPattern())}function eK(e,t,r){var n=new X(r).getCountryCodesForCallingCode(e);return n?n.filter(function(e){return eG(t,e,r)}):[]}function eG(e,t,r){var n=new X(r);return n.selectNumberingPlan(t),n.numberingPlan.possibleLengths().indexOf(e.length)>=0}function eJ(e){return e.replace(RegExp("[".concat(A,"]+"),"g")," ").trim()}var eY=/(\$\d)/;function eX(e,t,r){var n=r.useInternationalFormat,a=r.withNationalPrefix;r.carrierCode,r.metadata;var i=e.replace(new RegExp(t.pattern()),n?t.internationalFormat():a&&t.nationalPrefixFormattingRule()?t.format().replace(eY,t.nationalPrefixFormattingRule()):t.format());return n?eJ(i):i}var eQ=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function e0(e,t,r){var n=new X(r);return(n.selectNumberingPlan(e,t),n.defaultIDDPrefix())?n.defaultIDDPrefix():eQ.test(n.IDDPrefix())?n.IDDPrefix():void 0}function e1(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function e2(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var i=[],o=!0,s=!1;try{for(a=a.call(e);!(o=(r=a.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){s=!0,n=e}finally{try{o||null==a.return||a.return()}finally{if(s)throw n}}return i}}function e3(e){if(Array.isArray(e))return e}function e9(e,t){if(e){if("string"==typeof e)return e4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e4(e,t)}}function e4(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function e8(e){var t=e.number,r=e.ext;if(!t)return"";if("+"!==t[0])throw Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(t).concat(r?";ext="+r:"")}function e6(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=e5(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function e5(e,t){if(e){if("string"==typeof e)return e7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e7(e,t)}}function e7(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach(function(t){tr(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tn={formatExtension:function(e,t,r){return"".concat(e).concat(r.ext()).concat(t)}};function ta(e,t,r,n){if(r=r?tt(tt({},tn),r):tn,n=new X(n),e.country&&"001"!==e.country){if(!n.hasCountry(e.country))throw Error("Unknown country: ".concat(e.country));n.country(e.country)}else{if(!e.countryCallingCode)return e.phone||"";n.selectNumberingPlan(e.countryCallingCode)}var a,i=n.countryCallingCode(),o=r.v2?e.nationalNumber:e.phone;switch(t){case"NATIONAL":if(!o)return"";return ts(a=ti(o,e.carrierCode,"NATIONAL",n,r),e.ext,n,r.formatExtension);case"INTERNATIONAL":if(!o)return"+".concat(i);return a=ti(o,null,"INTERNATIONAL",n,r),ts(a="+".concat(i," ").concat(a),e.ext,n,r.formatExtension);case"E.164":return"+".concat(i).concat(o);case"RFC3966":return e8({number:"+".concat(i).concat(o),ext:e.ext});case"IDD":if(!r.fromCountry)return;return ts(tl(o,e.carrierCode,i,r.fromCountry,n),e.ext,n,r.formatExtension);default:throw Error('Unknown "format" argument passed to "formatNumber()": "'.concat(t,'"'))}}function ti(e,t,r,n,a){var i=to(n.formats(),e);return i?eX(e,i,{useInternationalFormat:"INTERNATIONAL"===r,withNationalPrefix:!i.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!a||!1!==a.nationalPrefix,carrierCode:t,metadata:n}):e}function to(e,t){for(var r,n=e6(e);!(r=n()).done;){var a=r.value;if(a.leadingDigitsPatterns().length>0){var i=a.leadingDigitsPatterns()[a.leadingDigitsPatterns().length-1];if(0!==t.search(i))continue}if(eF(t,a.pattern()))return a}}function ts(e,t,r,n){return t?n(e,t,r):e}function tl(e,t,r,n,a){if(es(n,a.metadata)===r){var i=ti(e,t,"NATIONAL",a);return"1"===r?r+" "+i:i}var o=e0(n,void 0,a.metadata);if(o)return"".concat(o," ").concat(r," ").concat(ti(e,null,"INTERNATIONAL",a))}function tu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tu(Object(r),!0).forEach(function(t){td(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tu(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function td(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tf(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function tp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function th(e,t,r){return t&&tp(e.prototype,t),r&&tp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var tm=!1,ty=function(){function e(t,r,n){if(tf(this,e),!t)throw TypeError("`country` or `countryCallingCode` not passed");if(!r)throw TypeError("`nationalNumber` not passed");if(!n)throw TypeError("`metadata` not passed");var a=tv(t,n),i=a.country,o=a.countryCallingCode;this.country=i,this.countryCallingCode=o,this.nationalNumber=r,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return n}}return th(e,[{key:"setExt",value:function(e){this.ext=e}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:eK(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return eD(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return eq(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){return new X(this.getMetadata()).isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(e){return this.number===e.number&&this.ext===e.ext}},{key:"getType",value:function(){return eV(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(e,t){return ta(this,e,t?tc(tc({},t),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(e){return this.format("NATIONAL",e)}},{key:"formatInternational",value:function(e){return this.format("INTERNATIONAL",e)}},{key:"getURI",value:function(e){return this.format("RFC3966",e)}}]),e}(),tg=function(e){return/^[A-Z]{2}$/.test(e)};function tv(e,t){var r,n,a=new X(t);return tg(e)?(r=e,a.selectNumberingPlan(r),n=a.countryCallingCode()):(n=e,tm&&a.isNonGeographicCallingCode(n)&&(r="001")),{country:r,countryCallingCode:n}}var tb=RegExp("(["+b+"])");function t_(e,t,r,n){if(t){var a=new X(n);a.selectNumberingPlan(t,r);var i=new RegExp(a.IDDPrefix());if(0===e.search(i)){var o=(e=e.slice(e.match(i)[0].length)).match(tb);if(!o||null==o[1]||!(o[1].length>0)||"0"!==o[1])return e}}}function tw(e,t){if(e&&t.numberingPlan.nationalPrefixForParsing()){var r=RegExp("^(?:"+t.numberingPlan.nationalPrefixForParsing()+")"),n=r.exec(e);if(n){var a,i,o,s=n.length-1,l=s>0&&n[s];if(t.nationalPrefixTransformRule()&&l)a=e.replace(r,t.nationalPrefixTransformRule()),s>1&&(i=n[1]);else{var u=n[0];a=e.slice(u.length),l&&(i=n[1])}if(l){var c=e.indexOf(n[1]);e.slice(0,c)===t.numberingPlan.nationalPrefix()&&(o=t.numberingPlan.nationalPrefix())}else o=n[0];return{nationalNumber:a,nationalPrefix:o,carrierCode:i}}}return{nationalNumber:e}}function t$(e,t){var r=tw(e,t),n=r.carrierCode,a=r.nationalNumber;return a!==e&&(!tS(e,a,t)||t.possibleLengths()&&!tE(a,t))?{nationalNumber:e}:{nationalNumber:a,carrierCode:n}}function tS(e,t,r){return!eF(e,r.nationalNumberPattern())||!!eF(t,r.nationalNumberPattern())}function tE(e,t){switch(eM(e,t)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function tx(e,t,r,n){var a=t?es(t,n):r;if(0===e.indexOf(a)){(n=new X(n)).selectNumberingPlan(t,r);var i=e.slice(a.length),o=t$(i,n).nationalNumber,s=t$(e,n).nationalNumber;if(!eF(s,n.nationalNumberPattern())&&eF(o,n.nationalNumberPattern())||"TOO_LONG"===eM(s,n))return{countryCallingCode:a,number:i}}return{number:e}}function tA(e,t,r,n){if(!e)return{};if("+"!==e[0]){var a,i=t_(e,t,r,n);if(i&&i!==e)a=!0,e="+"+i;else{if(t||r){var o=tx(e,t,r,n),s=o.countryCallingCode,l=o.number;if(s)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:s,number:l}}return{number:e}}}if("0"===e[1])return{};n=new X(n);for(var u=2;u-1<=v&&u<=e.length;){var c=e.slice(1,u);if(n.hasCallingCode(c))return n.selectNumberingPlan(c),{countryCallingCodeSource:a?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:c,number:e.slice(u)};u++}return{}}function tk(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=tO(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function tO(e,t){if(e){if("string"==typeof e)return tI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tI(e,t)}}function tI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tC(e,t){var r=t.countries,n=t.defaultCountry,a=t.metadata;a=new X(a);for(var i,o=[],s=tk(r);!(i=s()).done;){var l=i.value;if(a.country(l),a.leadingDigits()){if(e&&0===e.search(a.leadingDigits()))return l}else if(eV({phone:e,country:l},void 0,a.metadata))if(!n)return l;else{if(l===n)return l;o.push(l)}}if(o.length>0)return o[0]}var tT=!1;function tP(e,t){var r=t.nationalNumber,n=t.defaultCountry,a=t.metadata;if(tT&&a.isNonGeographicCallingCode(e))return"001";var i=a.getCountryCodesForCallingCode(e);if(i)return 1===i.length?i[0]:tC(r,{countries:i,defaultCountry:n,metadata:a.metadata})}var tR="+",tN="(["+b+"]|[\\-\\.\\(\\)]?)",tj=RegExp("^\\"+tR+tN+"*["+b+"]"+tN+"*$","g"),tM=b,tL=RegExp("^("+("["+tM+"]+((\\-)*["+tM)+"])*\\.)*"+("[a-zA-Z]+((\\-)*["+tM)+"])*\\.?$","g"),tD="tel:",tB=";phone-context=",tF=";isub=";function tz(e){var t=e.indexOf(tB);if(t<0)return null;var r=t+tB.length;if(r>=e.length)return"";var n=e.indexOf(";",r);return n>=0?e.substring(r,n):e.substring(r)}function tU(e){return null===e||0!==e.length&&(tj.test(e)||tL.test(e))}function tZ(e,t){var r=t.extractFormattedPhoneNumber,n=tz(e);if(!tU(n))throw new U("NOT_A_NUMBER");if(null===n)a=r(e)||"";else{a="",n.charAt(0)===tR&&(a+=n);var a,i,o=e.indexOf(tD);i=o>=0?o+tD.length:0;var s=e.indexOf(tB);a+=e.substring(i,s)}var l=a.indexOf(tF);if(l>0&&(a=a.substring(0,l)),""!==a)return a}var tH=250,tV=RegExp("["+k+b+"]"),tW=RegExp("[^"+b+"#]+$"),tq=!1;function tK(e,t,r){if(t=t||{},r=new X(r),t.defaultCountry&&!r.hasCountry(t.defaultCountry)){if(t.v2)throw new U("INVALID_COUNTRY");throw Error("Unknown country: ".concat(t.defaultCountry))}var n=tJ(e,t.v2,t.extract),a=n.number,i=n.ext,o=n.error;if(!a){if(t.v2){if("TOO_SHORT"===o)throw new U("TOO_SHORT");throw new U("NOT_A_NUMBER")}return{}}var s=tX(a,t.defaultCountry,t.defaultCallingCode,r),l=s.country,u=s.nationalNumber,c=s.countryCallingCode,d=s.countryCallingCodeSource,f=s.carrierCode;if(!r.hasSelectedNumberingPlan()){if(t.v2)throw new U("INVALID_COUNTRY");return{}}if(!u||u.length<y){if(t.v2)throw new U("TOO_SHORT");return{}}if(u.length>g){if(t.v2)throw new U("TOO_LONG");return{}}if(t.v2){var p=new ty(c,u,r.metadata);return l&&(p.country=l),f&&(p.carrierCode=f),i&&(p.ext=i),p.__countryCallingCodeSource=d,p}var h=(t.extended?!!r.hasSelectedNumberingPlan():!!l)&&eF(u,r.nationalNumberPattern());return t.extended?{country:l,countryCallingCode:c,carrierCode:f,valid:h,possible:!!h||!!(!0===t.extended&&r.possibleLengths()&&eB(u,r)),phone:u,ext:i}:h?tY(l,u,i):{}}function tG(e,t,r){if(e){if(e.length>tH){if(r)throw new U("TOO_LONG");return}if(!1===t)return e;var n=e.search(tV);if(!(n<0))return e.slice(n).replace(tW,"")}}function tJ(e,t,r){var n=tZ(e,{extractFormattedPhoneNumber:function(e){return tG(e,r,t)}});if(!n)return{};if(!eg(n))return ev(n)?{error:"TOO_SHORT"}:{};var a=e_(n);return a.ext?a:{number:n}}function tY(e,t,r){var n={country:e,phone:t};return r&&(n.ext=r),n}function tX(e,t,r,n){var a,i=tA(eC(e),t,r,n.metadata),o=i.countryCallingCodeSource,s=i.countryCallingCode,l=i.number;if(s)n.selectNumberingPlan(s);else{if(!l||!t&&!r)return{};n.selectNumberingPlan(t,r),t?a=t:tq&&n.isNonGeographicCallingCode(r)&&(a="001"),s=r||es(t,n.metadata)}if(!l)return{countryCallingCodeSource:o,countryCallingCode:s};var u=t$(eC(l),n),c=u.nationalNumber,d=u.carrierCode,f=tP(s,{nationalNumber:c,defaultCountry:t,metadata:n});return f&&(a=f,"001"===f||n.country(a)),{country:a,countryCallingCode:s,countryCallingCodeSource:o,nationalNumber:c,carrierCode:d}}function tQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function t0(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tQ(Object(r),!0).forEach(function(t){t1(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tQ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function t1(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t2(e,t,r){return tK(e,t0(t0({},t),{},{v2:!0}),r)}function t3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function t9(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?t3(Object(r),!0).forEach(function(t){t4(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t3(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function t4(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t8(e,t,r){t&&t.defaultCountry&&!el(t.defaultCountry,r)&&(t=t9(t9({},t),{},{defaultCountry:void 0}));try{return t2(e,t,r)}catch(e){if(e instanceof U);else throw e}}function t6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function t5(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?t6(Object(r),!0).forEach(function(t){t7(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t6(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function t7(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function re(){var e=h(arguments),t=e.text,r=e.options,n=e.metadata,a=t8(t,r=t5(t5({},r),{},{extract:!1}),n);return a&&a.isPossible()||!1}var rt=r(55729);let rr={ext:"ext.",country:"Phone number country",phone:"Phone",AB:"Abkhazia",AC:"Ascension Island",AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"\xc5land Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barth\xe9lemy",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia",BQ:"Bonaire, Sint Eustatius and Saba",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos (Keeling) Islands",CD:"Congo, Democratic Republic of the",CF:"Central African Republic",CG:"Congo",CH:"Switzerland",CI:"Cote d'Ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CW:"Cura\xe7ao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Federated States of Micronesia",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"Saint Martin (French Part)",MG:"Madagascar",MH:"Marshall Islands",MK:"North Macedonia",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",OS:"South Ossetia",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestine",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Reunion",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Swaziland",TA:"Tristan da Cunha",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See (Vatican City State)",VC:"Saint Vincent and the Grenadines",VE:"Venezuela",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",XK:"Kosovo",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe",ZZ:"International"};var rn=r(56121),ra=rn.shape({country_calling_codes:rn.object.isRequired,countries:rn.object.isRequired}),ri=rn.objectOf(rn.string),ro=r(32988);function rs(e,t,r){switch(r){case"Backspace":t>0&&(e=e.slice(0,t-1)+e.slice(t),t--);break;case"Delete":e=e.slice(0,t)+e.slice(t+1)}return{value:e,caret:t}}function rl(e,t,r){for(var n={},a="",i=0,o=0;o<e.length;){var s=r(e[o],a,n);void 0!==s&&(a+=s,void 0!==t&&(t===o?i=a.length-1:t>o&&(i=a.length))),o++}return void 0===t&&(i=a.length),{value:a,caret:i}}function ru(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=rc(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rc(e,t){if(e){if("string"==typeof e)return rd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rd(e,t)}}function rd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function rf(e,t){for(var r,n=0,a=ru(t.split(""));!(r=a()).done;)r.value===e&&n++;return n}function rp(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ",a=e.length,i=rf("(",e)-rf(")",e);i>0&&a<t.length;)e+=t[a].replace(r,n),")"===t[a]&&i--,a++;return e}function rh(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=rm(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rm(e,t){if(e){if("string"==typeof e)return ry(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ry(e,t)}}function ry(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function rg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",r=arguments.length>2?arguments[2]:void 0;if(!e)return function(e){return{text:e}};var n=rf(t,e);return function(a){if(!a)return{text:"",template:e};for(var i,o=0,s="",l=rh(e.split(""));!(i=l()).done;){var u=i.value;if(u!==t){s+=u;continue}if(s+=a[o],++o===a.length&&a.length<n)break}return r&&(s=rp(s,e)),{text:s,template:e}}}function rv(e,t,r){"string"==typeof r&&(r=rg(r));var n=r(e)||{},a=n.text,i=n.template;if(void 0===a&&(a=e),i)if(void 0===t)t=a.length;else{for(var o=0,s=!1,l=-1;o<a.length&&o<i.length;){if(a[o]!==i[o]){if(0===t){s=!0,t=o;break}l=o,t--}o++}s||(t=l+1)}return{text:a,caret:t}}function rb(e){return e.hasAttribute("readonly")}function r_(e){if(e.selectionStart!==e.selectionEnd)return{start:e.selectionStart,end:e.selectionEnd}}var rw={Backspace:8,Delete:46};function r$(e){switch(e.keyCode){case rw.Backspace:return"Backspace";case rw.Delete:return"Delete"}}function rS(e){return e.selectionStart}function rE(e,t){void 0!==t&&(rx()?setTimeout(function(){return e.setSelectionRange(t,t)},0):e.setSelectionRange(t,t))}function rx(){if("undefined"!=typeof navigator)return rA.test(navigator.userAgent)}var rA=/Android/i;function rk(e,t,r,n,a){rC(t,r,n,void 0,a)}function rO(e,t,r,n,a){if(!rb(t)){var i=r$(e);switch(i){case"Delete":case"Backspace":e.preventDefault();var o=r_(t);if(o)return rI(t,o),rC(t,r,n,void 0,a);return rC(t,r,n,i,a)}}}function rI(e,t){var r=e.value;e.value=r=r.slice(0,t.start)+r.slice(t.end),rE(e,t.start)}function rC(e,t,r,n,a){var i=rl(e.value,rS(e),t),o=i.value,s=i.caret;if(n){var l=rs(o,s,n);o=l.value,s=l.caret}var u=rv(o,s,r),c=u.text;s=u.caret,e.value=c,rE(e,s),a&&a(o)}var rT=["ref","parse","format","value","defaultValue","controlled","onChange","onKeyDown"];function rP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rP(Object(r),!0).forEach(function(t){rN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rN(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rj(e,t){if(null==e)return{};var r,n,a=rM(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rM(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function rL(e){var t=e.ref,r=e.parse,n=e.format,a=e.value,i=e.defaultValue,o=e.controlled,s=void 0===o||o,l=e.onChange,u=e.onKeyDown,c=rj(e,rT),d=(0,rt.useRef)(),f=(0,rt.useCallback)(function(e){d.current=e,t&&("function"==typeof t?t(e):t.current=e)},[t]),p=(0,rt.useCallback)(function(e){return rk(e,d.current,r,n,l)},[d,r,n,l]),h=(0,rt.useCallback)(function(e){if(u&&u(e),!e.defaultPrevented)return rO(e,d.current,r,n,l)},[d,r,n,l,u]),m=rR(rR({},c),{},{ref:f,onChange:p,onKeyDown:h});return s?rR(rR({},m),{},{value:n(rD(a)?"":a).text}):rR(rR({},m),{},{defaultValue:n(rD(i)?"":i).text})}function rD(e){return null==e}var rB=["inputComponent","parse","format","value","defaultValue","onChange","controlled","onKeyDown","type"];function rF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rF(Object(r),!0).forEach(function(t){rU(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rU(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rZ(e,t){if(null==e)return{};var r,n,a=rH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rH(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function rV(e,t){var r=e.inputComponent,n=void 0===r?"input":r,a=e.parse,i=e.format,o=e.value,s=e.defaultValue,l=e.onChange,u=e.controlled,c=e.onKeyDown,d=e.type,f=rL(rz({ref:t,parse:a,format:i,value:o,defaultValue:s,onChange:l,controlled:u,onKeyDown:c,type:void 0===d?"text":d},rZ(e,rB)));return rt.createElement(n,f)}(rV=rt.forwardRef(rV)).propTypes={parse:rn.func.isRequired,format:rn.func.isRequired,inputComponent:rn.elementType,type:rn.string,value:rn.string,defaultValue:rn.string,onChange:rn.func,controlled:rn.bool,onKeyDown:rn.func,onCut:rn.func,onPaste:rn.func};let rW=rV;function rq(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function rK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rG(e,t,r){return t&&rK(e.prototype,t),r&&rK(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var rJ=function(){function e(t){var r=t.onCountryChange,n=t.onCallingCodeChange;rq(this,e),this.onCountryChange=r,this.onCallingCodeChange=n}return rG(e,[{key:"reset",value:function(e){var t=e.country,r=e.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(t,r)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberMatchesInput=!0,this.nationalPrefix=void 0,this.carrierCode=void 0,this.complexPrefixBeforeNationalSignificantNumber=void 0}},{key:"update",value:function(e){for(var t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];this[n]=e[n]}}},{key:"initCountryAndCallingCode",value:function(e,t){this.setCountry(e),this.setCallingCode(t)}},{key:"setCountry",value:function(e){this.country=e,this.onCountryChange(e)}},{key:"setCallingCode",value:function(e){this.callingCode=e,this.onCallingCodeChange(e,this.country)}},{key:"startInternationalNumber",value:function(e,t){this.international=!0,this.initCountryAndCallingCode(e,t)}},{key:"appendDigits",value:function(e){this.digits+=e}},{key:"appendNationalSignificantNumberDigits",value:function(e){this.nationalSignificantNumber+=e}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}]),e}();function rY(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=rX(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rX(e,t){if(e){if("string"==typeof e)return rQ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rQ(e,t)}}function rQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var r0="x",r1=new RegExp(r0);function r2(e,t){if(t<1)return"";for(var r="";t>1;)1&t&&(r+=e),t>>=1,e+=e;return r+e}function r3(e,t){return")"===e[t]&&t++,r9(e.slice(0,t))}function r9(e){for(var t=[],r=0;r<e.length;)"("===e[r]?t.push(r):")"===e[r]&&t.pop(),r++;var n=0,a="";t.push(e.length);for(var i=0,o=t;i<o.length;i++){var s=o[i];a+=e.slice(n,s),n=s+1}return a}function r4(e,t,r){for(var n,a=rY(r.split(""));!(n=a()).done;){var i=n.value;if(0>e.slice(t+1).search(r1))return;t=e.search(r1),e=e.replace(r1,i)}return[e,t]}function r8(e,t,r){var n=r.metadata,a=r.shouldTryNationalPrefixFormattingRule,i=r.getSeparatorAfterNationalPrefix;if(new RegExp("^(?:".concat(t.pattern(),")$")).test(e.nationalSignificantNumber))return r5(e,t,{metadata:n,shouldTryNationalPrefixFormattingRule:a,getSeparatorAfterNationalPrefix:i})}function r6(e,t){return"IS_POSSIBLE"===eM(e,t)}function r5(e,t,r){var n=r.metadata,a=r.shouldTryNationalPrefixFormattingRule,i=r.getSeparatorAfterNationalPrefix;if(e.nationalSignificantNumber,e.international,e.nationalPrefix,e.carrierCode,a(t)){var o=r7(e,t,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:i,metadata:n});if(o)return o}return r7(e,t,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:i,metadata:n})}function r7(e,t,r){var n=r.metadata,a=r.useNationalPrefixFormattingRule,i=r.getSeparatorAfterNationalPrefix,o=eX(e.nationalSignificantNumber,t,{carrierCode:e.carrierCode,useInternationalFormat:e.international,withNationalPrefix:a,metadata:n});if(!a&&(e.nationalPrefix?o=e.nationalPrefix+i(t)+o:e.complexPrefixBeforeNationalSignificantNumber&&(o=e.complexPrefixBeforeNationalSignificantNumber+" "+o)),ne(o,e))return o}function ne(e,t){return eA(e)===t.getNationalDigits()}function nt(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function nr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nn(e,t,r){return t&&nr(e.prototype,t),r&&nr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var na=function(){function e(){nt(this,e)}return nn(e,[{key:"parse",value:function(e){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(e),1!==this.context.length)throw Error("Non-finalized contexts left when pattern parse ended");var t=this.context[0],r=t.branches,n=t.instructions;if(r)return{op:"|",args:r.concat([nl(n)])};if(0===n.length)throw Error("Pattern is required");return 1===n.length?n[0]:n}},{key:"startContext",value:function(e){this.context.push(e)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(e){if(!e)throw Error("Pattern is required");var t=e.match(ns);if(!t){if(no.test(e))throw Error("Illegal characters found in a pattern: ".concat(e));this.getContext().instructions=this.getContext().instructions.concat(e.split(""));return}var r=t[1],n=e.slice(0,t.index),a=e.slice(t.index+r.length);switch(r){case"(?:":n&&this.parsePattern(n),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw Error('")" operator must be preceded by "(?:" operator');if(n&&this.parsePattern(n),0===this.getContext().instructions.length)throw Error('No instructions found after "|" operator in an "or" group');var i=this.getContext().branches;i.push(nl(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:i});break;case"|":if(!this.getContext().or)throw Error('"|" operator can only be used inside "or" groups');if(n&&this.parsePattern(n),!this.getContext().branches)if(1===this.context.length)this.getContext().branches=[];else throw Error('"branches" not found in an "or" group context');this.getContext().branches.push(nl(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":n&&this.parsePattern(n),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:ni(n)});break;default:throw Error("Unknown operator: ".concat(r))}a&&this.parsePattern(a)}}]),e}();function ni(e){for(var t=[],r=0;r<e.length;){if("-"===e[r]){if(0===r||r===e.length-1)throw Error("Couldn't parse a one-of set pattern: ".concat(e));for(var n=e[r-1].charCodeAt(0)+1,a=e[r+1].charCodeAt(0)-1,i=n;i<=a;)t.push(String.fromCharCode(i)),i++}else t.push(e[r]);r++}return t}var no=/[\(\)\[\]\?\:\|]/,ns=RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function nl(e){return 1===e.length?e[0]:e}function nu(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=nc(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function nc(e,t){if(e){if("string"==typeof e)return nd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nd(e,t)}}function nd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function nf(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function np(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nh(e,t,r){return t&&np(e.prototype,t),r&&np(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var nm=function(){function e(t){nf(this,e),this.matchTree=new na().parse(t)}return nh(e,[{key:"match",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.allowOverflow;if(!e)throw Error("String is required");var n=ny(e.split(""),this.matchTree,!0);if(n&&n.match&&delete n.matchedChars,!n||!n.overflow||r)return n}}]),e}();function ny(e,t,r){if("string"==typeof t){var n=e.join("");return 0===t.indexOf(n)?e.length===t.length?{match:!0,matchedChars:e}:{partialMatch:!0}:0===n.indexOf(t)?r&&e.length>t.length?{overflow:!0}:{match:!0,matchedChars:e.slice(0,t.length)}:void 0}if(Array.isArray(t)){for(var a=e.slice(),i=0;i<t.length;){var o=ny(a,t[i],r&&i===t.length-1);if(!o)return;if(o.overflow)return o;if(o.match){if(0===(a=a.slice(o.matchedChars.length)).length)if(i===t.length-1)return{match:!0,matchedChars:e};else return{partialMatch:!0}}else if(o.partialMatch)return{partialMatch:!0};else throw Error("Unsupported match result:\n".concat(JSON.stringify(o,null,2)));i++}return r?{overflow:!0}:{match:!0,matchedChars:e.slice(0,e.length-a.length)}}switch(t.op){case"|":for(var s,l,u=nu(t.args);!(l=u()).done;){var c=ny(e,l.value,r);if(c)if(c.overflow)return c;else if(c.match)return{match:!0,matchedChars:c.matchedChars};else if(c.partialMatch)s=!0;else throw Error("Unsupported match result:\n".concat(JSON.stringify(c,null,2)))}if(s)return{partialMatch:!0};return;case"[]":for(var d,f=nu(t.args);!(d=f()).done;){var p=d.value;if(e[0]===p){if(1===e.length)return{match:!0,matchedChars:e};if(r)return{overflow:!0};return{match:!0,matchedChars:[p]}}}return;default:throw Error("Unsupported instruction tree: ".concat(t))}}function ng(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=nv(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function nv(e,t){if(e){if("string"==typeof e)return nb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nb(e,t)}}function nb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function n_(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function nw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n$(e,t,r){return t&&nw(e.prototype,t),r&&nw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var nS="9",nE=r2(nS,15),nx=/[- ]/,nA=!0,nk=function(){return/\[([^\[\]])*\]/g},nO=function(){return/\d(?=[^,}][^,}])/g},nI=RegExp("["+A+"]*\\$1["+A+"]*(\\$\\d["+A+"]*)*$"),nC=3,nT=function(){function e(t){t.state;var r=t.metadata;n_(this,e),this.metadata=r,this.resetFormat()}return n$(e,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(e,t){this.resetFormat(),e?(this.isNANP="1"===e.callingCode(),this.matchingFormats=e.formats(),t.nationalSignificantNumber&&this.narrowDownMatchingFormats(t)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(e,t){var r=this;if(r6(t.nationalSignificantNumber,this.metadata))for(var n,a=ng(this.matchingFormats);!(n=a()).done;){var i=n.value,o=r8(t,i,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(e){return r.shouldTryNationalPrefixFormattingRule(e,{international:t.international,nationalPrefix:t.nationalPrefix})},getSeparatorAfterNationalPrefix:function(e){return r.getSeparatorAfterNationalPrefix(e)}});if(o)return this.resetFormat(),this.chosenFormat=i,this.setNationalNumberTemplate(o.replace(/\d/g,r0),t),this.populatedNationalNumberTemplate=o,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(r0),o}return this.formatNationalNumberWithNextDigits(e,t)}},{key:"formatNationalNumberWithNextDigits",value:function(e,t){var r=this.chosenFormat,n=this.chooseFormat(t);if(n)if(n===r)return this.formatNextNationalNumberDigits(e);else return this.formatNextNationalNumberDigits(t.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(e){var t=this,r=e.nationalSignificantNumber,n=e.nationalPrefix,a=e.international,i=r,o=i.length-nC;o<0&&(o=0),this.matchingFormats=this.matchingFormats.filter(function(e){return t.formatSuits(e,a,n)&&t.formatMatches(e,i,o)}),this.chosenFormat&&-1===this.matchingFormats.indexOf(this.chosenFormat)&&this.resetFormat()}},{key:"formatSuits",value:function(e,t,r){return!(r&&!e.usesNationalPrefix()&&!e.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!t&&!r&&e.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(e,t,r){var n=e.leadingDigitsPatterns().length;if(0===n)return!0;r=Math.min(r,n-1);var a=e.leadingDigitsPatterns()[r];if(t.length<nC)try{return void 0!==new nm(a).match(t,{allowOverflow:!0})}catch(e){return console.error(e),!0}return new RegExp("^(".concat(a,")")).test(t)}},{key:"getFormatFormat",value:function(e,t){return t?e.internationalFormat():e.format()}},{key:"chooseFormat",value:function(e){for(var t,r=this,n=function(){var n=t.value;return r.chosenFormat===n?"break":nI.test(r.getFormatFormat(n,e.international))?r.createTemplateForFormat(n,e)?(r.chosenFormat=n,"break"):(r.matchingFormats=r.matchingFormats.filter(function(e){return e!==n}),"continue"):"continue"},a=ng(this.matchingFormats.slice());!(t=a()).done;){var i=n();if("break"===i)break;if("continue"===i)continue}return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(e,t){if(!(nA&&e.pattern().indexOf("|")>=0)){var r=this.getTemplateForFormat(e,t);if(r)return this.setNationalNumberTemplate(r,t),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(e){return this.isNANP||e&&e.nationalPrefixFormattingRule()&&nx.test(e.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(e,t){var r=e.IDDPrefix,n=e.missingPlus;return r?t&&!1===t.spacing?r:r+" ":n?"":"+"}},{key:"getTemplate",value:function(e){if(this.template){for(var t=-1,r=0,n=e.international?this.getInternationalPrefixBeforeCountryCallingCode(e,{spacing:!1}):"";r<n.length+e.getDigitsWithoutInternationalPrefix().length;)t=this.template.indexOf(r0,t+1),r++;return r3(this.template,t+1)}}},{key:"setNationalNumberTemplate",value:function(e,t){this.nationalNumberTemplate=e,this.populatedNationalNumberTemplate=e,this.populatedNationalNumberTemplatePosition=-1,t.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(t).replace(/[\d\+]/g,r0)+r2(r0,t.callingCode.length)+" "+e:this.template=e}},{key:"getTemplateForFormat",value:function(e,t){var r,n=t.nationalSignificantNumber,a=t.international,i=t.nationalPrefix,o=t.complexPrefixBeforeNationalSignificantNumber,s=e.pattern();nA&&(s=s.replace(nk(),"\\d").replace(nO(),"\\d"));var l=nE.match(s)[0];if(!(n.length>l.length)){var u=RegExp("^"+s+"$"),c=n.replace(/\d/g,nS);u.test(c)&&(l=c);var d=this.getFormatFormat(e,a);if(this.shouldTryNationalPrefixFormattingRule(e,{international:a,nationalPrefix:i})){var f=d.replace(eY,e.nationalPrefixFormattingRule());if(eA(e.nationalPrefixFormattingRule())===(i||"")+eA("$1")&&(d=f,r=!0,i))for(var p=i.length;p>0;)d=d.replace(/\d/,r0),p--}var h=l.replace(new RegExp(s),d).replace(RegExp(nS,"g"),r0);return!r&&(o?h=r2(r0,o.length)+" "+h:i&&(h=r2(r0,i.length)+this.getSeparatorAfterNationalPrefix(e)+h)),a&&(h=eJ(h)),h}}},{key:"formatNextNationalNumberDigits",value:function(e){var t=r4(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,e);return t?(this.populatedNationalNumberTemplate=t[0],this.populatedNationalNumberTemplatePosition=t[1],r3(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)):void this.resetFormat()}},{key:"shouldTryNationalPrefixFormattingRule",value:function(e,t){var r=t.international,n=t.nationalPrefix;if(e.nationalPrefixFormattingRule()){var a=e.usesNationalPrefix();if(a&&n||!a&&!r)return!0}}}]),e}();function nP(e,t){return nL(e)||nM(e,t)||nN(e,t)||nR()}function nR(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function nN(e,t){if(e){if("string"==typeof e)return nj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nj(e,t)}}function nj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function nM(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var i=[],o=!0,s=!1;try{for(a=a.call(e);!(o=(r=a.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){s=!0,n=e}finally{try{o||null==a.return||a.return()}finally{if(s)throw n}}return i}}function nL(e){if(Array.isArray(e))return e}function nD(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function nB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nF(e,t,r){return t&&nB(e.prototype,t),r&&nB(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var nz=RegExp("^"+("["+A+b)+"]+$","i"),nU="(?:["+k+"]["+A+b+"]*|["+A+b+"]+)",nZ=RegExp("[^"+A+b+"]+.*$"),nH=/[^\d\[\]]/,nV=function(){function e(t){var r=t.defaultCountry,n=t.defaultCallingCode,a=t.metadata,i=t.onNationalSignificantNumberChange;nD(this,e),this.defaultCountry=r,this.defaultCallingCode=n,this.metadata=a,this.onNationalSignificantNumberChange=i}return nF(e,[{key:"input",value:function(e,t){var r,n=nP(nK(e),2),a=n[0],i=n[1],o=eA(a);return i&&!t.digits&&(t.startInternationalNumber(),o||(r=!0)),o&&this.inputDigits(o,t),{digits:o,justLeadingPlus:r}}},{key:"inputDigits",value:function(e,t){var r=t.digits,n=r.length<3&&r.length+e.length>=3;if(t.appendDigits(e),n&&this.extractIddPrefix(t),this.isWaitingForCountryCallingCode(t)){if(!this.extractCountryCallingCode(t))return}else t.appendNationalSignificantNumberDigits(e);t.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(t.getNationalDigits(),function(e){return t.update(e)})}},{key:"isWaitingForCountryCallingCode",value:function(e){var t=e.international,r=e.callingCode;return t&&!r}},{key:"extractCountryCallingCode",value:function(e){var t=tA("+"+e.getDigitsWithoutInternationalPrefix(),this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),r=t.countryCallingCode,n=t.number;if(r)return e.setCallingCode(r),e.update({nationalSignificantNumber:n}),!0}},{key:"reset",value:function(e){if(e){this.hasSelectedNumberingPlan=!0;var t=e._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=t&&nH.test(t)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(e,t){if(this.hasSelectedNumberingPlan){var r=tw(e,this.metadata),n=r.nationalPrefix,a=r.nationalNumber,i=r.carrierCode;if(a!==e)return this.onExtractedNationalNumber(n,i,a,e,t),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(e,t,r){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(e,r);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var n=tw(e,this.metadata),a=n.nationalPrefix,i=n.nationalNumber,o=n.carrierCode;if(i!==t)return this.onExtractedNationalNumber(a,o,i,e,r),!0}}},{key:"onExtractedNationalNumber",value:function(e,t,r,n,a){var i,o,s=n.lastIndexOf(r);if(s>=0&&s===n.length-r.length){o=!0;var l=n.slice(0,s);l!==e&&(i=l)}a({nationalPrefix:e,carrierCode:t,nationalSignificantNumber:r,nationalSignificantNumberMatchesInput:o,complexPrefixBeforeNationalSignificantNumber:i}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(e){return!!this.extractAnotherNationalSignificantNumber(e.getNationalDigits(),e.nationalSignificantNumber,function(t){return e.update(t)})||(this.extractIddPrefix(e)||this.fixMissingPlus(e)?(this.extractCallingCodeAndNationalSignificantNumber(e),!0):void 0)}},{key:"extractIddPrefix",value:function(e){var t=e.international,r=e.IDDPrefix,n=e.digits;if(e.nationalSignificantNumber,!t&&!r){var a=t_(n,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(void 0!==a&&a!==n)return e.update({IDDPrefix:n.slice(0,n.length-a.length)}),this.startInternationalNumber(e,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(e){if(!e.international){var t=tx(e.digits,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),r=t.countryCallingCode;if(t.number,r)return e.update({missingPlus:!0}),this.startInternationalNumber(e,{country:e.country,callingCode:r}),!0}}},{key:"startInternationalNumber",value:function(e,t){var r=t.country,n=t.callingCode;e.startInternationalNumber(r,n),e.nationalSignificantNumber&&(e.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(e){this.extractCountryCallingCode(e)&&this.extractNationalSignificantNumber(e.getNationalDigits(),function(t){return e.update(t)})}}]),e}();function nW(e){var t,r=e.search(nU);if(!(r<0))return"+"===(e=e.slice(r))[0]&&(t=!0,e=e.slice(1)),e=e.replace(nZ,""),t&&(e="+"+e),e}function nq(e){var t=nW(e)||"";return"+"===t[0]?[t.slice(1),!0]:[t]}function nK(e){var t=nP(nq(e),2),r=t[0],n=t[1];return nz.test(r)||(r=""),[r,n]}function nG(e){return(nG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nJ(e,t){return n1(e)||n0(e,t)||nX(e,t)||nY()}function nY(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function nX(e,t){if(e){if("string"==typeof e)return nQ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nQ(e,t)}}function nQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function n0(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var i=[],o=!0,s=!1;try{for(a=a.call(e);!(o=(r=a.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){s=!0,n=e}finally{try{o||null==a.return||a.return()}finally{if(s)throw n}}return i}}function n1(e){if(Array.isArray(e))return e}function n2(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function n3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n9(e,t,r){return t&&n3(e.prototype,t),r&&n3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var n4=!1,n8=function(){function e(t,r){n2(this,e),this.metadata=new X(r);var n=nJ(this.getCountryAndCallingCode(t),2),a=n[0],i=n[1];this.defaultCountry=a,this.defaultCallingCode=i,this.reset()}return n9(e,[{key:"getCountryAndCallingCode",value:function(e){var t,r;return e&&("object"===nG(e)?(t=e.defaultCountry,r=e.defaultCallingCode):t=e),t&&!this.metadata.hasCountry(t)&&(t=void 0),r&&n4&&this.metadata.isNonGeographicCallingCode(r)&&(t="001"),[t,r]}},{key:"input",value:function(e){var t=this.parser.input(e,this.state),r=t.digits;if(t.justLeadingPlus)this.formattedOutput="+";else if(r){if(this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state),this.metadata.hasSelectedNumberingPlan()&&(n=this.formatter.format(r,this.state)),void 0===n&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var n,a=this.state.getNationalDigits();a&&(n=this.formatter.format(a,this.state))}this.formattedOutput=n?this.getFullNumber(n):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var e=this;return this.state=new rJ({onCountryChange:function(t){e.country=t},onCallingCodeChange:function(t,r){e.metadata.selectNumberingPlan(r,t),e.formatter.reset(e.metadata.numberingPlan,e.state),e.parser.reset(e.metadata.numberingPlan)}}),this.formatter=new nT({state:this.state,metadata:this.metadata}),this.parser=new nV({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){e.determineTheCountryIfNeeded(),e.formatter.reset(e.metadata.numberingPlan,e.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){if(this.state.digits)return this._getCountry()}},{key:"_getCountry",value:function(){var e=this.state.country;if(!n4||"001"!==e)return e}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(e){var t=this;if(this.isInternational()){var r=function(e){return t.formatter.getInternationalPrefixBeforeCountryCallingCode(t.state,{spacing:!!e})+e},n=this.state.callingCode;return r(n?e?"".concat(n," ").concat(e):n:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return e}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var e=this.state,t=e.nationalSignificantNumber,r=e.complexPrefixBeforeNationalSignificantNumber,n=e.nationalPrefix,a=t,i=r||n;return i&&(a=i+a),a}},{key:"getNonFormattedNumber",value:function(){var e=this.state.nationalSignificantNumberMatchesInput;return this.getFullNumber(e?this.getNonFormattedNationalNumberWithPrefix():this.state.getNationalDigits())}},{key:"getNonFormattedTemplate",value:function(){var e=this.getNonFormattedNumber();if(e)return e.replace(/[\+\d]/g,r0)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var e=this.state.callingCode,t=this.metadata.getCountryCodesForCallingCode(e);return t&&t.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(tP(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,defaultCountry:this.defaultCountry,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var e=this.state,t=e.digits,r=e.callingCode,n=e.country,a=e.nationalSignificantNumber;if(t){if(this.isInternational())if(r)return"+"+r+a;else return"+"+t;else if(n||r)return"+"+(n?this.metadata.countryCallingCode():r)+a}}},{key:"getNumber",value:function(){var e=this.state,t=e.nationalSignificantNumber,r=e.carrierCode,n=e.callingCode,a=this._getCountry();if(t&&(a||n)){if(a&&a===this.defaultCountry){var i=new X(this.metadata.metadata);i.selectNumberingPlan(a);var o=i.numberingPlan.callingCode(),s=this.metadata.getCountryCodesForCallingCode(o);if(s.length>1){var l=tC(t,{countries:s,defaultCountry:this.defaultCountry,metadata:this.metadata.metadata});l&&(a=l)}}var u=new ty(a||n,t,this.metadata.metadata);return r&&(u.carrierCode=r),u}}},{key:"isPossible",value:function(){var e=this.getNumber();return!!e&&e.isPossible()}},{key:"isValid",value:function(){var e=this.getNumber();return!!e&&e.isValid()}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}]),e}();function n6(e){var t=e.country,r=e.international,n=e.withCountryCallingCode,a=e.metadata;return t&&r&&!n?"+".concat(es(t,a)):""}function n5(e,t){return t&&" "===(e=e.slice(t.length))[0]&&(e=e.slice(1)),e}var n7=["country","international","withCountryCallingCode","metadata"];function ae(){return(ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function at(e,t){if(null==e)return{};var r,n,a=ar(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ar(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}let an=function(e){function t(e,t){var r=e.country,n=e.international,a=e.withCountryCallingCode,i=e.metadata,o=at(e,n7),s=(0,rt.useCallback)(function(e){var t=new n8(r,i),o=n6({country:r,international:n,withCountryCallingCode:a,metadata:i}),s=t.input(o+e),l=t.getTemplate();return o&&(s=n5(s,o),l&&(l=n5(l,o))),{text:s,template:l}},[r,i]);return rt.createElement(rW,ae({},o,{ref:t,parse:eT,format:s}))}return(t=rt.forwardRef(t)).propTypes={value:rn.string.isRequired,onChange:rn.func.isRequired,country:rn.string,international:rn.bool,withCountryCallingCode:rn.bool,metadata:rn.object.isRequired},t.defaultProps={metadata:void 0},t}();function aa(e,t,r){return r||(r=t,t=void 0),new n8(t,r).input(e)}var ai=["value","onChange","country","international","withCountryCallingCode","metadata","inputComponent"];function ao(){return(ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function as(e,t){if(null==e)return{};var r,n,a=al(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function al(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}let au=function(e){function t(e,t){var r=e.value,n=e.onChange,a=e.country,i=e.international,o=e.withCountryCallingCode,s=e.metadata,l=e.inputComponent,u=as(e,ai),c=n6({country:a,international:i,withCountryCallingCode:o,metadata:s}),d=(0,rt.useCallback)(function(e){var t=eC(e.target.value);t===r&&0===ac(c,t,a,s).indexOf(e.target.value)&&(t=t.slice(0,-1)),n(t)},[c,r,n,a,s]);return rt.createElement(l,ao({},u,{ref:t,value:ac(c,r,a,s),onChange:d}))}return(t=rt.forwardRef(t)).propTypes={value:rn.string.isRequired,onChange:rn.func.isRequired,country:rn.string,international:rn.bool,withCountryCallingCode:rn.bool,metadata:rn.object.isRequired,inputComponent:rn.elementType.isRequired},t.defaultProps={metadata:void 0,inputComponent:"input"},t}();function ac(e,t,r,n){return n5(aa(e+t,r,n),e)}function ad(e){return af(e[0])+af(e[1])}function af(e){return String.fromCodePoint(127397+e.toUpperCase().charCodeAt(0))}var ap=["value","onChange","options"],ah=["value","options","className","iconComponent","getIconAspectRatio","arrowComponent","unicodeFlags"];function am(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=ay(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ay(e,t){if(e){if("string"==typeof e)return ag(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ag(e,t)}}function ag(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function av(){return(av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ab(e,t){if(null==e)return{};var r,n,a=a_(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function a_(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function aw(e){var t=e.value,r=e.onChange,n=e.options,a=ab(e,ap),i=(0,rt.useCallback)(function(e){var t=e.target.value;r("ZZ"===t?void 0:t)},[r]);return(0,rt.useMemo)(function(){return aE(n,t)},[n,t]),rt.createElement("select",av({},a,{value:t||"ZZ",onChange:i}),n.map(function(e){var t=e.value,r=e.label,n=e.divider;return rt.createElement("option",{key:n?"|":t||"ZZ",value:n?"|":t||"ZZ",disabled:!!n,style:n?a$:void 0},r)}))}aw.propTypes={value:rn.string,onChange:rn.func.isRequired,options:rn.arrayOf(rn.shape({value:rn.string,label:rn.string,divider:rn.bool})).isRequired};var a$={fontSize:"1px",backgroundColor:"currentColor",color:"inherit"};function aS(e){var t=e.value,r=e.options,n=e.className,a=e.iconComponent,i=(e.getIconAspectRatio,e.arrowComponent),o=e.unicodeFlags,s=ab(e,ah),l=(0,rt.useMemo)(function(){return aE(r,t)},[r,t]);return rt.createElement("div",{className:"PhoneInputCountry"},rt.createElement(aw,av({},s,{value:t,options:r,className:ro("PhoneInputCountrySelect",n)})),o&&t&&rt.createElement("div",{className:"PhoneInputCountryIconUnicode"},ad(t)),!(o&&t)&&rt.createElement(a,{"aria-hidden":!0,country:t,label:l&&l.label,aspectRatio:o?1:void 0}),rt.createElement(i,null))}function aE(e,t){for(var r,n=am(e);!(r=n()).done;){var a=r.value;if(!a.divider&&a.value===t)return a}}aS.propTypes={iconComponent:rn.elementType,arrowComponent:rn.elementType.isRequired,unicodeFlags:rn.bool},aS.defaultProps={arrowComponent:function(){return rt.createElement("div",{className:"PhoneInputCountrySelectArrow"})}};var ax=["country","countryName","flags","flagUrl"];function aA(){return(aA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ak(e,t){if(null==e)return{};var r,n,a=aO(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aO(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function aI(e){var t=e.country,r=e.countryName,n=e.flags,a=e.flagUrl,i=ak(e,ax);return n&&n[t]?n[t]({title:r}):rt.createElement("img",aA({},i,{alt:r,role:r?void 0:"presentation",src:a.replace("{XX}",t).replace("{xx}",t.toLowerCase())}))}aI.propTypes={country:rn.string.isRequired,countryName:rn.string.isRequired,flags:rn.objectOf(rn.elementType),flagUrl:rn.string.isRequired};var aC=["aspectRatio"],aT=["title"],aP=["title"];function aR(){return(aR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function aN(e,t){if(null==e)return{};var r,n,a=aj(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aj(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function aM(e){var t=e.aspectRatio,r=aN(e,aC);return 1===t?rt.createElement(aD,r):rt.createElement(aL,r)}function aL(e){var t=e.title,r=aN(e,aT);return rt.createElement("svg",aR({},r,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 75 50"}),rt.createElement("title",null,t),rt.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeMiterlimit:"10"},rt.createElement("path",{strokeLinecap:"round",d:"M47.2,36.1C48.1,36,49,36,50,36c7.4,0,14,1.7,18.5,4.3"}),rt.createElement("path",{d:"M68.6,9.6C64.2,12.3,57.5,14,50,14c-7.4,0-14-1.7-18.5-4.3"}),rt.createElement("line",{x1:"26",y1:"25",x2:"74",y2:"25"}),rt.createElement("line",{x1:"50",y1:"1",x2:"50",y2:"49"}),rt.createElement("path",{strokeLinecap:"round",d:"M46.3,48.7c1.2,0.2,2.5,0.3,3.7,0.3c13.3,0,24-10.7,24-24S63.3,1,50,1S26,11.7,26,25c0,2,0.3,3.9,0.7,5.8"}),rt.createElement("path",{strokeLinecap:"round",d:"M46.8,48.2c1,0.6,2.1,0.8,3.2,0.8c6.6,0,12-10.7,12-24S56.6,1,50,1S38,11.7,38,25c0,1.4,0.1,2.7,0.2,4c0,0.1,0,0.2,0,0.2"})),rt.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"none",fill:"currentColor",d:"M12.4,17.9c2.9-2.9,5.4-4.8,0.3-11.2S4.1,5.2,1.3,8.1C-2,11.4,1.1,23.5,13.1,35.6s24.3,15.2,27.5,11.9c2.8-2.8,7.8-6.3,1.4-11.5s-8.3-2.6-11.2,0.3c-2,2-7.2-2.2-11.7-6.7S10.4,19.9,12.4,17.9z"}))}function aD(e){var t=e.title,r=aN(e,aP);return rt.createElement("svg",aR({},r,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"}),rt.createElement("title",null,t),rt.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round"},rt.createElement("path",{d:"M8.45,13A21.44,21.44,0,1,1,37.08,41.56"}),rt.createElement("path",{d:"M19.36,35.47a36.9,36.9,0,0,1-2.28-13.24C17.08,10.39,21.88.85,27.8.85s10.72,9.54,10.72,21.38c0,6.48-1.44,12.28-3.71,16.21"}),rt.createElement("path",{d:"M17.41,33.4A39,39,0,0,1,27.8,32.06c6.62,0,12.55,1.5,16.48,3.86"}),rt.createElement("path",{d:"M44.29,8.53c-3.93,2.37-9.86,3.88-16.49,3.88S15.25,10.9,11.31,8.54"}),rt.createElement("line",{x1:"27.8",y1:"0.85",x2:"27.8",y2:"34.61"}),rt.createElement("line",{x1:"15.2",y1:"22.23",x2:"49.15",y2:"22.23"})),rt.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"transparent",fill:"currentColor",d:"M9.42,26.64c2.22-2.22,4.15-3.59.22-8.49S3.08,17,.93,19.17c-2.49,2.48-.13,11.74,9,20.89s18.41,11.5,20.89,9c2.15-2.15,5.91-4.77,1-8.71s-6.27-2-8.49.22c-1.55,1.55-5.48-1.69-8.86-5.08S7.87,28.19,9.42,26.64Z"}))}function aB(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=aF(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function aF(e,t){if(e){if("string"==typeof e)return az(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return az(e,t)}}function az(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function aU(e,t){if(!t)return e;for(var r,n=[],a=[],i=n,o=aB(t);!(r=o()).done;){var s=r.value;"|"===s?i.push({divider:!0}):"..."===s||"…"===s?i=a:function(){var t=void 0;t="\uD83C\uDF10"===s?void 0:s;var r=e.indexOf(e.filter(function(e){return e.value===t})[0]),n=e[r];e.splice(r,1),i.push(n)}()}return n.concat(e).concat(a)}function aZ(e,t){if(e&&(e=e.filter(function(e){switch(e){case"\uD83C\uDF10":case"|":case"...":case"…":return!0;default:return aH(e,t)}})).length>0)return e}function aH(e,t){return!!el(e,t)||(console.error("Country not found: ".concat(e)),!1)}function aV(e,t){return e&&0===(e=e.filter(function(e){return aH(e,t)})).length&&(e=void 0),e}function aW(e){return new X(e).getCountries()}aM.propTypes={title:rn.string.isRequired,aspectRatio:rn.number},aL.propTypes={title:rn.string.isRequired},aD.propTypes={title:rn.string.isRequired};var aq=["country","label","aspectRatio"];function aK(){return(aK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function aG(e,t){if(null==e)return{};var r,n,a=aJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aJ(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function aY(e){var t=e.flags,r=e.flagUrl,n=e.flagComponent,a=e.internationalIcon;function i(e){var i=e.country,o=e.label,s=e.aspectRatio,l=aG(e,aq),u=a===aM?s:void 0;return rt.createElement("div",aK({},l,{className:ro("PhoneInputCountryIcon",{"PhoneInputCountryIcon--square":1===u,"PhoneInputCountryIcon--border":i})}),i?rt.createElement(n,{country:i,countryName:o,flags:t,flagUrl:r,className:"PhoneInputCountryIconImg"}):rt.createElement(a,{title:o,aspectRatio:u,className:"PhoneInputCountryIconImg"}))}return i.propTypes={country:rn.string,label:rn.string.isRequired,aspectRatio:rn.number},i}function aX(){var e=h(arguments);return t8(e.text,e.options,e.metadata)}function aQ(e,t){return"+"+es(e,t)}function a0(e){var t,r=e.value,n=e.phoneNumber,a=e.defaultCountry,i=e.getAnyCountry,o=e.countries,s=e.required,l=e.metadata;return n&&n.country?t=n.country:a&&(!r||io(r,a,l))&&(t=a),o&&0>o.indexOf(t)&&(t=void 0),!t&&s&&o&&o.length>0&&(t=i()),t}function a1(e){var t=e.countries,r=e.countryNames,n=e.addInternationalOption,a=e.compareStringsLocales,i=e.compareStrings;i||(i=ir);var o=t.map(function(e){return{value:e,label:r[e]||e}});return o.sort(function(e,t){return i(e.label,t.label,a)}),n&&o.unshift({label:r.ZZ}),o}function a2(e,t){return aX(e||"",t)}function a3(e){return e.formatNational().replace(/\D/g,"")}function a9(e,t){var r=t.prevCountry,n=t.newCountry,a=t.metadata,i=t.useNationalFormat;if(r===n)return e;if(!e)if(i)return"";else return aQ(n,a);if(n){if("+"===e[0]){if(i)return 0===e.indexOf("+"+es(n,a))?ia(e,n,a):"";if(r){var o=aQ(n,a);if(0!==e.indexOf(o))return o}else{var s=aQ(n,a);return 0===e.indexOf(s)?e:s}}}else if("+"!==e[0])return a4(e,r,a)||"";return e}function a4(e,t,r){if(e){if("+"===e[0]){if("+"===e)return;var n=new n8(t,r);return n.input(e),n.getNumberValue()}if(t){var a=ii(e,t,r);return"+".concat(es(t,r)).concat(a||"")}}}function a8(e,t,r){var n=ii(e,t,r);if(n){var a=n.length-a6(t,r);if(a>0)return e.slice(0,e.length-a)}return e}function a6(e,t){return(t=new X(t)).selectNumberingPlan(e),t.numberingPlan.possibleLengths()[t.numberingPlan.possibleLengths().length-1]}function a5(e,t){var r=t.country,n=t.countries,a=t.required,i=t.metadata;if("+"===e)return r;var o=it(e,i);return o&&(!n||n.indexOf(o)>=0)?o:!r||a||io(e,r,i)?r:void 0}function a7(e,t){var r,n=t.prevPhoneDigits,a=t.country,i=t.defaultCountry,o=t.countryRequired,s=t.getAnyCountry,l=t.countries,u=t.international,c=t.limitMaxLength,d=t.countryCallingCodeEditable,f=t.metadata;if(u&&!1===d){var p,h=aQ(a,f);if(0!==e.indexOf(h))return e&&"+"!==e[0]?p=a4(e=h+e,a,f):e=h,{phoneDigits:e,value:p,country:a}}return!1===u&&a&&e&&"+"===e[0]&&(e=ie(e,a,f)),e&&a&&c&&(e=a8(e,a,f)),e&&"+"!==e[0]&&(!a||u)&&(e="+"+e),!e&&n&&"+"===n[0]&&(a=u?void 0:i),"+"===e&&n&&"+"===n[0]&&n.length>1&&(a=void 0),e&&(r="+"===e[0]&&("+"===e||a&&0===aQ(a,f).indexOf(e))?void 0:a4(e,a,f)),r&&(a=a5(r,{country:a,countries:l,metadata:f}),!1===u&&a&&e&&"+"===e[0]&&(r=a4(e=ie(e,a,f),a,f))),!a&&o&&(a=i||s()),{phoneDigits:e,country:a,value:r}}function ie(e,t,r){if(0!==e.indexOf(aQ(t,r)))return e.replace(/\D/g,"");var n=new n8(t,r);n.input(e);var a=n.getNumber();return a?a.formatNational().replace(/\D/g,""):""}function it(e,t){var r=new n8(null,t);return r.input(e),r.getCountry()}function ir(e,t,r){return String.prototype.localeCompare?e.localeCompare(t,r):e<t?-1:+(e>t)}function ia(e,t,r){if(t){var n="+"+es(t,r);if(e.length<n.length){if(0===n.indexOf(e))return""}else if(0===e.indexOf(n))return e.slice(n.length)}for(var a=0,i=Object.keys(r.country_calling_codes);a<i.length;a++){var o=i[a];if(1===e.indexOf(o))return e.slice(1+o.length)}return""}function ii(e,t,r){var n=new n8(t,r);n.input(e);var a=n.getNumber();return a&&a.nationalNumber}function io(e,t,r){for(var n=aQ(t,r),a=0;a<e.length&&a<n.length;){if(e[a]!==n[a])return!1;a++}return!0}function is(e){var t=e.value,r=e.phoneNumber,n=e.defaultCountry,a=e.international,i=e.useNationalFormat,o=e.metadata;return(!1===a||i)&&r&&r.country?a3(r):!t&&a&&n?aQ(n,o):t}function il(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function iu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?il(Object(r),!0).forEach(function(t){ic(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):il(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ic(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function id(e,t,r){var n=e.metadata,a=e.countries,i=e.defaultCountry,o=e.value,s=e.reset,l=e.international,u=e.displayInitialValueAsLocalNumber,c=e.initialValueFormat,d=t.defaultCountry,f=t.value,p=t.reset;r.country;var h=r.value,m=r.hasUserSelectedACountry,y=function(e){return is(iu(iu({},e),{},{international:l,useNationalFormat:u||"national"===c,metadata:n}))};if(s!==p)return{phoneDigits:y({value:void 0,defaultCountry:i}),value:void 0,country:i,hasUserSelectedACountry:void 0};if(i!==d){var g=!i||aH(i,n),v=!h||l&&h===y({value:void 0,defaultCountry:d}),b=!o&&v;if(!m&&g&&b)return{country:i,phoneDigits:y({value:void 0,defaultCountry:i}),value:void 0}}if(!ip(o,f)&&!ip(o,h)){if(o){var _,w,$=a2(o,n),S=aV(a,n);$&&$.country?(!S||S.indexOf($.country)>=0)&&(_=$.country):_=a5(o,{country:void 0,countries:S,metadata:n})}return o||(w={hasUserSelectedACountry:void 0}),iu(iu({},w),{},{phoneDigits:y({phoneNumber:$,value:o,defaultCountry:i}),value:o,country:o?_:i})}}function ip(e,t){return null===e&&(e=void 0),null===t&&(t=void 0),e===t}function ih(e){return(ih="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}aY({flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",flagComponent:aI,internationalIcon:aM});var im=["name","disabled","readOnly","autoComplete","style","className","inputRef","inputComponent","numberInputProps","smartCaret","countrySelectComponent","countrySelectProps","containerComponent","defaultCountry","countries","countryOptionsOrder","labels","flags","flagComponent","flagUrl","addInternationalOption","internationalIcon","displayInitialValueAsLocalNumber","initialValueFormat","onCountryChange","limitMaxLength","countryCallingCodeEditable","focusInputOnCountrySelection","reset","metadata","international","locales"];function iy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ig(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iy(Object(r),!0).forEach(function(t){iT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iy(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function iv(){return(iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ib(e,t){if(null==e)return{};var r,n,a=i_(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function i_(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function iw(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function i$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function iS(e,t,r){return t&&i$(e.prototype,t),r&&i$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iE(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ix(e,t)}function ix(e,t){return(ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function iA(e){var t=iI();return function(){var r,n=iC(e);return r=t?Reflect.construct(n,arguments,iC(this).constructor):n.apply(this,arguments),ik(this,r)}}function ik(e,t){if(t&&("object"===ih(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return iO(e)}function iO(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iI(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function iC(e){return(iC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function iT(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var iP=function(e){iE(r,e);var t=iA(r);function r(e){iw(this,r),iT(iO(n=t.call(this,e)),"setInputRef",function(e){n.inputRef.current=e;var t=n.props.inputRef;t&&("function"==typeof t?t(e):t.current=e)}),iT(iO(n),"isCountrySupportedWithError",function(e){return aH(e,n.props.metadata)}),iT(iO(n),"onCountryChange",function(e){var t=n.props,r=t.international,a=t.metadata,i=t.onChange,o=t.focusInputOnCountrySelection,s=n.state,l=a9(s.phoneDigits,{prevCountry:s.country,newCountry:e,metadata:a,useNationalFormat:!r}),u=a4(l,e,a);o&&n.inputRef.current.focus(),n.setState({country:e,hasUserSelectedACountry:!0,phoneDigits:l,value:u},function(){i(u)})}),iT(iO(n),"onChange",function(e){var t=n.props,r=t.defaultCountry,a=t.onChange,i=t.addInternationalOption,o=t.international,s=t.limitMaxLength,l=t.countryCallingCodeEditable,u=t.metadata,c=n.state,d=c.countries,f=a7(e,{prevPhoneDigits:c.phoneDigits,country:c.country,countryRequired:!i,defaultCountry:r,getAnyCountry:function(){return n.getFirstSupportedCountry({countries:d})},countries:d,international:o,limitMaxLength:s,countryCallingCodeEditable:l,metadata:u}),p=f.phoneDigits,h=f.country,m=f.value,y={phoneDigits:p,value:m,country:h};!1!==l||m||p!==n.state.phoneDigits||(y.forceRerender={}),n.setState(y,function(){return a(m)})}),iT(iO(n),"_onFocus",function(){return n.setState({isFocused:!0})}),iT(iO(n),"_onBlur",function(){return n.setState({isFocused:!1})}),iT(iO(n),"onFocus",function(e){n._onFocus();var t=n.props.onFocus;t&&t(e)}),iT(iO(n),"onBlur",function(e){var t=n.props.onBlur;n._onBlur(),t&&t(e)}),iT(iO(n),"onCountryFocus",function(e){n._onFocus();var t=n.props.countrySelectProps;if(t){var r=t.onFocus;r&&r(e)}}),iT(iO(n),"onCountryBlur",function(e){n._onBlur();var t=n.props.countrySelectProps;if(t){var r=t.onBlur;r&&r(e)}}),n.inputRef=rt.createRef();var n,a=n.props,i=a.value,o=(a.labels,a.international),s=a.addInternationalOption,l=a.displayInitialValueAsLocalNumber,u=a.initialValueFormat,c=a.metadata,d=n.props,f=d.defaultCountry,p=d.countries;f&&!n.isCountrySupportedWithError(f)&&(f=void 0),p=aV(p,c);var h=a2(i,c);n.CountryIcon=aY(n.props);var m=a0({value:i,phoneNumber:h,defaultCountry:f,required:!s,countries:p||aW(c),getAnyCountry:function(){return n.getFirstSupportedCountry({countries:p})},metadata:c});return n.state={props:n.props,country:m,countries:p,phoneDigits:is({value:i,phoneNumber:h,defaultCountry:f,international:o,useNationalFormat:l||"national"===u,metadata:c}),value:i},n}return iS(r,[{key:"componentDidMount",value:function(){var e=this.props.onCountryChange,t=this.props.defaultCountry,r=this.state.country;e&&(t&&!this.isCountrySupportedWithError(t)&&(t=void 0),r!==t&&e(r))}},{key:"componentDidUpdate",value:function(e,t){var r=this.props.onCountryChange,n=this.state.country;r&&n!==t.country&&r(n)}},{key:"getCountrySelectOptions",value:function(e){var t=e.countries,r=this.props,n=r.international,a=r.countryCallingCodeEditable,i=r.countryOptionsOrder,o=r.addInternationalOption,s=r.labels,l=r.locales,u=r.metadata;return this.useMemoCountrySelectOptions(function(){return aU(a1({countries:t||aW(u),countryNames:s,addInternationalOption:(!n||!1!==a)&&o,compareStringsLocales:l}),aZ(i,u))},[t,i,o,s,u])}},{key:"useMemoCountrySelectOptions",value:function(e,t){return this.countrySelectOptionsMemoDependencies&&ij(t,this.countrySelectOptionsMemoDependencies)||(this.countrySelectOptionsMemo=e(),this.countrySelectOptionsMemoDependencies=t),this.countrySelectOptionsMemo}},{key:"getFirstSupportedCountry",value:function(e){var t=e.countries;return this.getCountrySelectOptions({countries:t})[0].value}},{key:"render",value:function(){var e=this.props,t=e.name,r=e.disabled,n=e.readOnly,a=e.autoComplete,i=e.style,o=e.className,s=(e.inputRef,e.inputComponent),l=e.numberInputProps,u=e.smartCaret,c=e.countrySelectComponent,d=e.countrySelectProps,f=e.containerComponent,p=(e.defaultCountry,e.countries,e.countryOptionsOrder,e.labels),h=(e.flags,e.flagComponent,e.flagUrl,e.addInternationalOption,e.internationalIcon,e.displayInitialValueAsLocalNumber,e.initialValueFormat,e.onCountryChange,e.limitMaxLength,e.countryCallingCodeEditable,e.focusInputOnCountrySelection,e.reset,e.metadata),m=(e.international,e.locales,ib(e,im)),y=this.state,g=y.country,v=y.countries,b=y.phoneDigits,_=y.isFocused,w=u?an:au,$=this.getCountrySelectOptions({countries:v});return rt.createElement(f,{style:i,className:ro(o,"PhoneInput",{"PhoneInput--focus":_,"PhoneInput--disabled":r,"PhoneInput--readOnly":n})},rt.createElement(c,iv({name:t?"".concat(t,"Country"):void 0,"aria-label":p.country},d,{value:g,options:$,onChange:this.onCountryChange,onFocus:this.onCountryFocus,onBlur:this.onCountryBlur,disabled:r||d&&d.disabled,readOnly:n||d&&d.readOnly,iconComponent:this.CountryIcon})),rt.createElement(w,iv({ref:this.setInputRef,type:"tel",autoComplete:a},l,m,{name:t,metadata:h,country:g,value:b||"",onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,disabled:r,readOnly:n,inputComponent:s,className:ro("PhoneInputInput",l&&l.className,m.className)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return ig({props:e},id(e,t.props,t))}}]),r}(rt.PureComponent),iR=rt.forwardRef(function(e,t){return rt.createElement(iP,iv({},e,{inputRef:t}))});iR.propTypes={value:rn.string,onChange:rn.func.isRequired,onFocus:rn.func,onBlur:rn.func,disabled:rn.bool,readOnly:rn.bool,autoComplete:rn.string.isRequired,initialValueFormat:rn.oneOf(["national"]),displayInitialValueAsLocalNumber:rn.bool,defaultCountry:rn.string,countries:rn.arrayOf(rn.string),labels:ri.isRequired,locales:rn.oneOfType([rn.string,rn.arrayOf(rn.string)]),flagUrl:rn.string.isRequired,flags:rn.objectOf(rn.elementType),flagComponent:rn.elementType.isRequired,addInternationalOption:rn.bool.isRequired,internationalIcon:rn.elementType.isRequired,countryOptionsOrder:rn.arrayOf(rn.string),style:rn.object,className:rn.string,countrySelectComponent:rn.elementType.isRequired,countrySelectProps:rn.object,inputComponent:rn.elementType.isRequired,containerComponent:rn.elementType.isRequired,numberInputProps:rn.object,smartCaret:rn.bool.isRequired,international:rn.bool,limitMaxLength:rn.bool.isRequired,countryCallingCodeEditable:rn.bool.isRequired,metadata:ra.isRequired,onCountryChange:rn.func,focusInputOnCountrySelection:rn.bool.isRequired},iR.defaultProps={autoComplete:"tel",countrySelectComponent:aS,flagComponent:aI,flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",internationalIcon:aM,inputComponent:"input",containerComponent:"div",reset:rn.any,smartCaret:!0,addInternationalOption:!0,limitMaxLength:!1,countryCallingCodeEditable:!0,focusInputOnCountrySelection:!0};let iN=iR;function ij(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;){if(e[r]!==t[r])return!1;r++}return!0}function iM(){return(iM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function iL(e){var t=rt.forwardRef(function(e,t){return rt.createElement(iN,iM({ref:t},e))});return t.propTypes={metadata:ra.isRequired,labels:ri.isRequired},t.defaultProps={metadata:e,labels:rr},t}function iD(e,t){var r=Array.prototype.slice.call(t);return r.push(n),e.apply(this,r)}iL();let iB=iL(n);function iF(){return iD(re,arguments)}},95424:(e,t,r)=>{var n=r(29143);e.exports=r(77012).satisfies(n.version,">=15.7.0")},95586:(e,t,r)=>{"use strict";let n=r(2316);e.exports=(e,t)=>e.sort((e,r)=>n(e,r,t))},95605:(e,t,r)=>{"use strict";var n=r(14274),a=r(57379),i=r(95185);e.exports=r(7978)||n.call(i,a)},95669:(e,t,r)=>{e.exports=r(2483)},95736:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i=(0,a(r(58987)).default)(["^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)","(?:-((?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*))*))","?(?:\\+([0-9a-z-]+(?:\\.[0-9a-z-]+)*))?$"],"i");function o(e){return(0,n.default)(e),i.test(e)}e.exports=t.default,e.exports.default=t.default},96224:(e,t,r)=>{"use strict";r.d(t,{ER:()=>to});var n,a,i,o,s,l,u,c,d,f,p,h,m,y,g="vercel.ai.error",v=Symbol.for(g),b=class e extends Error{constructor({name:e,message:t,cause:r}){super(t),this[n]=!0,this.name=e,this.cause=r}static isInstance(t){return e.hasMarker(t,g)}static hasMarker(e,t){let r=Symbol.for(t);return null!=e&&"object"==typeof e&&r in e&&"boolean"==typeof e[r]&&!0===e[r]}};n=v;var _=b,w="AI_APICallError",$=`vercel.ai.error.${w}`,S=Symbol.for($),E=class extends _{constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:i,responseBody:o,cause:s,isRetryable:l=null!=n&&(408===n||409===n||429===n||n>=500),data:u}){super({name:w,message:e,cause:s}),this[a]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=i,this.responseBody=o,this.isRetryable=l,this.data=u}static isInstance(e){return _.hasMarker(e,$)}};a=S;var x="AI_EmptyResponseBodyError",A=`vercel.ai.error.${x}`,k=Symbol.for(A),O=class extends _{constructor({message:e="Empty response body"}={}){super({name:x,message:e}),this[i]=!0}static isInstance(e){return _.hasMarker(e,A)}};function I(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}i=k;var C="AI_InvalidArgumentError",T=`vercel.ai.error.${C}`,P=Symbol.for(T),R=class extends _{constructor({message:e,cause:t,argument:r}){super({name:C,message:e,cause:t}),this[o]=!0,this.argument=r}static isInstance(e){return _.hasMarker(e,T)}};o=P;var N="AI_InvalidPromptError",j=`vercel.ai.error.${N}`,M=Symbol.for(j),L=class extends _{constructor({prompt:e,message:t,cause:r}){super({name:N,message:`Invalid prompt: ${t}`,cause:r}),this[s]=!0,this.prompt=e}static isInstance(e){return _.hasMarker(e,j)}};s=M;var D="AI_InvalidResponseDataError",B=`vercel.ai.error.${D}`,F=Symbol.for(B),z=class extends _{constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:D,message:t}),this[l]=!0,this.data=e}static isInstance(e){return _.hasMarker(e,B)}};l=F;var U="AI_JSONParseError",Z=`vercel.ai.error.${U}`,H=Symbol.for(Z),V=class extends _{constructor({text:e,cause:t}){super({name:U,message:`JSON parsing failed: Text: ${e}.
Error message: ${I(t)}`,cause:t}),this[u]=!0,this.text=e}static isInstance(e){return _.hasMarker(e,Z)}};u=H;var W="AI_LoadAPIKeyError",q=`vercel.ai.error.${W}`,K=Symbol.for(q),G=class extends _{constructor({message:e}){super({name:W,message:e}),this[c]=!0}static isInstance(e){return _.hasMarker(e,q)}};c=K;var J="AI_LoadSettingError";d=Symbol.for(`vercel.ai.error.${J}`);var Y="AI_NoContentGeneratedError";f=Symbol.for(`vercel.ai.error.${Y}`);var X="AI_NoSuchModelError";p=Symbol.for(`vercel.ai.error.${X}`);var Q="AI_TooManyEmbeddingValuesForCallError";h=Symbol.for(`vercel.ai.error.${Q}`);var ee="AI_TypeValidationError",et=`vercel.ai.error.${ee}`,er=Symbol.for(et),en=class e extends _{constructor({value:e,cause:t}){super({name:ee,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${I(t)}`,cause:t}),this[m]=!0,this.value=e}static isInstance(e){return _.hasMarker(e,et)}static wrap({value:t,cause:r}){return e.isInstance(r)&&r.value===t?r:new e({value:t,cause:r})}};m=er;var ea=en,ei="AI_UnsupportedFunctionalityError",eo=`vercel.ai.error.${ei}`,es=Symbol.for(eo),el=class extends _{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:ei,message:t}),this[y]=!0,this.functionality=e}static isInstance(e){return _.hasMarker(e,eo)}};function eu(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||(Array.isArray(e)?e.every(eu):"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&eu(t)))}y=es;let ec=(e,t=21)=>(r=t)=>{let n="",a=0|r;for(;a--;)n+=e[Math.random()*e.length|0];return n};var ed=r(29486);class ef extends Error{constructor(e,t){super(e),this.name="ParseError",this.type=t.type,this.field=t.field,this.value=t.value,this.line=t.line}}function ep(e){}function eh(e){if("function"==typeof e)throw TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");let{onEvent:t=ep,onError:r=ep,onRetry:n=ep,onComment:a}=e,i="",o=!0,s,l="",u="";function c(e){if(""===e)return void f();if(e.startsWith(":")){a&&a(e.slice(e.startsWith(": ")?2:1));return}let t=e.indexOf(":");if(-1!==t){let r=e.slice(0,t),n=" "===e[t+1]?2:1;d(r,e.slice(t+n),e);return}d(e,"",e)}function d(e,t,a){switch(e){case"event":u=t;break;case"data":l=`${l}${t}
`;break;case"id":s=t.includes("\0")?void 0:t;break;case"retry":/^\d+$/.test(t)?n(parseInt(t,10)):r(new ef(`Invalid \`retry\` value: "${t}"`,{type:"invalid-retry",value:t,line:a}));break;default:r(new ef(`Unknown field "${e.length>20?`${e.slice(0,20)}\u2026`:e}"`,{type:"unknown-field",field:e,value:t,line:a}))}}function f(){l.length>0&&t({id:s,event:u||void 0,data:l.endsWith(`
`)?l.slice(0,-1):l}),s=void 0,l="",u=""}return{feed:function(e){let t=o?e.replace(/^\xEF\xBB\xBF/,""):e,[r,n]=em(`${i}${t}`);for(let e of r)c(e);i=n,o=!1},reset:function(e={}){i&&e.consume&&c(i),o=!0,s=void 0,l="",u="",i=""}}}function em(e){let t=[],r="",n=0;for(;n<e.length;){let a=e.indexOf("\r",n),i=e.indexOf(`
`,n),o=-1;if(-1!==a&&-1!==i?o=Math.min(a,i):-1!==a?o=a===e.length-1?-1:a:-1!==i&&(o=i),-1===o){r=e.slice(n);break}{let r=e.slice(n,o);t.push(r),"\r"===e[(n=o+1)-1]&&e[n]===`
`&&n++}}return[t,r]}class ey extends TransformStream{constructor({onError:e,onRetry:t,onComment:r}={}){let n;super({start(a){n=eh({onEvent:e=>{a.enqueue(e)},onError(t){"terminate"===e?a.error(t):"function"==typeof e&&e(t)},onRetry:t,onComment:r})},transform(e){n.feed(e)}})}}var eg=r(29143);function ev(...e){return e.reduce((e,t)=>({...e,...null!=t?t:{}}),{})}function eb(e){let t={};return e.headers.forEach((e,r)=>{t[r]=e}),t}var e_=(({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let a=ec(r,t);if(null==e)return a;if(r.includes(n))throw new R({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return t=>`${e}${n}${a(t)}`})();function ew(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>null!=t))}function e$(e){return e instanceof Error&&("AbortError"===e.name||"TimeoutError"===e.name)}function eS({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if("string"==typeof e)return e;if(null!=e)throw new G({message:`${n} API key must be a string.`});if(void 0===eg)throw new G({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(null==(e=eg.env[t]))throw new G({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if("string"!=typeof e)throw new G({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}var eE=Symbol.for("vercel.ai.validator");function ex(e){return{[eE]:!0,validate:e}}function eA(e){return"object"==typeof e&&null!==e&&eE in e&&!0===e[eE]&&"validate"in e}function ek(e){return eA(e)?e:eO(e)}function eO(e){return ex(t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}})}function eI({value:e,schema:t}){let r=eC({value:e,schema:t});if(!r.success)throw ea.wrap({value:e,cause:r.error});return r.value}function eC({value:e,schema:t}){let r=ek(t);try{if(null==r.validate)return{success:!0,value:e};let t=r.validate(e);if(t.success)return t;return{success:!1,error:ea.wrap({value:e,cause:t.error})}}catch(t){return{success:!1,error:ea.wrap({value:e,cause:t})}}}function eT({text:e,schema:t}){try{let r=ed.parse(e);if(null==t)return r;return eI({value:r,schema:t})}catch(t){if(V.isInstance(t)||ea.isInstance(t))throw t;throw new V({text:e,cause:t})}}function eP({text:e,schema:t}){try{let r=ed.parse(e);if(null==t)return{success:!0,value:r,rawValue:r};let n=eC({value:r,schema:t});return n.success?{...n,rawValue:r}:n}catch(t){return{success:!1,error:V.isInstance(t)?t:new V({text:e,cause:t})}}}function eR(e){try{return ed.parse(e),!0}catch(e){return!1}}var eN=()=>globalThis.fetch,ej=async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o})=>eM({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:a,abortSignal:i,fetch:o}),eM=async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:a,abortSignal:i,fetch:o=eN()})=>{try{let s=await o(e,{method:"POST",headers:ew(t),body:r.content,signal:i}),l=eb(s);if(!s.ok){let t;try{t=await a({response:s,url:e,requestBodyValues:r.values})}catch(t){if(e$(t)||E.isInstance(t))throw t;throw new E({message:"Failed to process error response",cause:t,statusCode:s.status,url:e,responseHeaders:l,requestBodyValues:r.values})}throw t.value}try{return await n({response:s,url:e,requestBodyValues:r.values})}catch(t){if(t instanceof Error&&(e$(t)||E.isInstance(t)))throw t;throw new E({message:"Failed to process successful response",cause:t,statusCode:s.status,url:e,responseHeaders:l,requestBodyValues:r.values})}}catch(t){if(e$(t))throw t;if(t instanceof TypeError&&"fetch failed"===t.message){let n=t.cause;if(null!=n)throw new E({message:`Cannot connect to API: ${n.message}`,cause:n,url:e,requestBodyValues:r.values,isRetryable:!0})}throw t}},eL=({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:a,requestBodyValues:i})=>{let o=await n.text(),s=eb(n);if(""===o.trim())return{responseHeaders:s,value:new E({message:n.statusText,url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,isRetryable:null==r?void 0:r(n)})};try{let l=eT({text:o,schema:e});return{responseHeaders:s,value:new E({message:t(l),url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,data:l,isRetryable:null==r?void 0:r(n,l)})}}catch(e){return{responseHeaders:s,value:new E({message:n.statusText,url:a,requestBodyValues:i,statusCode:n.status,responseHeaders:s,responseBody:o,isRetryable:null==r?void 0:r(n)})}}},eD=e=>async({response:t})=>{let r=eb(t);if(null==t.body)throw new O({});return{responseHeaders:r,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(new ey).pipeThrough(new TransformStream({transform({data:t},r){"[DONE]"!==t&&r.enqueue(eP({text:t,schema:e}))}}))}},eB=e=>async({response:t,url:r,requestBodyValues:n})=>{let a=await t.text(),i=eP({text:a,schema:e}),o=eb(t);if(!i.success)throw new E({message:"Invalid JSON response",cause:i.error,statusCode:t.status,responseHeaders:o,responseBody:a,url:r,requestBodyValues:n});return{responseHeaders:o,value:i.value,rawValue:i.rawValue}},{btoa:eF,atob:ez}=globalThis;function eU(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return eF(t)}function eZ(e){return null==e?void 0:e.replace(/\/$/,"")}var eH=r(31078),eV=Object.defineProperty,eW=Object.defineProperties,eq=Object.getOwnPropertyDescriptors,eK=Object.getOwnPropertySymbols,eG=Object.prototype.hasOwnProperty,eJ=Object.prototype.propertyIsEnumerable,eY=(e,t,r)=>t in e?eV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,eX=(e,t)=>{for(var r in t||(t={}))eG.call(t,r)&&eY(e,r,t[r]);if(eK)for(var r of eK(t))eJ.call(t,r)&&eY(e,r,t[r]);return e},eQ=(e,t)=>eW(e,eq(t)),e0=(e,t)=>{var r={};for(var n in e)eG.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&eK)for(var n of eK(e))0>t.indexOf(n)&&eJ.call(e,n)&&(r[n]=e[n]);return r};function e1(e){var t;let r=[];for(let{role:n,content:a}of e)switch(n){case"system":r.push({role:"system",content:a});break;case"user":{if(1===a.length&&(null==(t=a[0])?void 0:t.type)==="text"){r.push({role:"user",content:a[0].text});break}let e=a.map(e=>{var t;switch(e.type){case"text":return{type:"text",text:e.text};case"image":return{type:"image_url",image_url:{url:e.image instanceof URL?e.image.toString():`data:${null!=(t=e.mimeType)?t:"image/jpeg"};base64,${eU(e.image)}`}};case"file":return{type:"text",text:e.data instanceof URL?e.data.toString():e.data};default:{let t=e;throw Error(`Unsupported content part type: ${t}`)}}});r.push({role:"user",content:e});break}case"assistant":{let e="",t=[];for(let r of a)switch(r.type){case"text":e+=r.text;break;case"tool-call":t.push({id:r.toolCallId,type:"function",function:{name:r.toolName,arguments:JSON.stringify(r.args)}});break;default:{let e=r;throw Error(`Unsupported part: ${e}`)}}r.push({role:"assistant",content:e,tool_calls:t.length>0?t:void 0});break}case"tool":for(let e of a)r.push({role:"tool",tool_call_id:e.toolCallId,content:JSON.stringify(e.result)});break;default:{let e=n;throw Error(`Unsupported role: ${e}`)}}return r}function e2(e){var t,r;return null!=(r=null==(t=null==e?void 0:e.content)?void 0:t.map(({token:e,logprob:t,top_logprobs:r})=>({token:e,logprob:t,topLogprobs:r?r.map(({token:e,logprob:t})=>({token:e,logprob:t})):[]})))?r:void 0}function e3(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var e9=eH.z.object({error:eH.z.object({message:eH.z.string(),type:eH.z.string(),param:eH.z.any().nullable(),code:eH.z.string().nullable()})}),e4=eL({errorSchema:e9,errorToMessage:e=>e.error.message});function e8(e){return"parameters"in e}var e6=class{constructor(e,t,r){this.specificationVersion="v1",this.defaultObjectGenerationMode="tool",this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}getArgs({mode:e,prompt:t,maxTokens:r,temperature:n,topP:a,frequencyPenalty:i,presencePenalty:o,seed:s}){let l=e.type,u=eX({model:this.modelId,models:this.settings.models,logit_bias:this.settings.logitBias,logprobs:!0===this.settings.logprobs||"number"==typeof this.settings.logprobs||void 0,top_logprobs:"number"==typeof this.settings.logprobs?this.settings.logprobs:"boolean"==typeof this.settings.logprobs&&this.settings.logprobs?0:void 0,user:this.settings.user,parallel_tool_calls:this.settings.parallelToolCalls,max_tokens:r,temperature:n,top_p:a,frequency_penalty:i,presence_penalty:o,seed:s,messages:e1(t)},this.config.extraBody);switch(l){case"regular":return eX(eX({},u),te(e));case"object-json":return eQ(eX({},u),{response_format:{type:"json_object"}});case"object-tool":return eQ(eX({},u),{tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}}]});default:{let e=l;throw new el({functionality:`${e} mode`})}}}async doGenerate(e){var t,r;let n=this.getArgs(e),{responseHeaders:a,value:i}=await ej({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:ev(this.config.headers(),e.headers),body:n,failedResponseHandler:e4,successfulResponseHandler:eB(e5),abortSignal:e.abortSignal,fetch:this.config.fetch}),o=n,{messages:s}=o,l=e0(o,["messages"]),u=i.choices[0];if(null==u)throw Error("No choice in response");return{text:null!=(t=u.message.content)?t:void 0,toolCalls:null==(r=u.message.tool_calls)?void 0:r.map(e=>{var t;return{toolCallType:"function",toolCallId:null!=(t=e.id)?t:e_(),toolName:e.function.name,args:e.function.arguments}}),finishReason:e3(u.finish_reason),usage:{promptTokens:i.usage.prompt_tokens,completionTokens:i.usage.completion_tokens},rawCall:{rawPrompt:s,rawSettings:l},rawResponse:{headers:a},warnings:[],logprobs:e2(u.logprobs)}}async doStream(e){let t,r=this.getArgs(e),{responseHeaders:n,value:a}=await ej({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:ev(this.config.headers(),e.headers),body:eQ(eX({},r),{stream:!0,stream_options:"strict"===this.config.compatibility?{include_usage:!0}:void 0}),failedResponseHandler:e4,successfulResponseHandler:eD(e7),abortSignal:e.abortSignal,fetch:this.config.fetch}),i=r,{messages:o}=i,s=e0(i,["messages"]),l=[],u="other",c={promptTokens:Number.NaN,completionTokens:Number.NaN};return{stream:a.pipeThrough(new TransformStream({transform(e,r){var n,a,i,o,s,d,f,p,h,m,y,g;if(!e.success){u="error",r.enqueue({type:"error",error:e.error});return}let v=e.value;if("error"in v){u="error",r.enqueue({type:"error",error:v.error});return}null!=v.usage&&(c={promptTokens:v.usage.prompt_tokens,completionTokens:v.usage.completion_tokens});let b=v.choices[0];if((null==b?void 0:b.finish_reason)!=null&&(u=e3(b.finish_reason)),(null==b?void 0:b.delta)==null)return;let _=b.delta;null!=_.content&&r.enqueue({type:"text-delta",textDelta:_.content});let w=e2(null==b?void 0:b.logprobs);if((null==w?void 0:w.length)&&(void 0===t&&(t=[]),t.push(...w)),null!=_.tool_calls)for(let e of _.tool_calls){let t=e.index;if(null==l[t]){if("function"!==e.type)throw new z({data:e,message:"Expected 'function' type."});if(null==e.id)throw new z({data:e,message:"Expected 'id' to be a string."});if((null==(n=e.function)?void 0:n.name)==null)throw new z({data:e,message:"Expected 'function.name' to be a string."});l[t]={id:e.id,type:"function",function:{name:e.function.name,arguments:null!=(a=e.function.arguments)?a:""}};let u=l[t];if(null==u)throw Error("Tool call is missing");(null==(i=u.function)?void 0:i.name)!=null&&(null==(o=u.function)?void 0:o.arguments)!=null&&eR(u.function.arguments)&&(r.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:u.id,toolName:u.function.name,argsTextDelta:u.function.arguments}),r.enqueue({type:"tool-call",toolCallType:"function",toolCallId:null!=(s=u.id)?s:e_(),toolName:u.function.name,args:u.function.arguments}));continue}let u=l[t];if(null==u)throw Error("Tool call is missing");(null==(d=e.function)?void 0:d.arguments)!=null&&(u.function.arguments+=null!=(p=null==(f=e.function)?void 0:f.arguments)?p:""),r.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:u.id,toolName:u.function.name,argsTextDelta:null!=(h=e.function.arguments)?h:""}),(null==(m=u.function)?void 0:m.name)!=null&&(null==(y=u.function)?void 0:y.arguments)!=null&&eR(u.function.arguments)&&r.enqueue({type:"tool-call",toolCallType:"function",toolCallId:null!=(g=u.id)?g:e_(),toolName:u.function.name,args:u.function.arguments})}},flush(e){e.enqueue({type:"finish",finishReason:u,logprobs:t,usage:c})}})),rawCall:{rawPrompt:o,rawSettings:s},rawResponse:{headers:n},warnings:[]}}},e5=eH.z.object({choices:eH.z.array(eH.z.object({message:eH.z.object({role:eH.z.literal("assistant"),content:eH.z.string().nullable().optional(),tool_calls:eH.z.array(eH.z.object({id:eH.z.string().optional().nullable(),type:eH.z.literal("function"),function:eH.z.object({name:eH.z.string(),arguments:eH.z.string()})})).optional()}),index:eH.z.number(),logprobs:eH.z.object({content:eH.z.array(eH.z.object({token:eH.z.string(),logprob:eH.z.number(),top_logprobs:eH.z.array(eH.z.object({token:eH.z.string(),logprob:eH.z.number()}))})).nullable()}).nullable().optional(),finish_reason:eH.z.string().optional().nullable()})),usage:eH.z.object({prompt_tokens:eH.z.number(),completion_tokens:eH.z.number()})}),e7=eH.z.union([eH.z.object({choices:eH.z.array(eH.z.object({delta:eH.z.object({role:eH.z.enum(["assistant"]).optional(),content:eH.z.string().nullish(),tool_calls:eH.z.array(eH.z.object({index:eH.z.number(),id:eH.z.string().nullish(),type:eH.z.literal("function").optional(),function:eH.z.object({name:eH.z.string().nullish(),arguments:eH.z.string().nullish()})})).nullish()}).nullish(),logprobs:eH.z.object({content:eH.z.array(eH.z.object({token:eH.z.string(),logprob:eH.z.number(),top_logprobs:eH.z.array(eH.z.object({token:eH.z.string(),logprob:eH.z.number()}))})).nullable()}).nullish(),finish_reason:eH.z.string().nullable().optional(),index:eH.z.number()})),usage:eH.z.object({prompt_tokens:eH.z.number(),completion_tokens:eH.z.number()}).nullish()}),e9]);function te(e){var t;let r=(null==(t=e.tools)?void 0:t.length)?e.tools:void 0;if(null==r)return{tools:void 0,tool_choice:void 0};let n=r.map(e=>e8(e)?{type:"function",function:{name:e.name,description:e.description,parameters:e.parameters}}:{type:"function",function:{name:e.name}}),a=e.toolChoice;if(null==a)return{tools:n,tool_choice:void 0};let i=a.type;switch(i){case"auto":case"none":case"required":return{tools:n,tool_choice:i};case"tool":return{tools:n,tool_choice:{type:"function",function:{name:a.toolName}}};default:{let e=i;throw Error(`Unsupported tool choice type: ${e}`)}}}function tt({prompt:e,inputFormat:t,user:r="user",assistant:n="assistant"}){if("prompt"===t&&1===e.length&&e[0]&&"user"===e[0].role&&1===e[0].content.length&&e[0].content[0]&&"text"===e[0].content[0].type)return{prompt:e[0].content[0].text};let a="";for(let{role:t,content:i}of(e[0]&&"system"===e[0].role&&(a+=`${e[0].content}

`,e=e.slice(1)),e))switch(t){case"system":throw new L({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{let e=i.map(e=>{switch(e.type){case"text":return e.text;case"image":throw new el({functionality:"images"});case"file":throw new el({functionality:"file attachments"});default:{let t=e;throw Error(`Unsupported content type: ${t}`)}}}).join("");a+=`${r}:
${e}

`;break}case"assistant":{let e=i.map(e=>{switch(e.type){case"text":return e.text;case"tool-call":throw new el({functionality:"tool-call messages"});default:{let t=e;throw Error(`Unsupported content type: ${t}`)}}}).join("");a+=`${n}:
${e}

`;break}case"tool":throw new el({functionality:"tool messages"});default:{let e=t;throw Error(`Unsupported role: ${e}`)}}return{prompt:a+=`${n}:
`,stopSequences:[`
${r}:`]}}function tr(e){return null==e?void 0:e.tokens.map((t,r)=>{var n,a;return{token:t,logprob:null!=(n=e.token_logprobs[r])?n:0,topLogprobs:e.top_logprobs?Object.entries(null!=(a=e.top_logprobs[r])?a:{}).map(([e,t])=>({token:e,logprob:t})):[]}})}var tn=class{constructor(e,t,r){this.specificationVersion="v1",this.defaultObjectGenerationMode=void 0,this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}getArgs({mode:e,inputFormat:t,prompt:r,maxTokens:n,temperature:a,topP:i,frequencyPenalty:o,presencePenalty:s,seed:l}){var u;let c=e.type,{prompt:d,stopSequences:f}=tt({prompt:r,inputFormat:t}),p=eX({model:this.modelId,models:this.settings.models,echo:this.settings.echo,logit_bias:this.settings.logitBias,logprobs:"number"==typeof this.settings.logprobs?this.settings.logprobs:"boolean"==typeof this.settings.logprobs&&this.settings.logprobs?0:void 0,suffix:this.settings.suffix,user:this.settings.user,max_tokens:n,temperature:a,top_p:i,frequency_penalty:o,presence_penalty:s,seed:l,prompt:d,stop:f},this.config.extraBody);switch(c){case"regular":if(null==(u=e.tools)?void 0:u.length)throw new el({functionality:"tools"});if(e.toolChoice)throw new el({functionality:"toolChoice"});return p;case"object-json":throw new el({functionality:"object-json mode"});case"object-tool":throw new el({functionality:"object-tool mode"});default:{let e=c;throw new el({functionality:`${e} mode`})}}}async doGenerate(e){let t=this.getArgs(e),{responseHeaders:r,value:n}=await ej({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:ev(this.config.headers(),e.headers),body:t,failedResponseHandler:e4,successfulResponseHandler:eB(ta),abortSignal:e.abortSignal,fetch:this.config.fetch}),a=t,{prompt:i}=a,o=e0(a,["prompt"]),s=n.choices[0];if(!s)throw Error("No choice in OpenRouter completion response");return{text:s.text,usage:{promptTokens:n.usage.prompt_tokens,completionTokens:n.usage.completion_tokens},finishReason:e3(s.finish_reason),logprobs:tr(s.logprobs),rawCall:{rawPrompt:i,rawSettings:o},rawResponse:{headers:r},warnings:[]}}async doStream(e){let t,r=this.getArgs(e),{responseHeaders:n,value:a}=await ej({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:ev(this.config.headers(),e.headers),body:eQ(eX({},this.getArgs(e)),{stream:!0,stream_options:"strict"===this.config.compatibility?{include_usage:!0}:void 0}),failedResponseHandler:e4,successfulResponseHandler:eD(ti),abortSignal:e.abortSignal,fetch:this.config.fetch}),i=r,{prompt:o}=i,s=e0(i,["prompt"]),l="other",u={promptTokens:Number.NaN,completionTokens:Number.NaN};return{stream:a.pipeThrough(new TransformStream({transform(e,r){if(!e.success){l="error",r.enqueue({type:"error",error:e.error});return}let n=e.value;if("error"in n){l="error",r.enqueue({type:"error",error:n.error});return}null!=n.usage&&(u={promptTokens:n.usage.prompt_tokens,completionTokens:n.usage.completion_tokens});let a=n.choices[0];(null==a?void 0:a.finish_reason)!=null&&(l=e3(a.finish_reason)),(null==a?void 0:a.text)!=null&&r.enqueue({type:"text-delta",textDelta:a.text});let i=tr(null==a?void 0:a.logprobs);(null==i?void 0:i.length)&&(void 0===t&&(t=[]),t.push(...i))},flush(e){e.enqueue({type:"finish",finishReason:l,logprobs:t,usage:u})}})),rawCall:{rawPrompt:o,rawSettings:s},rawResponse:{headers:n},warnings:[]}}},ta=eH.z.object({choices:eH.z.array(eH.z.object({text:eH.z.string(),finish_reason:eH.z.string(),logprobs:eH.z.object({tokens:eH.z.array(eH.z.string()),token_logprobs:eH.z.array(eH.z.number()),top_logprobs:eH.z.array(eH.z.record(eH.z.string(),eH.z.number())).nullable()}).nullable().optional()})),usage:eH.z.object({prompt_tokens:eH.z.number(),completion_tokens:eH.z.number()})}),ti=eH.z.union([eH.z.object({choices:eH.z.array(eH.z.object({text:eH.z.string(),finish_reason:eH.z.string().nullish(),index:eH.z.number(),logprobs:eH.z.object({tokens:eH.z.array(eH.z.string()),token_logprobs:eH.z.array(eH.z.number()),top_logprobs:eH.z.array(eH.z.record(eH.z.string(),eH.z.number())).nullable()}).nullable().optional()})),usage:eH.z.object({prompt_tokens:eH.z.number(),completion_tokens:eH.z.number()}).optional().nullable()}),e9]);function to(e={}){var t,r,n;let a=null!=(r=eZ(null!=(t=e.baseURL)?t:e.baseUrl))?r:"https://openrouter.ai/api/v1",i=null!=(n=e.compatibility)?n:"compatible",o=()=>eX({Authorization:`Bearer ${eS({apiKey:e.apiKey,environmentVariableName:"OPENROUTER_API_KEY",description:"OpenRouter"})}`},e.headers),s=(t,r={})=>new e6(t,r,{provider:"openrouter.chat",url:({path:e})=>`${a}${e}`,headers:o,compatibility:i,fetch:e.fetch,extraBody:e.extraBody}),l=(t,r={})=>new tn(t,r,{provider:"openrouter.completion",url:({path:e})=>`${a}${e}`,headers:o,compatibility:i,fetch:e.fetch,extraBody:e.extraBody}),u=(e,t)=>{if(new.target)throw Error("The OpenRouter model function cannot be called with the new keyword.");return"openai/gpt-3.5-turbo-instruct"===e?l(e,t):s(e,t)},c=function(e,t){return u(e,t)};return c.languageModel=u,c.chat=s,c.completion=l,c}to({compatibility:"strict"})},96751:(e,t,r)=>{"use strict";let n=r(77721);e.exports=(e,t)=>new n(e,t).minor},96779:(e,t,r)=>{"use strict";var n=r(3387),a="undefined"==typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof a[n[t]]&&(e[e.length]=n[t]);return e}},96790:e=>{"use strict";let t=/^[0-9]+$/,r=(e,r)=>{let n=t.test(e),a=t.test(r);return n&&a&&(e*=1,r*=1),e===r?0:n&&!a?-1:a&&!n?1:e<r?-1:1},n=(e,t)=>r(t,e);e.exports={compareIdentifiers:r,rcompareIdentifiers:n}},97036:(e,t,r)=>{"use strict";var n=r(85761),a=r(5387);e.exports={formats:r(32236),parse:a,stringify:n}},98088:(e,t,r)=>{"use strict";r.d(t,{A:()=>g});var n=r(1983),a=r(99410);function i(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var o=r(38985),s=r(55729),l=r(5440);function u(e,t){var r=function(e){return t&&(0,s.isValidElement)(e)?t(e):e},n=Object.create(null);return e&&s.Children.map(e,function(e){return e}).forEach(function(e){n[e.key]=r(e)}),n}function c(e,t){function r(r){return r in t?t[r]:e[r]}e=e||{},t=t||{};var n,a=Object.create(null),i=[];for(var o in e)o in t?i.length&&(a[o]=i,i=[]):i.push(o);var s={};for(var l in t){if(a[l])for(n=0;n<a[l].length;n++){var u=a[l][n];s[a[l][n]]=r(u)}s[l]=r(l)}for(n=0;n<i.length;n++)s[i[n]]=r(i[n]);return s}function d(e,t,r){return null!=r[t]?r[t]:e.props[t]}function f(e,t){return u(e.children,function(r){return(0,s.cloneElement)(r,{onExited:t.bind(null,r),in:!0,appear:d(r,"appear",e),enter:d(r,"enter",e),exit:d(r,"exit",e)})})}function p(e,t,r){var n=u(e.children),a=c(t,n);return Object.keys(a).forEach(function(i){var o=a[i];if((0,s.isValidElement)(o)){var l=i in t,u=i in n,c=t[i],f=(0,s.isValidElement)(c)&&!c.props.in;u&&(!l||f)?a[i]=(0,s.cloneElement)(o,{onExited:r.bind(null,o),in:!0,exit:d(o,"exit",e),enter:d(o,"enter",e)}):u||!l||f?u&&l&&(0,s.isValidElement)(c)&&(a[i]=(0,s.cloneElement)(o,{onExited:r.bind(null,o),in:c.props.in,exit:d(o,"exit",e),enter:d(o,"enter",e)})):a[i]=(0,s.cloneElement)(o,{in:!1})}}),a}var h=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},m={component:"div",childFactory:function(e){return e}},y=function(e){function t(t,r){var n=e.call(this,t,r)||this,a=n.handleExited.bind(i(n));return n.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},n}(0,o.A)(t,e);var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var r=t.children,n=t.handleExited;return{children:t.firstRender?f(e,n):p(e,r,n),firstRender:!1}},r.handleExited=function(e,t){var r=u(this.props.children);e.key in r||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var r=(0,a.A)({},t.children);return delete r[e.key],{children:r}}))},r.render=function(){var e=this.props,t=e.component,r=e.childFactory,a=(0,n.A)(e,["component","childFactory"]),i=this.state.contextValue,o=h(this.state.children).map(r);return(delete a.appear,delete a.enter,delete a.exit,null===t)?s.createElement(l.A.Provider,{value:i},o):s.createElement(l.A.Provider,{value:i},s.createElement(t,a,o))},t}(s.Component);y.propTypes={},y.defaultProps=m;let g=y},98516:(e,t,r)=>{"use strict";var n=Function.prototype.call,a=Object.prototype.hasOwnProperty;e.exports=r(14274).call(n,a)},98886:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,t.locales=void 0;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i={"am-AM":/^(\+?374|0)(33|4[134]|55|77|88|9[13-689])\d{6}$/,"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-BH":/^(\+?973)?(3|6)\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-LB":/^(\+?961)?((3|81)\d{6}|7\d{7})$/,"ar-EG":/^((\+?20)|0)?1[0125]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)([569]\d{7}|41\d{6})$/,"ar-LY":/^((\+?218)|0)?(9[1-6]\d{7}|[1-8]\d{7,9})$/,"ar-MA":/^(?:(?:\+|00)212|0)[5-7]\d{8}$/,"ar-OM":/^((\+|00)968)?(9[1-9])\d{6}$/,"ar-PS":/^(\+?970|0)5[6|9](\d{7})$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SD":/^((\+?249)|0)?(9[012369]|1[012])\d{7}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"az-AZ":/^(\+994|0)(10|5[015]|7[07]|99)\d{7}$/,"bs-BA":/^((((\+|00)3876)|06))((([0-3]|[5-6])\d{6})|(4\d{7}))$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/^(\+?880|0)1[13456789][0-9]{8}$/,"ca-AD":/^(\+376)?[346]\d{5}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^((\+49|0)1)(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7,9}$/,"de-AT":/^(\+43|0)\d{1,4}\d{3,12}$/,"de-CH":/^(\+41|0)([1-9])\d{1,9}$/,"de-LU":/^(\+352)?((6\d1)\d{6})$/,"dv-MV":/^(\+?960)?(7[2-9]|9[1-9])\d{5}$/,"el-GR":/^(\+?30|0)?6(8[5-9]|9(?![26])[0-9])\d{7}$/,"el-CY":/^(\+?357?)?(9(9|6)\d{6})$/,"en-AI":/^(\+?1|0)264(?:2(35|92)|4(?:6[1-2]|76|97)|5(?:3[6-9]|8[1-4])|7(?:2(4|9)|72))\d{4}$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-AG":/^(?:\+1|1)268(?:464|7(?:1[3-9]|[28]\d|3[0246]|64|7[0-689]))\d{4}$/,"en-BM":/^(\+?1)?441(((3|7)\d{6}$)|(5[0-3][0-9]\d{4}$)|(59\d{5}$))/,"en-BS":/^(\+?1[-\s]?|0)?\(?242\)?[-\s]?\d{3}[-\s]?\d{4}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-GG":/^(\+?44|0)1481\d{6}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|28|55|59)\d{7}$/,"en-GY":/^(\+592|0)6\d{6}$/,"en-HK":/^(\+?852[-\s]?)?[456789]\d{3}[-\s]?\d{4}$/,"en-MO":/^(\+?853[-\s]?)?[6]\d{3}[-\s]?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-JM":/^(\+?876)?\d{7}$/,"en-KE":/^(\+?254|0)(7|1)\d{8}$/,"fr-CF":/^(\+?236| ?)(70|75|77|72|21|22)\d{6}$/,"en-SS":/^(\+?211|0)(9[1257])\d{7}$/,"en-KI":/^((\+686|686)?)?( )?((6|7)(2|3|8)[0-9]{6})$/,"en-KN":/^(?:\+1|1)869(?:46\d|48[89]|55[6-8]|66\d|76[02-7])\d{4}$/,"en-LS":/^(\+?266)(22|28|57|58|59|27|52)\d{6}$/,"en-MT":/^(\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-MW":/^(\+?265|0)(((77|88|31|99|98|21)\d{7})|(((111)|1)\d{6})|(32000\d{4}))$/,"en-NA":/^(\+?264|0)(6|8)\d{7}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PG":/^(\+?675|0)?(7\d|8[18])\d{6}$/,"en-PK":/^((00|\+)?92|0)3[0-6]\d{8}$/,"en-PH":/^(09|\+639)\d{9}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[3689]\d{7}$/,"en-SL":/^(\+?232|0)\d{8}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"en-ZW":/^(\+263)[0-9]{9}$/,"en-BW":/^(\+?267)?(7[1-8]{1})\d{6}$/,"es-AR":/^\+?549(11|[2368]\d)\d{8}$/,"es-BO":/^(\+?591)?(6|7)\d{7}$/,"es-CO":/^(\+?57)?3(0(0|1|2|4|5)|1\d|2[0-4]|5(0|1))\d{7}$/,"es-CL":/^(\+?56|0)[2-9]\d{1}\d{7}$/,"es-CR":/^(\+506)?[2-8]\d{7}$/,"es-CU":/^(\+53|0053)?5\d{7}$/,"es-DO":/^(\+?1)?8[024]9\d{7}$/,"es-HN":/^(\+?504)?[9|8|3|2]\d{7}$/,"es-EC":/^(\+?593|0)([2-7]|9[2-9])\d{7}$/,"es-ES":/^(\+?34)?[6|7]\d{8}$/,"es-PE":/^(\+?51)?9\d{8}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-NI":/^(\+?505)\d{7,8}$/,"es-PA":/^(\+?507)\d{7,8}$/,"es-PY":/^(\+?595|0)9[9876]\d{7}$/,"es-SV":/^(\+?503)?[67]\d{7}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"es-VE":/^(\+?58)?(2|4)\d{9}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4[0-6]|50)\s?(\d\s?){4,8}$/,"fj-FJ":/^(\+?679)?\s?\d{3}\s?\d{4}$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-BF":/^(\+226|0)[67]\d{7}$/,"fr-BJ":/^(\+229)\d{8}$/,"fr-CD":/^(\+?243|0)?(8|9)\d{8}$/,"fr-CM":/^(\+?237)6[0-9]{8}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"fr-GF":/^(\+?594|0|00594)[67]\d{8}$/,"fr-GP":/^(\+?590|0|00590)[67]\d{8}$/,"fr-MQ":/^(\+?596|0|00596)[67]\d{8}$/,"fr-PF":/^(\+?689)?8[789]\d{6}$/,"fr-RE":/^(\+?262|0|00262)[67]\d{8}$/,"fr-WF":/^(\+681)?\d{6}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36|06)(20|30|31|50|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"ir-IR":/^(\+98|0)?9\d{9}$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"it-SM":/^((\+378)|(0549)|(\+390549)|(\+3780549))?6\d{5,9}$/,"ja-JP":/^(\+81[ \-]?(\(0\))?|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"ka-GE":/^(\+?995)?(79\d{7}|5\d{8})$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"ky-KG":/^(\+?7\s?\+?7|0)\s?\d{2}\s?\d{3}\s?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"lv-LV":/^(\+?371)2\d{7}$/,"mg-MG":/^((\+?261|0)(2|3)\d)?\d{7}$/,"mn-MN":/^(\+|00|011)?976(77|81|88|91|94|95|96|99)\d{6}$/,"my-MM":/^(\+?959|09|9)(2[5-7]|3[1-2]|4[0-5]|6[6-9]|7[5-9]|9[6-9])[0-9]{7}$/,"ms-MY":/^(\+?60|0)1(([0145](-|\s)?\d{7,8})|([236-9](-|\s)?\d{7}))$/,"mz-MZ":/^(\+?258)?8[234567]\d{7}$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"ne-NP":/^(\+?977)?9[78]\d{8}$/,"nl-BE":/^(\+?32|0)4\d{8}$/,"nl-NL":/^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,"nl-AW":/^(\+)?297(56|59|64|73|74|99)\d{5}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?([5-8]\d|45) ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[1-9]{1}\d{3}\-?\d{4}))$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"pt-AO":/^(\+244)\d{9}$/,"ro-MD":/^(\+?373|0)((6(0|1|2|6|7|8|9))|(7(6|7|8|9)))\d{6}$/,"ro-RO":/^(\+?40|0)\s?7\d{2}(\/|\s|\.|-)?\d{3}(\s|\.|-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"si-LK":/^(?:0|94|\+94)?(7(0|1|2|4|5|6|7|8)( |-)?)\d{7}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"so-SO":/^(\+?252|0)((6[0-9])\d{7}|(7[1-9])\d{7})$/,"sq-AL":/^(\+355|0)6[789]\d{6}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"tg-TJ":/^(\+?992)?[5][5]\d{7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"tk-TM":/^(\+993|993|8)\d{8}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"uz-UZ":/^(\+?998)?(6[125-79]|7[1-69]|88|9\d)\d{7}$/,"vi-VN":/^((\+?84)|0)((3([2-9]))|(5([25689]))|(7([0|6-9]))|(8([1-9]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?(1[3-9]|9[28])\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/,"dz-BT":/^(\+?975|0)?(17|16|77|02)\d{6}$/,"ar-YE":/^(((\+|00)9677|0?7)[0137]\d{7}|((\+|00)967|0)[1-7]\d{6})$/,"ar-EH":/^(\+?212|0)[\s\-]?(5288|5289)[\s\-]?\d{5}$/,"fa-AF":/^(\+93|0)?(2{1}[0-8]{1}|[3-5]{1}[0-4]{1})(\d{7})$/};function o(e,t,r){if((0,n.default)(e),r&&r.strictMode&&!e.startsWith("+"))return!1;if(Array.isArray(t))return t.some(function(t){return!!(i.hasOwnProperty(t)&&i[t].test(e))||!1});if(t in i)return i[t].test(e);if(!t||"any"===t){for(var a in i)if(i.hasOwnProperty(a)&&i[a].test(e))return!0;return!1}throw Error("Invalid locale '".concat(t,"'"))}i["en-CA"]=i["en-US"],i["fr-CA"]=i["en-CA"],i["fr-BE"]=i["nl-BE"],i["zh-HK"]=i["en-HK"],i["zh-MO"]=i["en-MO"],i["ga-IE"]=i["en-IE"],i["fr-CH"]=i["de-CH"],i["it-CH"]=i["fr-CH"],t.locales=Object.keys(i)},99410:(e,t,r)=>{"use strict";function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}r.d(t,{A:()=>n})},99834:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=b;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i="([A-Za-z]{3}(-[A-Za-z]{3}){0,2})",o="(([a-zA-Z]{2,3}(-".concat(i,")?)|([a-zA-Z]{5,8}))"),s="([A-Za-z]{4})",l="([A-Za-z]{2}|\\d{3})",u="([A-Za-z0-9]{5,8}|(\\d[A-Z-a-z0-9]{3}))",c="(\\d|[A-W]|[Y-Z]|[a-w]|[y-z])",d="(".concat(c,"(-[A-Za-z0-9]{2,8})+)"),f="(x(-[A-Za-z0-9]{1,8})+)",p="((en-GB-oed)|(i-ami)|(i-bnn)|(i-default)|(i-enochian)|(i-hak)|(i-klingon)|(i-lux)|(i-mingo)|(i-navajo)|(i-pwn)|(i-tao)|(i-tay)|(i-tsu)|(sgn-BE-FR)|(sgn-BE-NL)|(sgn-CH-DE))",h="((art-lojban)|(cel-gaulish)|(no-bok)|(no-nyn)|(zh-guoyu)|(zh-hakka)|(zh-min)|(zh-min-nan)|(zh-xiang))",m="(".concat(p,"|").concat(h,")"),y="(-|_)",g="".concat(o,"(").concat(y).concat(s,")?(").concat(y).concat(l,")?(").concat(y).concat(u,")*(").concat(y).concat(d,")*(").concat(y).concat(f,")?"),v=new RegExp("(^".concat(f,"$)|(^").concat(m,"$)|(^").concat(g,"$)"));function b(e){return(0,n.default)(e),v.test(e)}e.exports=t.default,e.exports.default=t.default},99931:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=a(r(79922));function a(e){return e&&e.__esModule?e:{default:e}}var i={1:/^[0-9A-F]{8}-[0-9A-F]{4}-1[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,2:/^[0-9A-F]{8}-[0-9A-F]{4}-2[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,7:/^[0-9A-F]{8}-[0-9A-F]{4}-7[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};function o(e,t){(0,n.default)(e);var r=i[![void 0,null].includes(t)?t:"all"];return!!r&&r.test(e)}e.exports=t.default,e.exports.default=t.default}}]);